<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>3 Data structures |  Analysing Quantitative Data with R  </title>
<meta name="generator" content="bookdown 0.43 with bs4_book()">
<meta property="og:title" content="3 Data structures |  Analysing Quantitative Data with R  ">
<meta property="og:type" content="book">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="3 Data structures |  Analysing Quantitative Data with R  ">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/Lexend-0.4.10/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.9.0/transition.js"></script><script src="libs/bs3compat-0.9.0/tabs.js"></script><script src="libs/bs3compat-0.9.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/font-awesome-6.7.2/js/script.js"></script><link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.33/datatables.js"></script><link href="libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
<meta name="description" content="Chapter script Chapter markdown Chapter exercises Chapter data  3.1 Content The the previous chapter you have become familiar with the most common data structure in R programming - a vector. In...">
<meta property="og:description" content="Chapter script Chapter markdown Chapter exercises Chapter data  3.1 Content The the previous chapter you have become familiar with the most common data structure in R programming - a vector. In...">
<meta name="twitter:description" content="Chapter script Chapter markdown Chapter exercises Chapter data  3.1 Content The the previous chapter you have become familiar with the most common data structure in R programming - a vector. In...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title=""><p><img src="images/Crest_white.png" width="75" style="display:block; margin:auto; margin-bottom:3em;"> Analysing Quantitative Data with R <br></p></a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="" href="accessibility.html">Accessibility</a></li>
<li class="book-part">THE BASICS</li>
<li><a class="" href="introduction.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="" href="basics.html"><span class="header-section-number">2</span> Basics of R Programming</a></li>
<li><a class="active" href="datastructures.html"><span class="header-section-number">3</span> Data structures</a></li>
<li><a class="" href="exploratory.html"><span class="header-section-number">4</span> Exploratory Data Analysis</a></li>
<li class="book-part">ADVANCED DATA MANIPULATION</li>
<li><a class="" href="programming.html"><span class="header-section-number">5</span> Key Programming Concepts</a></li>
<li><a class="" href="dplyr.html"><span class="header-section-number">6</span> Data Manipulation</a></li>
<li><a class="" href="visualization.html"><span class="header-section-number">7</span> Data Visualization</a></li>
<li class="book-part">DATA ANALYSIS</li>
<li><a class="" href="association.html"><span class="header-section-number">8</span> Statistical Inference and Association</a></li>
<li><a class="" href="ols.html"><span class="header-section-number">9</span> Linear Regression</a></li>
<li><a class="" href="logit.html"><span class="header-section-number">10</span> Logistic Regression</a></li>
<li class="book-part">ADVANCED TOPICS</li>
<li><a class="" href="rmarkdown.html"><span class="header-section-number">11</span> R Markdown</a></li>
<li><a class="" href="course-summary.html"><span class="header-section-number">12</span> Course summary</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><script src="sidebar-link.js"></script><div id="datastructures" class="section level1" number="3">
<h1>
<span class="header-section-number">3</span> Data structures<a class="anchor" aria-label="anchor" href="#datastructures"><i class="fas fa-link"></i></a>
</h1>
<button class="btn btn-default" onclick="
    async function downloadFile(event) {
      event.preventDefault();
      try {
        const response = await fetch('data:text/plain;base64,IycgIyBEYXRhIHN0cnVjdHVyZXMgCgojJyAKIycgCiMnIAojJyAKIycgIyMgQ29udGVudAojJyAKIycgCiMnIFRoZSB0aGUgcHJldmlvdXMgY2hhcHRlciB5b3UgaGF2ZSBiZWNvbWUgZmFtaWxpYXIgd2l0aCB0aGUgbW9zdCBjb21tb24gZGF0YSBzdHJ1Y3R1cmUgaW4gUiBwcm9ncmFtbWluZyAtIGEgdmVjdG9yLiBJbiB0aGlzIHNlY3Rpb24sIHlvdSB3aWxsIGJlIGludHJvZHVjZWQgdG8gc29tZSBtb3JlIGFkdmFuY2VkIGRhdGEgc3RydWN0dXJlcyB0aGF0IGFyZSBvZnRlbiB1c2VkIGluIFIsIGluIHBhcnRpY3VsYXIgdGhlIGBkYXRhLmZyYW1lYCwgd2hpY2ggaXMgdGhlIG1vc3QgY29tbW9uIHdheSBvZiBzdG9yaW5nIGFuZCBtYW5pcHVsYXRpbmcgZGF0YSBpbiBSLgojJyAKIycgR2VuZXJhbGx5LCB0aGUgYmVzdCB3YXkgdG8gZXhhbWluZSBhbnkgUiBvYmplY3QgaXMgdXNpbmcgdGhlIGBzdHIoKWAgZnVuY3Rpb24sIHdoaWNoIHJldHVybnMgY29udGVudHMgb2YgdGhlIG9iamVjdCBhbG9uZyB3aXRoIGl0cyBjbGFzcy4gRm9yIGV4YW1wbGUgeW91IGNhbiBjaGVjayBob3cgaXQgd29ya3MgZm9yIHNpbXBsZSB2ZWN0b3JzCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KbnVtYmVycyA8LSBjKDUsIDMsIDgpCnN0cihudW1iZXJzKQoKIycgCiMnIGBudW1gIGluZGljYXRlcyB0aGF0IGl0IGlzIGFuIGludGVnZXIgdmVjdG9yIGFuZCBgWzE6M11gIHRlbGxzIHVzIHRoYXQgaXRzIGluZGV4IHJhbmdlcyBmcm9tIDEgdG8gMy4KIycgCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0Kd29yZHMgPC0gYygiZml2ZSIsInRocmVlIiwiZWlnaHQiKQpzdHIod29yZHMpCgojJyAKIycgCiMnICMjIyBEYXRhIEZyYW1lcyAKCiMnIAojJyBJbiB0aGUgcHJldmlvdXMgY2hhcHRlcidzIGV4ZXJjaXNlcyB5b3UndmUgbWFuaXB1bGF0ZWQgZGF0YSByZWxhdGVkIHRvIHNvbWUgYmFzaWMgZGV2ZWxvcG1lbnQgaW5kaWNhdG9ycyBvZiBzZXZlcmFsIGNvdW50cmllcy4gV2hlbiB3ZSdyZSBkZWFsaW5nIHdpdGggbXVsdGlwbGUgdmFyaWFibGVzIHJlcHJlc2VudGVkIGJ5IG11bHRpcGxlIHZlY3RvcnMsIGl0J3Mgb2Z0ZW4gdmVyeSB1c2VmdWwgdG8gc3RvcmUgdGhlbSB0b2VnZXRoZXIgYXMgb25lIGVudGl0eSAtIGEgYGRhdGEuZnJhbWVgLiBEYXRhIGZyYW1lcyBjYW4gc2ltcGx5IGJlIHRob3VnaHQgb2YgYXMgdGFibGVzLCB3aGVyZSBlYWNoIG9mIHRoZSBjb2x1bW5zIGlzIGEgdmVjdG9yIHdpdGggaXRzIHVuaXF1ZSBuYW1lLiBJbiB0aGlzIGNhc2UsIHdlIGNhbiBzdG9yZSB0aGUgaW5mb3JtYXRpb24gYWJvdXQgY291bnRyaWVzIGluIGEgZGF0YSBmcmFtZSBjYWxsZWQgYGRldl9kYXRhYC4gCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KY291bnRyeSA8LSBjKCJBcmdlbnRpbmEiLCAiR2VvcmdpYSIsICJNZXhpY28iLCAKICAgICAgICAgICAgICJQaGlsaXBwaW5lcyIsICJUdXJrZXkiLCAiVWtyYWluZSIpCmV5cyA8LSBjKDE3LjYsIDE1LjQsIDE0LjMsIDEyLjcsIDE2LjQsIDE1LjEpCm15cyA8LSBjKDEwLjYsIDEyLjgsIDguNiwgOS40LCA3LjcsIDExLjMpCmxleHAgPC0gYyg3Ni41LCA3My42LCA3NSwgNzEuMSwgNzcuNCwgNzIpCmduaSA8LSBjKDE3NjExLCA5NTcwLCAxNzYyOCwgOTU0MCwgMjQ5MDUsIDc5OTQpCmRldl9kYXRhIDwtIGRhdGEuZnJhbWUoY291bnRyeSwgZXlzLCBteXMsIGxleHAsIGduaSkKCiMnIAojJyAKIycgV2UgY2FuIHVzZSB0aGUgYGhlYWRgIGZ1bmN0aW9uIHRvIHNlZSB0aGUgZmlyc3QgNSByb3dzIG9mIHRoZSBkYXRhIChpbiB0aGUgdG95IGV4YW1wbGUgd2UgaGF2ZSBhYm92ZSBpdCBtaWdodCBzZWVtIHVubmVjZXNzYXJ5LCBidXQgaXQgaXMgdXNlZnVsIHRvIGdldCBhbiBvdmVydmlldyBvZiBhbGwgdGhlIHZhcmlhYmxlcyB3aGVuIHRoZSBkYXRhIGNvbnNpc3RzIG9mIHBvdGVudGlhbGx5IHRob3VzYW5kcyBvZiByb3dzKS4KIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpoZWFkKGRldl9kYXRhKQoKIycgCiMnIFRoZSBgc3RyKClgIGZ1bmN0aW9uIGlzIGFsc28gdmVyeSB1c2VmdWwgdG8gZ2V0IGFuIG92ZXJ2aWV3IG9mIHRoZSB2YXJpYWJsZXMgaW5jbHVkZWQgaW4gYSBkYXRhZnJhbWU6CiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0Kc3RyKGRldl9kYXRhKQoKIycgCiMnIAojJyBUbyBhY2Nlc3MgYSBjb2x1bW4gc3RvcmVkIGluIGEgZGF0YWZyYW1lLCB5b3UgY2FuIHVzZSB0aGUgYCRgIG9wZXJhdG9yLiAKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZXZfZGF0YSRnbmkKCiMnIAojJyBTaW1pbGFyaWx5LCB3ZSBjYW4gdXNlIHRoZSBzYW1lIG9wZXJhdG9yIHRvIGNyZWF0ZSBhIG5ldyBjb2x1bW46CiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZGV2X2RhdGEkbG9nX2duaSA8LSBsb2coZGV2X2RhdGEkZ25pKQpkZXZfZGF0YSRsb2dfZ25pCgojJyAKIycgQXMgaW4gdGhlIGNhc2Ugb2YgdmVjdG9ycywgZGF0YSBmcmFtZXMgY2FuIGJlIGluZGV4ZWQgdG8gcmV0cmlldmUgdmFsdWVzIHN0b3JlZCBhdCBzcGVjaWZpYyBwb3NpdGlvbnMuIFNpbmNlIGRhdGEgZnJhbWUgaXMgYSB0YWJsZSwgZWFjaCBwb3NpdGlvbiBpbiBhIGRhdGFmcmFtZSBpcyBhc3NvY2lhdGVkIHdpdGggX3R3b18gaW5kaWNlcyAtIG9uZSBmb3Igcm93cywgdGhlIG90aGVyIGZvciBjb2x1bW5zIC0gdGhlIGZpcnN0IGluZGV4IHJlZmVyZW5jZXMgdGhlIHJvdyBhbmQgdGhlIHNlY29uZCB0aGUgY29sdW1uLiBGb3IgZXhhbXBsZSwgdGhlIGNvZGUgYmVsb3cgcmV0cmlldmVzIHRoZSB2YWx1ZSBmcm9tIHRoZSBzZWNvbmQgcm93IGZyb20gdGhlIHRoaXJkIGNvbHVtbiBvZiBgZGV2X2RhdGFgLgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRldl9kYXRhWzIsIDNdCgojJyAKIycgTm90ZSB0aGF0IHRoaXMgaXMgaWRlbnRpY2FsIHRvOgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRldl9kYXRhJG15c1syXQoKIycgCiMnIFRoaXMgaXMgYmVjYXVzZSB0aGUgYG15c2AgaXMgdGhlIHRoaXJkIGNvbHVtbiBpbiBgZGV2X2RhdGFgLgojJyAKIycgQnkgbGVhdmluZyBvbmUgb2YgdGhlIGluZGljZXMgZW1wdHksIHdlIGNhbiBhbHNvIHJldHJpZXZlIGVudGlyZSByb3cvY29sdW1uIG9mIGEgZGF0YSBmcmFtZToKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZXZfZGF0YVsxLCBdICNnZXQgZmlyc3Qgcm93CmRldl9kYXRhWywgMl0gI2dldCBzZWNvbmQgY29sdW1uCgojJyAKIycgRGF0YSBmcmFtZXMgY2FuIGFsc28gYmUgaW5kZXhlZCB3aXRoIGludGVnZXIgdmVjdG9ycy4gU3VjaCBpbmRleGluZyB3aWxsIGFsd2F5cyByZXR1cm4gYSBzbWFsbGVyIGRhdGEgZnJhbWUuIEZvciBleGFtcGxlLCB0byByZXRyaWV2ZSByb3dzIDEgYW5kIDUgZnJvbSBjb2x1bW5zIDIgYW5kIDMsIHdlIGNhbiBkbzoKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZXZfZGF0YVtjKDEsNSksIGMoMiwzKV0KCiMnIAojJyAKIycgU2ltaWxhcmlseSwgY2hhcmFjdGVyIHZlY3RvcnMgcmVmZXJlbmNpbmcgdGhlIGNvbHVtbiBuYW1lcyBjYW4gYmUgdXNlZCB0byBzdWJzZXQgYSBkYXRhZnJhbWUuIFRvIGFjaGlldmUgc2ltaWxhciByZXN1bHQgdG8gdGhlIG9uZSBhYm92ZSwgb25lIGNvdWxkIGFsc28gdHlwZToKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZXZfZGF0YVtjKDEsNSksIGMoImV5cyIsIm15cyIpXQoKIycgCiMnIAojJyBXZSBjYW4gYWxzbyB1c2UgbG9naWNhbCBpbmRleGluZyB0byBzdWJzZXQgZGF0YWZyYW1lcy4gUmVjYWxsIGZyb20gdGhlIHByZXZpb3VzICBjaGFwdGVyLCB0aGF0IHdlIGNhbiBjaGVjayB3aGljaCB2YWx1ZXMgb2YgYSBnaXZlbiB2ZWN0b3Igc2F0aXNmeSBhIGNlcnRhaW4gY29uZGl0aW9uIGJ5OgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRldl9kYXRhJGduaSA+IDEwMDAwCgojJyAKIycgCiMnIFdlIGNhbiB0aGVuIHVzZSB0aGUgb3V0cHV0IGdlbmVyYXRlZCBieSB0aGUgYWJvdmUgY29kZSB0byBpbmRleCB0aGUgYGRldl9kYXRhYCBkYXRhIGZyYW1lIGFuZCBvYnRhaW4gdGhlIHJvd3Mgd2l0aCBnbmkgcGVyIGNhcGl0YSBsYXJnZXIgdGhhbiAxMDAwMDoKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZXZfZGF0YVtkZXZfZGF0YSRnbmkgPiAxMDAwMCwgXQoKIycgCiMnIAojJyAKIycgCiMnIFRoZXJlIGFyZSBtYW55IHVzZWZ1bCBmdW5jdGlvbnMgdGhhdCB3b3JrIGluIGNvbWJpbmF0aW9uIHdpdGggZGF0YSBmcmFtZXMuIEJlbG93LCB0aGVyZSBhcmUgc2V2ZXJhbCBleGFtcGxlczogCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KaXMuZGF0YS5mcmFtZShkZXZfZGF0YSkgI2NoZWNrIGlmIGFuIG9iamVjdCBpcyBvZiBjbGFzcyBgZGF0YS5mcmFtZWAKbnJvdyhkZXZfZGF0YSkgI251bWJlciBvZiByb3dzCm5jb2woZGV2X2RhdGEpICNudW1iZXIgb2YgY29sdW1ucwpjb2xuYW1lcyhkZXZfZGF0YSkgI2NvbHVtbiBuYW1lcwpyb3duYW1lcyhkZXZfZGF0YSkgI3JvdyBuYW1lcwoKIycgCiMnIFRoZSBgd2l0aGAgY29tbWFuZCBhbGxvd3MgdG8gZXZhbHVhdGUgY29sdW1uIG5hbWVzIF9pbiB0aGUgY29udGV4dCBvZiBhIGdpdmVuIGRhdGEgZnJhbWVfLiBUaGlzIG1lYW5zLCB0aGF0IHdlIGRvIG5vdCBoYXZlIHRvIHJlZmVyZW5jZSB0aGUgZGF0YSBmcmFtZSBuYW1lIHdoZW5ldmVyIHdlIHVzZSBvbmUgb2YgaXRzIGNvbHVtbnMuIFN1cHBvc2Ugd2Ugd2FudGVkIHRvIGNhbGN1bGF0ZSB0aGUgVU4ncyAqRWR1Y2F0aW9uIEluZGV4KiBhcyBpbiB0aGUgcHJldmlvdXMgc2VjdGlvbidzIGV4ZXJjaXNlcyBhbmQgYXNzaWduIGl0J3MgdmFsdWVzIHRvIGEgbmV3IGNvbHVtbiBpbiBgZGV2X2RhdGFgLCBgZGV2X2RhdGEkZWR1X2luZGAuIFRoaXMgY291bGQgYmUgZG9uZSBieToKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZXZfZGF0YSRlZHVfaW5kIDwtIChkZXZfZGF0YSRteXMgLyAxNSArIGRldl9kYXRhJGV5cyAvIDE4KS8yCgojJyAKIycgSG93ZXZlciwgaW4gbWFueSBjaXJjdW1zdGFuY2VzIHRoaXMgd2lsbCByZXF1aXJlIHlvdSB0byByZWZlcmVuY2UgdGhlIG5hbWUgb2YgdGhlIGRhdGEgZnJhbWUgeW91IGFyZSB1c2luZyBtdWx0aXBsZSB0aW1lcywgb2Z0ZW4gbWFraW5nIHRoZSBjb2RlIGxvbmcgYW5kIHVucmVhZGFibGUuIFRvIGF2b2lkIGl0LCBpdCdzIG9mdGVuIHVzZWZ1bCB0byBkbzoKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZXZfZGF0YSRlZHVfaW5kIDwtIHdpdGgoZGV2X2RhdGEsIChteXMgLyAxNSArIGV5cyAvIDE4KS8yKQoKIycgCiMnIAojJyBUaGUgYHdpdGhgIGZ1bmN0aW9uIHRha2VzIG5hbWUgb2YgdGhlIGRhdGFmcmFtZSBhcyBpdHMgZmlyc3QgYXJndW1lbnQgYW5kIHRoZSBvcGVyYXRpb24geW91IHdhbnQgdG8gcGVyZm9ybSBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LgojJyAKIycgU2ltaWxhcmlseSwgdG8gc3Vic2V0IGEgZGF0YWZyYW1lIGJ5IG11bHRpcGxlIHZhcmlhYmxlcywgdGhlIGBzdWJzZXQoKWAgY29tbWFuZCBjYW4gYmUgdXNlZDoKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZXZfZGF0YVtkZXZfZGF0YSRleXMgPiAxNSAmIGRldl9kYXRhJGxleHAgPiA3NSwgXQpzdWJzZXQoZGV2X2RhdGEsIGV5cyA+IDE1ICYgbGV4cCA+IDc1KQoKIycgCiMnIAojJyAKIycgCiMnIAojJyAjIyMgRmFjdG9ycyAKCiMnIAojJyBXaGVuIGxvb2tpbmcgYXQgdGhlIGBzdHIoZGV2X2RhdGEpYCB5b3UgY291bGQndmUgbm90aWNlZCB0aGF0IHRoZSBgY291bnRyeWAgdmFyaWFibGUgaXMgYSB2ZWN0b3IgdHlwZSB0aGF0IHdlIGhhdmVuJ3QgZW5jb3VudGVyZWQgZWFybGllciAtIGEgX2ZhY3Rvcl8uIEZhY3RvcnMgYXJlIGEgc3BlY2lmaWMgdHlwZSBvZiB2ZWN0b3JzIHVzZWQgdG8gc3RvcmUgdmFsdWVzIHRoYXQgdGFrZSBhIF9wcmVzcGVjaWZpZWRfIHNldCBvZiB2YWx1ZXMsIGNhbGxlZCBmYWN0b3IgbGV2ZWxzLiBGb3IgZXhhbXBsZSwgc3VwcG9zZSB3ZSBoYXZlIHR3byBjaGFyYWN0ZXIgdmVjdG9ycyBzdG9yaW5nIG5hbWVzIG9mIHN0dWRlbnRzIGFuZCB0aGVpciB5ZWFyLiBXZSBjYW4gdXNlIGBmYWN0b3IoKWAgdG8gY3JlYXRlIGEgZmFjdG9yIHZlY3RvciBmcm9tIGEgY2hhcmFjdGVyIHZlY3Rvci4gVGhpcyBjYW4gYmUgZG9uZSBmb3IgYW55IG90aGVyIHR5cGUgb2YgdmVjdG9yIGFzIHdlbGwuIAojJyAKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpuYW1lIDwtIGMoIlRob21hcyIsIkphbWVzIiwiS2F0ZSIsIk5pbmEiLCJSb2JlcnQiLCJBbmRyZXciLCJKb2huIikKeWVhcl9jaCA8LSBjKCJGcmVzaG1hbiIsIkZyZXNobWFuIiwiSnVuaW9yIiwiU29waG1vcmUiLCJGcmVzaG1hbiIsIlNlbmlvciIsIkp1bmlvciIpCnllYXJfY2gKeWVhciA8LSBmYWN0b3IoeWVhcl9jaCkKeWVhcgoKIycgCiMnIFdlIGNhbiB2aWV3IHRoZSB1bmlxdWUgbGV2ZWxzIG9mIHRoZSBmYWN0b3IgdXNpbmcgdGhlIGBsZXZlbHMoKWAgZnVuY3Rpb246CiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KbGV2ZWxzKHllYXIpCgojJyAKIycgQSBjcnVjaWFsIGRpZmZlcmVuY2UgYmV0d2VlbiBmYWN0b3IgYW5kIGNoYXJhY3RlciB2ZWN0b3JzIGlzIHRoYXQgdGhlIGZvcm1lciBoYXZlIGFuIHVuZGVybHlpbmcgaW50ZWdlciByZXByZXNlbnRhdGlvbi4gVGhhdCBtZWFucywgdGhhdCB0aGVyZSdzIGEgbmF0dXJhbCBvcmRlcmluZyB0byB0aGVpciBsZXZlbHMsIHdoaWNoIGlzIGFscGhhYmV0aWMgYnkgZGVmYXVsdC4gV2UgY2FuIHNlZSB0aGF0IHVzaW5nIHRoZSBbY29lcmNpb24gZnVuY3Rpb25dKCNjb2VyY2lvbikgYGFzLm51bWVyaWNgIG9uIHRoZSBgeWVhcmAgZmFjdG9yLiAKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp5ZWFyCmFzLm51bWVyaWMoeWVhcikKCiMnIAojJyBOb3RlIHRoYXQgdGhlIG9yZGVyaW5nIG9mIHRoZSB2YWx1ZXMgY29ycmVzcG9uZHMgd2l0aCB0aGUgb3JkZXJpbmcgb2J0YWluZWQgYnkgdGhlIGBsZXZlbHMoKWAgZnVuY3Rpb24uIFRoaXMgbWF0dGVycyBpbiBzb21lIGNpcmN1bXN0YW5jZXMgKHN1Y2ggYXMgd2hlbiB1c2luZyBmYWN0b3IgdmFyaWFibGVzIGluIHJlZ3Jlc3Npb24gbW9kZWxzLCBkaXNjdXNzZWQgaW4gdGhlIFtMaW5lYXIgUmVncmVzc2lvbl0oI29scykgc2VjdGlvbiBvZiB0aGUgY291cnNlKS4gSXQncyBhIGdvb2QgcHJhY3RpY2UgdG8gZXhwbGljaXRseSBwYXNzIHRoZSBmYWN0b3IgbGV2ZWxzIHRvIHRoZSBgZmFjdG9yKClgIGNvbnN0cnVjdG9yLiBGb3IgZXhhbXBsZSwgaW4gb3VyIGNhc2UsICJTb3BobW9yZSIgY29tZXMgYXMgdGhlIGxhc3QgdmFsdWUgb2YgdGhlIGZhY3RvciwgZXZlbiB0aG91Z2ggaXQgd291bGQgbWFrZSBtb3JlIHNlbnNlIGZvciBpdCB0byBiZSBzZWNvbmQuIEV4cGxpY2l0IGNyZWF0aW9uIG9mIHRoZSBmYWN0b3IgbGV2ZWxzIGNhbiBiZSBzZWVuIGJlbG93OgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnllYXJfY2ggPC0gYygiRnJlc2htYW4iLCJGcmVzaG1hbiIsIkp1bmlvciIsCiAgICAgICAgICAiU29waG1vcmUiLCJGcmVzaG1hbiIsIlNlbmlvciIsIkp1bmlvciIpCnllYXIgPC0gZmFjdG9yKHllYXJfY2gsIGxldmVscyA9IGMoIkZyZXNobWFuIiwiU29waG1vcmUiLCJKdW5pb3IiLCJTZW5pb3IiKSkKCiMnIAojJyBXZSBjYW4gbm93IHNlZSB0aGF0IHRoZSBvcmRlcmluZyBvZiB0aGUgbGV2ZWxzIGlzIGRpZmZlcmVudCwgYW5kIHNvIGlzIHRoZSB1bmRlcmx5aW5nIG51bWVyaWMgcmVwcmVzZW50YXRpb24gb2YgdGhlIGZhY3RvcjoKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpsZXZlbHMoeWVhcikKYXMubnVtZXJpYyh5ZWFyKQoKIycgCiMnIAojJyBOb3RlIHRoYXQgd2UgY2Fubm90IGNoYW5nZSB0aGUgdmFsdWUgb2YgYSBmYWN0b3IgdmVjdG9yIHRvIGFueSBvdGhlciB0aGFuIHRoZSBwcmUtc3BlY2lmaWVkIGxldmVsczoKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp5ZWFyWzFdIDwtICJHcmFkdWF0ZSIKCiMnIAojJyBUaGUgZXJyb3IgbWVzc2FnZSByZXR1cm5lZCBieSBSIG1lYW5zIHRoYXQgdGhlIHZhbHVlIHdlIHdlcmUgdHJ5aW5nIHRvIGFzc2lnbiB0byB0aGUgZmFjdG9yIGlzIG5vdCBvbmUgb2YgdGhlIHByZWRlZmluZWQgbGV2ZWxzIChpLmUuICJGcmVzaG1hbiIsIkp1bmlvciIsICJTZW5pb3IiIGFuZCAiU29waG1vcmUiKSBhbmQgdGh1cyBgTkFgIG1pc3NpbmcgdmFsdWUgd2FzIGdlbmVyYXRlZC4gCiMnIAojJyBIb3dldmVyLCBpZiB3ZSBrbm93IHRoYXQgYSBsZXZlbCB0aGF0IGhhcyBubyB2YWx1ZXMgYXR0YWNoZWQgdG8gaXQgd2lsbCBiZSBjcmVhdGVkIGluIHRoZSBmdXR1cmUsIGBOQWBzIGNhbiBiZSBhdm9pZGVkIGJ5IGV4cGxpY2l0bHkgY3JlYXRpbmcgYW4gdW51c2VkIGxldmVscyB3aGVuIGNvbnN0cnVjdGluZyB0aGUgZmFjdG9yIHZlY3Rvci4KIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp5ZWFyX2NoIDwtIGMoIkZyZXNobWFuIiwiRnJlc2htYW4iLCJKdW5pb3IiLAogICAgICAgICAgIlNvcGhtb3JlIiwiRnJlc2htYW4iLCJTZW5pb3IiLCJKdW5pb3IiKQp5ZWFyIDwtIGZhY3Rvcih5ZWFyX2NoLCBsZXZlbHMgPSBjKCJGcmVzaG1hbiIsIlNvcGhtb3JlIiwiSnVuaW9yIiwiU2VuaW9yIiwgIkdyYWR1YXRlIikpCgojJyAKIycgSGVyZSwgd2UgaGF2ZSBjcmVhdGVkIHRoZSB2YXJpYWJsZSB3aXRoIDUgbGV2ZWxzOiBgciBsZXZlbHMoeWVhcilgLCBldmVuIHRob3VnaCBvbmx5IDQgb2YgdGhlbSBhcmUgYWN0dWFsIHZhbHVlcyBvZiB0aGUgZmFjdG9yLiBBcyBhIHJlc3VsdCwgd2UgY2FuIGFzc2lnbiBhIHZhbHVlIHdpdGggdGhlICJHcmFkdWF0ZSIgdmFsdWUgd2l0aG91dCBwcm9kdWNpbmcgYE5BYHMuIFRoZSByZWxldmFuY2Ugb2YgaGF2aW5nIGVtcHR5IGZhY3RvciBsZXZlbHMgd2lsbCBiZWNvbWUgYXBwYXJlbnQgaW4gdGhlIG5leHQgcGFydCBvZiB0aGUgYm9vayB3aGVuIGRpc2N1c3NpbmcgW0Nyb3NzLVRhYnVsYXRpb25dKCNjcm9zcy10YWJ1bGF0aW9uKS4gCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KeWVhclsxXSA8LSAiR3JhZHVhdGUiCnllYXIKCiMnIAojJyAKIycgV2UgY2FuIGFsc28gcmVuYW1lIHRoZSBsZXZlbHMgb2YgYW4gZXhpc3RpbmcgZmFjdG9yLCBieSB1c2luZyB0aGUgYGxldmVsczwtYCBjb21tYW5kLiBUaGlzIGNhbiBiZSBkb25lIGVpdGhlciB0byBzcGVjaWZpYyBsZXZlbHMgb2YgYSBmYWN0b3IuLi4KIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp5ZWFyIDwtIGZhY3Rvcih5ZWFyX2NoLCBsZXZlbHMgPSBjKCJGcmVzaG1hbiIsIlNvcGhtb3JlIiwiSnVuaW9yIiwiU2VuaW9yIikpCmxldmVscyh5ZWFyKVsxXSA8LSAiRnJlc2hlciIKeWVhcgoKIycgCiMnIC4uLm9yIHRvIGFsbCB0aGUgbGV2ZWxzOgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmxldmVscyh5ZWFyKSA8LSBjKCJGaXJzdCIsIlNlY29uZCIsIlRoaXJkIiwiRmluYWwiKQp5ZWFyCgojJyAKIycgVGhpcyB3YXksIGFsbCB0aGUgdmFsdWVzIG9mIHRoZSBjaGFyYWN0ZXIgYXJlIGNoYW5nZWQgdmVyeSBxdWlja2x5LgojJyAKIycgRmluYWxseSwgdGhlcmUncyBzb21lIGNvbmZ1c2lvbiBhYm91dCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIGBmYWN0b3IoKWAgYW5kIGBhcy5mYWN0b3IoKWAgZnVuY3Rpb25zLiBJbiBtYW55IGNvbnRleHRzLCB0aGVzZSBjYW4gYmUgdXNlZCBlcXVpdmFsZW50bHksIHNpbmNlIGJvdGggY3JlYXRlIGEgZmFjdG9yIHZlY3RvciBmcm9tIGEgbnVtZXJpYyBvciBhIGNoYXJhY3RlciB2ZWN0b3IuIEhvd2V2ZXIsIHNvbWUgaW1wb3J0YW50IGRpZmZlcmVuY2VzIGluY2x1ZGU6CiMnIAojJyAxLiBgZmFjdG9yKClgIGFsbG93cyB0byBleHBsaWNpdGx5IHBhc3MgdmVjdG9yIGxldmVscyBhdCBjb25zdHJ1Y3Rpb24sIHdoZXRoZXIgYGFzLmZhY3RvcigpYCBhc3NpZ25zIHRoZW0gYnkgZGVmYXVsdAojJyAKIycgMi4gVGhlIGJlaGF2aW91ciBvZiB0aGUgdHdvIGZ1bmN0aW9ucyBpcyBkaWZmZXJlbnQgd2hlbiBwYXNzZWQgZmFjdG9ycyB3aXRoIGVtcHR5IGxldmVscy4gRm9yIGV4YW1wbGUsIGxldCdzIGNyZWF0ZSB0aGUgYHllYXJgIGZhY3RvciBhcyBlYXJsaWVyIGFuZCBvbmx5IGtlZXAgdGhlIGZpcnN0IHRocmVlIHZhbHVlcy4gSW4gdGhpcyBjYXNlLCB0aGUgX1NvcGhtb3JlXyBhbmQgX1Nlbmlvcl8gbGV2ZWxzIGFyZSB1bnVzZWQuCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KeWVhcl9jaGFyIDwtIGMoIkZyZXNobWFuIiwiRnJlc2htYW4iLCJKdW5pb3IiLAogICAgICAgICAgIlNvcGhtb3JlIiwiRnJlc2htYW4iLCJTZW5pb3IiLCJKdW5pb3IiKQp5ZWFyIDwtIGZhY3Rvcih5ZWFyX2NoYXIsIGxldmVscyA9IGMoIkZyZXNobWFuIiwiU29waG1vcmUiLCJKdW5pb3IiLCJTZW5pb3IiKSkKeWVhciA8LSB5ZWFyWzE6M10KeWVhcgoKIycgCiMnIFBhc3NpbmcgdGhlIGB5ZWFyYCB2ZWN0b3IgdG8gYGFzLmZhY3RvcmAgd2lsbCBub3QgY2hhbmdlIGFueXRoaW5nIGluIHRoZSB2ZWN0b3IncyBzdHJ1Y3R1cmU6CiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KYXMuZmFjdG9yKHllYXIpCgojJyAKIycgSG93ZXZlciwgdXNpbmcgYGZhY3RvcigpYCBjb25zdHJ1Y3RvciBvbiBhbiBleGlzdGluZyBmYWN0b3IgdmVjdG9yIGlzIGEgY29udmVuaWVudCB3YXkgdG8gZHJvcCB1bnVzZWQgbGV2ZWxzICh3aGVuIGl0J3MgZGVzaXJhYmxlKToKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpmYWN0b3IoeWVhcikKCiMnIAojJyAzLiBUaGUgcGVyZm9ybWFuY2Ugb2YgYGFzLmZhY3RvcigpYCB0ZW5kcyB0byBiZSBxdWlja2VyIHdoZW4gbnVtZXJpYyBvciBjaGFyYWN0ZXIgdmVjdG9ycyBhcmUgcGFzc2VkIHRvIGl0LiBUaGUgdHdvIGNvbW1hbmRzIGFsc28gdHJlYXQgYE5BYCBsZXZlbHMgc2xpZ2h0bHkgZGlmZmVyZW50bHkuIFlvdSBjYW4gcmVhZCBtb3JlIGFib3V0IGl0IGluIHRoaXMgW1N0YWNrIE92ZXJmbG93IHBvc3RdKGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM5Mjc5MjM4L3doeS11c2UtYXMtZmFjdG9yLWluc3RlYWQtb2YtanVzdC1mYWN0b3I/YW5zd2VydGFiPW9sZGVzdCN0YWItdG9wKS4gCiMnIAojJyBGaW5hbGx5LCBzb21lIFIgZnVuY3Rpb25zIHN1Y2ggYXMgdGhlIGBkYXRhLmZyYW1lYCBjb25zdHJ1Y3RvciB0cmVhdCBhbGwgcmVhZCBhbGwgY2hhcmFjdGVyIHZlY3RvcnMgYXMgZmFjdG9ycyBieSBkZWZhdWx0LiBUaGlzIGNhbiBiZSBub3RpY2VkIGJ5IGV4YW1pbmluZyB0aGUgYGRldl9kYXRhYCBkYXRhIGZyYW1lIHdlIGNyZWF0ZWQgZWFybGllcjoKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpzdHIoZGV2X2RhdGEpCgojJyAKIycgCiMnIEFzIHlvdSBjYW4gc2VlIGBjb3VudHJ5YCBpcyBhIGZhY3RvciB3aXRoIDYgbGV2ZWxzIC0gZWFjaCBmb3Igb25lIGNvdW50cnkgbmFtZS4gVGhpcyBkb2Vzbid0IG1ha2UgdG9vIG11Y2ggc2Vuc2UsIGFzIHRoZSBjb2x1bW4gaXMgdW5saWtlbHkgdG8gaGF2ZSBhbnkgcmVwZWF0aW5nIHZhbHVlcy4gVG8gYXZvaWQgdGhpcyBiZWhhdmlvdXIsIHdlIGNhbiBzZXQgdGhlIGBzdHJpbmdzQXNGYWN0b3JzYCBvcHRpb25hbCBhcmd1bWVudCBpbiB0aGUgYGRhdGEuZnJhbWVgIGZ1bmN0aW9uIGV4cGxpY2l0bHkgdG8gYEZBTFNFYC4gVGhpcyB3YXksIGFsbCB0aGUgY2hhcmFjdGVyIHZlY3RvcnMgcmVtYWluIGNoYXJhY3RlciB2YXJpYWJsZXMgaW4gdGhlIGRhdGEgZnJhbWUuCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZGV2X2RhdGEgPC0gZGF0YS5mcmFtZShjb3VudHJ5LCBleXMsIG15cywgbGV4cCwgZ25pLCBzdHJpbmdzQXNGYWN0b3JzID0gRkFMU0UpCnN0cihkZXZfZGF0YSkKCiMnIAojJyAKIycgIyMjIFJlYWRpbmcgYW5kIHdyaXRpbmcgdGhlIGRhdGEgCgojJyAKIycgCiMnICMjIyMgUmVhZGluZyBmcm9tIENTViAKCiMnIAojJyBXaGlsZSBzbyBmYXIsIHdlJ3ZlIGNyZWF0ZWQgc21hbGwgYW5kIHNpbXBsZSBkYXRhc2V0cyBieSBtYW51YWxseSB0eXBpbmcgdGhlbSBpbnRvIHRoZSBzY3JpcHRzLCB0aGUgdXN1YWwgd2F5IG9mIGxvYWRpbmcgZGF0YSBpbnRvIFIgaXMgdGhyb3VnaCBleHRlcm5hbCBmaWxlcy4gVGhlIG1vc3QgY29tbW9uIGZvcm1hdCB1c2VkIHRvIHN0b3JlIGRhdGEgZm9yIFIgYW5hbHlzaXMgaXMgYSBDU1YgZmlsZSwgd2hpY2ggc3RhbmRzIGZvciBDb21tYSBTZXBhcmF0ZWQgVmFsdWVzLiBUaGlzIGVzc2VudGlhbGx5IG1lYW5zLCB0aGF0IHRoZSBkYXRhIGlzIHJlcHJlc2VudGVkIGFzIGEgdGV4dCBmaWxlLCBpbiB3aGljaCB2YWx1ZXMgYXJlIHNlcGFyZXRlZCBieSBjb2x1bW5zIHRvIGluZGljYXRlIHRoZWlyIHJlbGF0aXZlIHBvc2l0aW9ucyAtIGZvciBleGFtcGxlLCBhIGNzdiBmaWxlIHdpdGggNSBjb2x1bW5zIHdpbGwgaGF2ZSA0IGNvbW1hcyB0byBzZXBhcmF0ZSB0aGVtIGluIGVhY2ggcm93LiAKIycgCiMnIEluIHRoZSBleGFtcGxlIGJlbG93LCB3ZSByZWFkIGluIGRhdGEgb24gSHVtYW4gRGV2ZWxvcG1lbnQgSW5kaWNhdG9ycyBmb3IgMjA5IGNvdW50cmllcyBmb3IgMjAxOCBvYnRhaW5lZCBmcm9tIHRoZSBbVU4gSHVtYW4gRGV2ZWxvcG1lbnQgUmVwb3J0c10oaHR0cDovL2hkci51bmRwLm9yZy9lbi9kYXRhKS4gWXVvIGNhbiBkb3dubG9hZCB0aGUgZmlsZSB1c2VkIGluIHRoZSBleGFtcGxlIGZyb20gYHIgeGZ1bjo6ZW1iZWRfZmlsZSgiZGF0YS91bl9kYXRhL2RldjIwMTguY3N2IiwgdGV4dCA9ICJoZXJlIilgLiAKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpkZXYgPC0gcmVhZC5jc3YoImRhdGEvdW5fZGF0YS9kZXYyMDE4LmNzdiIsIHN0cmluZ3NBc0ZhY3RvcnMgPSBGQUxTRSkKCiMnIAojJyBJbiB0aGUgYWJvdmUgZXhhbXBsZSwgdGhlIGZpcnN0IGFyZ3VtZW50IHNwZWNpZmllcyB0aGUgcGF0aCB0byB0aGUgZmlsZSByZWFkIGFzIGEgX3N0cmluZ18sIGkuZS4gZW5jbG9zZWQgaW4gcXVvdGF0aW9uIG1hcmtzLiBUaGUgZmlsZSBjYW4gYmUgcmVhZDoKIycgMS4gdXNpbmcgKmFic29sdXRlIHBhdGgqIC0gZm9yIGV4YW1wbGUgYGRldiA8LSByZWFkLmNzdigiQzovVXNlcnMveW91cnVzZXJuYW1lL0RvY3VtZW50cy9kZXYyMDE4LmNzdiIpYCBpbiBXaW5kb3dzIG9yIGBkZXYgPC0gcmVhZC5jc3YoIi9Vc2Vycy95b3VydXNlcm5hbWUvRG9jdW1lbnRzL2RldjIwMTguY3N2IilgIGluIE1hY09TLiBJbiB0aGlzIGNhc2UsIHlvdSBuZWVkIHRvIHByb3ZpZGUgdGhlIGZ1bGwgcGF0aCB0byB3aGVyZSB0aGUgZmlsZSBpcyBsb2NhdGVkIGluIHRoZSBjb21wdXRlci4gCiMnIAojJyAKIycgMi4gdXNpbmcgKnJlbGF0aXZlIHBhdGgqLCBhcyBpbiB0aGUgYWJvdmUgZXhhbXBsZS4gSW4gdGhpcyBjYXNlLCBSIHdpbGwgc2VhcmNoIGZvciB0aGUgZGlyZWN0b3J5ICppbiB5b3VyIGN1cnJlbnQgd29ya2luZyBkaXJlY3RvcnkqLiAqV29ya2luZyBkaXJlY3RvcnkqIGlzIHNpbXBseSB0aGUgc3BlY2lmaWMgZm9sZGVyIGluIHlvdXIgY29tcHV0ZXIgaW4gd2hpY2ggUiBsb29rcyBmb3IgdGhlIGRhdGEuICBSIFN0dWRpbyB1c3VhbGx5IHNldHMgb25lIGRlZmF1bHQgd29ya2luZyBkaXJlY3RvcnkgKHRoaXMgY2FuIGJlIGNoYW5nZWQgdW5kZXIgVG9vbHMgLT4gR2xvYmFsIE9wdGlvbnMgLT4gU2V0IERlZmF1bHQgV29ya2luZyBEaXJlY3RvcnkpLiBUaGlzIG1lYW5zIHRoYXQgZXZlcnkgdGltZSB5b3Ugb3BlbiBSU3R1ZGlvIG9yIHJlc3RhcnQgeW91ciBSIHNlc3Npb24gKGFzIGRlc2NyaWJlZCBpbiBbQ2hhcHRlciAxXSgjYS1zaG9ydC1ub3RlLW9uLWtlZXBpbmcteW91ci13b3JraW5nLWVudmlyb25tZW50LWNsZWFuKSwgdGhlIHdvcmtpbmcgZGlyZWN0b3J5IGlzIHNldCB0byB0aGlzIGRlZmF1bHQuIFlvdSBjYW4gYWxzbyBjaGFuZ2Ugd29ya2luZyBkaXJlY3RvcnkgKm1hbnVhbGx5KiBieSBleGVjdXRpbmcgdGhlIGBzZXR3ZCgpYCBmdW5jdGlvbiBmcm9tIHlvdXIgc2NyaXB0IG9yIHRoZSBjb25zb2xlLiAKIycgCiMnIAojJyAKIycgCiMnIFlvdSBjYW4gYWxzbyBnZXQgeW91ciBjdXJyZW50IHdvcmtpbmcgZGlyZWN0b3J5IGJ5IHVzaW5nIHRoZSBgZ2V0d2QoKWAgZnVuY3Rpb246CiMnIAojJyAKIycgCiMnIAojJyBXaGlsZSBzb21lIHVzZXJzIHRlbmQgdG8gaW5jbHVkZSBgc2V0d2QocGF0aC90by9wcm9qZWN0KWAgaW4gdGhlIGJlZ2lubmluZ3Mgb2YgdGhlaXIgc2NyaXB0cywgdGhpcyBpcyBwb3RlbnRpYWxseSBwcm9ibGVtYXRpYywgYXMgd2hlbmV2ZXIgeW91IG1vdmUgeW91ciBkYXRhIG9yIHNjcmlwdCB0byBhbm90aGVyIGZvbGRlciwgZXJyb3JzIGFyZSBsaWtlbHkgdG8gb2NjdXIuIFRoZXJlZm9yZSwgaXQgaXMgYSBnb29kIHByYWN0aWNlIHRvICphbHdheXMgc2V0IHdvcmtpbmcgZGlyZWN0b3J5IHRvIHRoZSBsb2NhdGlvbiBvZiB5b3VyIFIgU291cmNlIHNjcmlwdCogYW5kIGtlZXAgdGhlIGRhdGEgaW4gdGhlIHNhbWUgZm9sZGVyIGFzIHlvdXIgc291cmNlIHNjcmlwdC4gVGhpcyBjYW4gYmUgZG9uZSBieSBjaG9vc2luZyB0aGUgU2Vzc2lvbiB0YWIKIycgCiMnIE5vdGUgdGhhdCBpbiB0aGlzIGNhc2UsIGl0IGlzIGFzc3VtZWQgdGhhdCB5b3UgaGF2ZSBzZWxlY3RlZCAiU2V0IFdvcmtpbmcgRGlyZWN0b3J5IiA+ICJUbyBTb3VyY2UgRmlsZSIgbG9jYXRpb24gZnJvbSB0aGUgIlNlc3Npb24iIHRhYiBpbiBSc3R1ZGlvLCBhcyBkaXNjdXNzZWQgaW4gdGhlIFtJbnRyb2R1Y3Rpb25dIGFuZCB0aGF0IHRoZSBkaXJlY3Rvcnkgb2YgdGhlIHNvdXJjZSBmaWxlIGhhcyBhIGZvbGRlciBjYWxsZWQgImRhdGEiIGluIHdoaWNoIHRoZSBgZGV2MjAxOC5jc3ZgIGZpbGUgaXMgc3RvcmVkLiBBbHRlcm5hdGl2ZWx5LCBgZGV2IDwtIHJlYWQuY3N2KCJkZXYyMDE4LmNzdiIpYCB3b3VsZCByZWFkIHRoZSBmaWxlIGRpcmVjdGx5IGZyb20geW91ciB3b3JraW5nIGRpcmVjdG9yeS4gWW91IGNvdWxkIGFsc28gdXNlIGBkZXYgPC0gcmVhZC5jc3YoIkM6L1VzZXJzL3lvdXJ1c2VybmFtZS9Eb2N1bWVudHMvZGV2MjAxOC5jc3YiKWAgaW4gV2luZG93cyBvciBgZGV2IDwtIHJlYWQuY3N2KCIvVXNlcnMveW91cnVzZXJuYW1lL0RvY3VtZW50cy9kZXYyMDE4LmNzdiIpYCBpbiBNYWNPUyB0byByZWFkIHRoZSBkYXRhIGZpbGUgZnJvbSBhbiBhcmJpdGFyeSBmb2xkZXIgdXNpbmcgaXRzIGFic29sdXRlIHBhdGguIFNpbWlsYXJpbHkgdG8gdGhlIGBkYXRhLmZyYW1lYCBjb25zdHJ1Y3Rvciwgd2UgY2FuIGFsc28gdXNlIHRoZSBgc3RyaW5nc0FzRmFjdG9yc2AgYXJndW1lbnQgdG8gZW5zdXJlIGFsbCBjaGFyYWN0ZXIgdmFyaWFibGVzIGFyZSByZWFkIGFzIHN0cmluZ3MuCiMnIAojJyBZb3UgY2FuIGFsc28gc2F2ZSBkYXRhIHRvIC5jc3YgZmlsZXMgYnkgdXNpbmcgdGhlIGB3cml0ZS5jc3ZgLCB3aGljaCB0YWtlcyB0aGUgZGF0YSBmcmFtZSBhcyBpdHMgZmlyc3QgYXJndW1lbnQgYW5kIHRoZSBzdHJpbmcgc3BlY2lmeWluZyB0aGUgcGF0aCB0byB3aGljaCB5b3Ugd2FudCB0byBzYXZlIHRoZSBmaWxlIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuIEZvciBleGFtcGxlLCBzdXBwb3NlIHdlIHdhbnQgdG8ga2VlcCBvbmx5IHRoZSBmaXJzdCA0MCByb3dzIG9mIHRoZSBkYXRhIGFuZCBzdG9yZSBpdCBpbiBhIHNlcGFyYXRlIGZpbGUuIAojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRldl9uZXcgPC0gZGV2WzE6NDAsIF0Kd3JpdGUuY3N2KGRldl9uZXcsICJkYXRhL3VuX2RhdGEvZGV2X25ldy5jc3YiKQoKIycgCiMnICMjIyMgUmVhZGluZyBmcm9tIG90aGVyIGZvcm1hdHMgCgojJyAKIycgV2hpbGUgY3N2IGlzIHRoZSBtb3N0IGNvbW1vbiBmb3JtYXQsIHRoZSBkYXRhIGlzIG9mdGVuIGxpa2VseSB0byBjb21lIGluIG1hbnkgb3RoZXIgdmFyaWFudHMgLSBjb21tb24gZXhhbXBsZXMgaW5jbHVkZSBTdGF0YSdzIGAuZHRhYCBmaWxlcyBvciBTUFNTJyBgLnNhdmAsIGFzIHdlbGwgYXMgYC54bHN4YCBFeGNlbCBmb3JtYXQuIFNvbWUgb2YgdGhlIFIgcGFja2FnZXMgb2ZmZXIgZnVuY3Rpb25hbGl0aWVzIHBlcmNpc2VseSB0byBkZWFsIHdpdGggc3VjaCBmaWxlcy4gCiMnIAojJyBTbyBmYXIsIHdlIGhhdmUgb25seSB1c2VkIHRoZSBidWlsdC1pbiBmdW5jdGlvbmFsaXRpZXMgb2ZmZXJlZCBieSBSLiBXaGlsZSB0aGVpciByYW5nZSBpcyBwcmV0dHkgZXh0ZW5zaXZlIGFuZCB0aGUgb25lcyBjb3ZlcmVkIGluIHRoaXMgY291cnNlIGFyZSBvbmx5IHRoZSB0aXAgb2YgdGhlIGljZWJlcmcsIG11Y2ggbW9yZSB0aGFuIHRoYXQgaXMgb2ZmZXJlZCBieSB1c2VyLW1hZGUgcGFja2FnZXMsIHdoaWNoIG9mZmVyIG5ldyBmdW5jdGlvbnMgdXNlZnVsIGZvciBzcGVjaWZpYyB0YXNrcy4gVGhlIG9mZmljaWFsIFIgcGFja2FnZXMgYXJlIGF2YWlsYWJsZSB0aHJvdWdoIFtDUkFOXShodHRwczovL2NyYW4uci1wcm9qZWN0Lm9yZy8pLiBUbyB1c2UgYSBwYWNrYWdlIGl0IG5lZWRzIHRvIGJlIGluc3RhbGxlZCBmaXJzdCBhbmQgdGhlbiBsb2FkZWQuIEZvciBleGFtcGxlLCB0byB1c2UgYW4gZXhhbXBsZSBwYWNrYWdlIG5hbWVkIF9mb29fLCB5b3Ugc2hvdWxkIGZpcnN0IHJ1biBgaW5zdGFsbC5wYWNrYWdlcygiZm9vIilgIHRvIGRvd25sb2FkIHRoZSBwYWNrYWdlIGZpbGVzIGZyb20gQ1JBTiBhbmQgaW5zdGFsbCBpdCBhbmQgdGhlbiBwdXQgYGxpYnJhcnkoZm9vKWAgaW4geW91ciBSIFNjcmlwdCB0byBsb2FkIGl0IGludG8gUi4gTm90ZSB0aGF0IHdoaWxlIGluc3RhbGxhdGlvbiBoYXMgdG8gYmUgZG9uZSBvbmx5IG9uY2UsIHlvdSBoYXZlIHRvIGxvYWQgdGhlIGxpYnJhcnkgZXZlcnkgdGltZSB5b3UgdXNlIGl0IC0gdGhhdCdzIHdoeSwgeW91IHNob3VsZCBhbHdheXMgcHV0IHRoZSBgbGlicmFyeWAgY2FsbHMgYXQgdGhlIHRvcCBvZiB5b3VyIFIgc2NyaXB0LiBJZiB5b3UgdXNlIGEgZnVuY3Rpb24gZnJvbSB0aGF0IHBhY2thZ2Ugd2l0aG91dCBsb2FkaW5nIGl0IGZpcnN0LCB5b3VyIFIgc2NyaXB0IGV4ZWN1dGlvbiB3aWxsIGZhaWwhIFBsZWFzZSBhbHNvIG5vdGUsIHRoYXQgeW91IHBhc3MgdGhlIHBhY2thZ2UgbmFtZSBhcyBhIF9zdHJpbmdfIChpLmUuIGluIHF1b3RhdGlvbiBtYXJrcykgdG8gdGhlIGBpbnN0YWxsLnBhY2thZ2VzYCwgYnV0IHdpdGhvdXQgdGhlbSB0byBgbGlicmFyeWAuCiMnIAojJyAKIycgCiMnIAojJyAKIycgQ29taW5nIGJhY2sgdG8gb3VyIGV4YW1wbGUsIHdlIGNhbiB1c2UgdGhlIFIgcGFja2FnZSBgaGF2ZW5gIHRvIGxvYWQgU3RhdGEsIFNQU1MgYW5kIFNBUyBmaWxlcy4gWW91IGNhbiBzZWUgYW4gZXhhbXBsZSBiZWxvdzoKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpsaWJyYXJ5KGhhdmVuKQpkZXZfc3RhdGEgPC0gcmVhZF9kdGEoImRhdGEvdW5fZGF0YS9kZXYyMDE4LmR0YSIpCgojJyAKIycgU2ltaWxhcmlseSwgdGhlIGRhdGEgY2FuIGJlIHdyaXR0ZW4gdXNpbmc6CiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0Kd3JpdGVfZHRhKGRldiwgImRhdGEvdW5fZGF0YS9kZXYyMDE4LmR0YSIpCgojJyAKIycgT3RoZXIgYWx0ZXJuYXRpdmVzIG9mZmVyZWQgYnkgdGhlIGBoYXZlbmAgcGFja2FnZSBpbmxjdWRlIGByZWFkX3NhdmAgb3IgYHJlYWRfeHB0YC4gT3RoZXIgcGFja2FnZXMgdXNlZnVsIGZvciByZWFkaW5nIHVudXN1YWwgZGF0YSB0eXBlcyBpbmNsdWRlIGByZWFkeGxgIGZvciByZWFkaW5nIEV4Y2VsIGZpbGVzIGFuZCBgZm9yZWlnbmAgZm9yIGEgYnJvYWRlciBjaG9pY2Ugb2YgZmlsZSB0eXBlcy4KIycgCiMnICMjIyBNaXNzaW5nIHZhbHVlcyAKCiMnIAojJyBBcyBtZW50aW9uZWQgZWFybGllciwgdGhlIGBOQWAgbWlzc2luZyB2YWx1ZSBjb25zdGFudCBpcyBwYXJ0aWN1bGFybHkgaW1wb3J0YW50IGluIFIuIFJlYWwtbGlmZSBkYXRhIHRoYXQgeW91IGFyZSBsaWtlbHkgdG8gZGVhbCB3aXRoIG1vc3Qgb2YgdGhlIHRpbWUgd2hlbiB1c2luZyBSIGluIHByYWN0aWNlIGlzIG9mdGVuIGltcGVyZmVjdCBhbmQgbWlzc2luZ25lc3Mgc2hvdWxkIGJlIGFkZHJlc3NlZCBhcyBvbmUgb2YgdGhlIGZpcnN0IHN0ZXBzIG9mIHRoZSBhbmFseXNpcyBwcm9jZXNzLgojJyAKIycgYGlzLm5hKClgIGNvbW1hbmQgY2FuIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSB2YWx1ZSBvZiBhbiBSIG9iamVjdCBpcyBtaXNzaW5nLiBJdCByZXR1cm5zIHRydWUgZm9yIGVhY2ggdmFsdWUgb2YgdGhlIGluZGV4IHdoaWNoIGlzIG1pc3NpbmcuCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KbnVtYmVycyA8LSBjKDEsIDQsIE5BLCA2LCBOQSkKaXMubmEobnVtYmVycykKCiMnIAojJyBUbyBjb3VudCBOQXMgaW4gYW4gUiBvYmplY3Qgd2UgY2FuIGxldmFyYWdlIHRoZSBmYWN0IHRoYXQgYFRSVUVgIHZhbHVlcyBhcmUgYWxzbyBpbnRlcnByZXRlZCBhcyAxIGFuZCB1c2UgdGhlIGBzdW1gIGZ1bmN0aW9uOgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnN1bShpcy5uYShudW1iZXJzKSkKCiMnIAojJyBZb3UgY2FuIGFsc28gdmVyaWZ5IHdoZXRoZXIgYW4gb2JqZWN0IGNvbnRhaW5zIGBOQWBzIHVzaW5nIHRoZSBgYW55TkFgIGZ1bmN0aW9uLiBMZXQncyBjaGVjayBpZiB0aGUgSERJIGRhdGEgd2UgaGF2ZSBsb2FkZWQgY29udGFpbnMgYW55IG1pc3NpbmcgdmFsdWVzOgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRldiA8LSByZWFkLmNzdigiZGF0YS91bl9kYXRhL2RldjIwMTguY3N2IikKYW55TkEoZGV2KQoKIycgCiMnIFRoZSBjb2x1bW4gcmV0dXJucyBgVFJVRWAuIFRoZXJlZm9yZSB0aGVyZSBpcyBzb21lIG1pc3NpbmduZXNzIGluIHRoZSBkYXRhLgojJyAKIycgQW5vdGhlciB1c2VmdWwgZnVuY3Rpb24gZm9yIG1pc3NpbmcgZGF0YSBhbmFseXNpcyBpcyBgY29tcGxldGUuY2FzZXNgLiBBcyB0aGUgbmFtZSBzdWdnZXN0cywgZ2l2ZW4gYSBkYXRhIGZyYW1lIGl0IHJldHVybnMgYSBsb2dpY2FsIHZlY3RvciB3aXRoIGBUUlVFYCBmb3IgZWFjaCByb3cgd2hpY2ggZG9lc24ndCBjb250YWluIG1pc3NpbmcgdmFsdWVzLiBXZSBjYW4gdmVyaWZ5IHdoaWNoIG9ic2VydmF0aW9ucyBhcmUgdGhlIGNhdXNlIG9mIHRoZSBkYXRhIG1pc3NpbmduZXNzOgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRldlshY29tcGxldGUuY2FzZXMoZGV2KSwgXQoKIycgCiMnIAojJyAjIyMgTGlzdHMgCgojJyAKIycgVGhlIGZpbmFsIGtleSBSIGRhdGEgc3RydWN0dXJlIGNvdmVyZWQgaW4gdGhpcyBzZWN0aW9uIGFyZSBsaXN0cy4gU2ltaWxhcmlseSB0byBkYXRhIGZyYW1lcywgbGlzdHMgY2FuIGJlIHRob3VnaHQgb2YgY29udGFpbmVycyB0byBzdG9yZSBvdGhlciBkYXRhIHN0cnVjdHVyZXMuXltNb3JlIHNwZWNpZmljYWxseSwgdGhlIGBkYXRhLmZyYW1lYCBjbGFzcyBpcyBhIHNwZWNpYWwgdHlwZSBvZiBgbGlzdGAgLSB5b3UgY2FuIHZlcmlmeSB0aGF0IGJ5IHJ1bm5pbmcgdGhlIGB0eXBlb2ZgIGZ1bmN0aW9uIHdpdGggYSBkYXRhIGZyYW1lIGFzIGlucHV0Ll0gSG93ZXZlciwgdW5saWtlIGRhdGEgZnJhbWVzLCB0aGV5IGFyZSBsZXNzIHN0cmljdCBpbiB0ZXJtcyBvZiB0aGVpciBjb250ZW50cyAtIGEgbGlzdCBjYW4gc3RvcmUgdmVjdG9ycyBvZiBkaWZmZXJlbnQgbGVuZ3RoLCBkYXRhIGZyYW1lcyBhbmQgZXZlbiBvdGhlciBsaXN0cy4gTGlzdHMgYXJlIGNyZWF0ZWQgd2l0aCB0aGUgYGxpc3QoKWAgY29uc3RydWN0b3IuCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KbXlfbGlzdCA8LSBsaXN0KG5hbWVzID0gYygiVG9tIiwiSmFtZXMiLCJUaW0iKSwgdmFsdWVzID0gMToyMCkKbXlfbGlzdAoKIycgCiMnIFlvdSBjYW4gZXh0cmFjdCBlbGVtZW50cyBmcm9tIGEgbGlzdCB1c2luZyB0aGVpciBuYW1lcyBvciB0aGVpciBudW1lcmljIGluZGV4LiBUbyBpbmRleCBhIGxpc3QsIF9kb3VibGUgc3F1YXJlIGJyYWNrZXRzXyBgW1tgIGFyZSB1c2VkLCBhcyBvcHBvc2VkIHRvIHZlY3RvcnMuCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KbXlfbGlzdFtbMV1dCgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCm15X2xpc3RbWyJuYW1lcyJdXQoKIycgCiMnIElmIGEgbGlzdCBpcyBpbmRleGVkIHdpdGggc2luZ2xlIGJyYWNrZXRzLCBpdCByZXR1cm5zIGEgb25lLWVsZW1lbnQgbGlzdCwgcmF0aGVyIHRoYW4gdGhlIG9iamVjdCBzdG9yZWQgaW4gaXQ6CiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KdmFsdWVzIDwtIG15X2xpc3RbWyJ2YWx1ZXMiXV0Kc3RyKHZhbHVlcykKdmFsdWVzIDwtIG15X2xpc3RbInZhbHVlcyJdCnN0cih2YWx1ZXMpCgojJyAKIycgWW91IGNhbiBhbHNvIGV4dHJhY3QgZWxlbWVudHMgZnJvbSBhIGxpc3QgdXNpbmcgdGhlIGAkYCBvcGVyYXRvciwgc2ltaWxhcmlseSB0byBkYXRhLmZyYW1lcy4gRmluYWxseSwgeW91IGNhbiBhc3NpZ24gdmFsdWVzIHRvIGxpc3RzIHNpbWlsYXJpbHkgYXMgaW4gdGhlIGNhc2Ugb2YgdmVjdG9ycyBvciBkYXRhLmZyYW1lczoKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpteV9saXN0W1sibmV3Il1dIDwtIGMoIm5ldyIsInZhbHVlcyIpCnN0cihteV9saXN0KQoKIycgCiMnIAojJyAKIycgCiMnIAojJyAKIycgCiMnIAoA');
        if (!response.ok) throw new Error('Network response failed');
        const blob = await response.blob();
        const blobUrl = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = blobUrl;
        a.download = '03-data_structures.R';
        a.style.display = 'none';
        document.body.appendChild(a);
        a.dispatchEvent(new MouseEvent('click'));
        document.body.removeChild(a);
        setTimeout(() =&gt; {
          window.URL.revokeObjectURL(blobUrl);
        }, 100);
        return false;
      } catch (error) {
        console.error('Download failed:', error);
        alert('Download failed. Please try again.');
      }
    }
    downloadFile(event);
  "><i class="fa fa-save"></i> Chapter script</button>
<button class="btn btn-default" onclick="
    async function downloadFile(event) {
      event.preventDefault();
      try {
        const response = await fetch('data:text/x-markdown;base64,LS0tCm91dHB1dDogaHRtbF9kb2N1bWVudAotLS0KIyBEYXRhIHN0cnVjdHVyZXMgeyNkYXRhc3RydWN0dXJlc30KCgoKCiMjIENvbnRlbnQKCgpUaGUgdGhlIHByZXZpb3VzIGNoYXB0ZXIgeW91IGhhdmUgYmVjb21lIGZhbWlsaWFyIHdpdGggdGhlIG1vc3QgY29tbW9uIGRhdGEgc3RydWN0dXJlIGluIFIgcHJvZ3JhbW1pbmcgLSBhIHZlY3Rvci4gSW4gdGhpcyBzZWN0aW9uLCB5b3Ugd2lsbCBiZSBpbnRyb2R1Y2VkIHRvIHNvbWUgbW9yZSBhZHZhbmNlZCBkYXRhIHN0cnVjdHVyZXMgdGhhdCBhcmUgb2Z0ZW4gdXNlZCBpbiBSLCBpbiBwYXJ0aWN1bGFyIHRoZSBgZGF0YS5mcmFtZWAsIHdoaWNoIGlzIHRoZSBtb3N0IGNvbW1vbiB3YXkgb2Ygc3RvcmluZyBhbmQgbWFuaXB1bGF0aW5nIGRhdGEgaW4gUi4KCkdlbmVyYWxseSwgdGhlIGJlc3Qgd2F5IHRvIGV4YW1pbmUgYW55IFIgb2JqZWN0IGlzIHVzaW5nIHRoZSBgc3RyKClgIGZ1bmN0aW9uLCB3aGljaCByZXR1cm5zIGNvbnRlbnRzIG9mIHRoZSBvYmplY3QgYWxvbmcgd2l0aCBpdHMgY2xhc3MuIEZvciBleGFtcGxlIHlvdSBjYW4gY2hlY2sgaG93IGl0IHdvcmtzIGZvciBzaW1wbGUgdmVjdG9ycwoKYGBge3J9Cm51bWJlcnMgPC0gYyg1LCAzLCA4KQpzdHIobnVtYmVycykKYGBgCgpgbnVtYCBpbmRpY2F0ZXMgdGhhdCBpdCBpcyBhbiBpbnRlZ2VyIHZlY3RvciBhbmQgYFsxOjNdYCB0ZWxscyB1cyB0aGF0IGl0cyBpbmRleCByYW5nZXMgZnJvbSAxIHRvIDMuCgoKYGBge3J9CndvcmRzIDwtIGMoImZpdmUiLCJ0aHJlZSIsImVpZ2h0IikKc3RyKHdvcmRzKQpgYGAKCgojIyMgRGF0YSBGcmFtZXMgey19CgpJbiB0aGUgcHJldmlvdXMgY2hhcHRlcidzIGV4ZXJjaXNlcyB5b3UndmUgbWFuaXB1bGF0ZWQgZGF0YSByZWxhdGVkIHRvIHNvbWUgYmFzaWMgZGV2ZWxvcG1lbnQgaW5kaWNhdG9ycyBvZiBzZXZlcmFsIGNvdW50cmllcy4gV2hlbiB3ZSdyZSBkZWFsaW5nIHdpdGggbXVsdGlwbGUgdmFyaWFibGVzIHJlcHJlc2VudGVkIGJ5IG11bHRpcGxlIHZlY3RvcnMsIGl0J3Mgb2Z0ZW4gdmVyeSB1c2VmdWwgdG8gc3RvcmUgdGhlbSB0b2VnZXRoZXIgYXMgb25lIGVudGl0eSAtIGEgYGRhdGEuZnJhbWVgLiBEYXRhIGZyYW1lcyBjYW4gc2ltcGx5IGJlIHRob3VnaHQgb2YgYXMgdGFibGVzLCB3aGVyZSBlYWNoIG9mIHRoZSBjb2x1bW5zIGlzIGEgdmVjdG9yIHdpdGggaXRzIHVuaXF1ZSBuYW1lLiBJbiB0aGlzIGNhc2UsIHdlIGNhbiBzdG9yZSB0aGUgaW5mb3JtYXRpb24gYWJvdXQgY291bnRyaWVzIGluIGEgZGF0YSBmcmFtZSBjYWxsZWQgYGRldl9kYXRhYC4gCgpgYGB7cn0KY291bnRyeSA8LSBjKCJBcmdlbnRpbmEiLCAiR2VvcmdpYSIsICJNZXhpY28iLCAKICAgICAgICAgICAgICJQaGlsaXBwaW5lcyIsICJUdXJrZXkiLCAiVWtyYWluZSIpCmV5cyA8LSBjKDE3LjYsIDE1LjQsIDE0LjMsIDEyLjcsIDE2LjQsIDE1LjEpCm15cyA8LSBjKDEwLjYsIDEyLjgsIDguNiwgOS40LCA3LjcsIDExLjMpCmxleHAgPC0gYyg3Ni41LCA3My42LCA3NSwgNzEuMSwgNzcuNCwgNzIpCmduaSA8LSBjKDE3NjExLCA5NTcwLCAxNzYyOCwgOTU0MCwgMjQ5MDUsIDc5OTQpCmRldl9kYXRhIDwtIGRhdGEuZnJhbWUoY291bnRyeSwgZXlzLCBteXMsIGxleHAsIGduaSkKYGBgCgoKV2UgY2FuIHVzZSB0aGUgYGhlYWRgIGZ1bmN0aW9uIHRvIHNlZSB0aGUgZmlyc3QgNSByb3dzIG9mIHRoZSBkYXRhIChpbiB0aGUgdG95IGV4YW1wbGUgd2UgaGF2ZSBhYm92ZSBpdCBtaWdodCBzZWVtIHVubmVjZXNzYXJ5LCBidXQgaXQgaXMgdXNlZnVsIHRvIGdldCBhbiBvdmVydmlldyBvZiBhbGwgdGhlIHZhcmlhYmxlcyB3aGVuIHRoZSBkYXRhIGNvbnNpc3RzIG9mIHBvdGVudGlhbGx5IHRob3VzYW5kcyBvZiByb3dzKS4KCmBgYHtyfQpoZWFkKGRldl9kYXRhKQpgYGAKClRoZSBgc3RyKClgIGZ1bmN0aW9uIGlzIGFsc28gdmVyeSB1c2VmdWwgdG8gZ2V0IGFuIG92ZXJ2aWV3IG9mIHRoZSB2YXJpYWJsZXMgaW5jbHVkZWQgaW4gYSBkYXRhZnJhbWU6CgpgYGB7cn0Kc3RyKGRldl9kYXRhKQpgYGAKCgpUbyBhY2Nlc3MgYSBjb2x1bW4gc3RvcmVkIGluIGEgZGF0YWZyYW1lLCB5b3UgY2FuIHVzZSB0aGUgYCRgIG9wZXJhdG9yLiAKCmBgYHtyfQpkZXZfZGF0YSRnbmkKYGBgCgpTaW1pbGFyaWx5LCB3ZSBjYW4gdXNlIHRoZSBzYW1lIG9wZXJhdG9yIHRvIGNyZWF0ZSBhIG5ldyBjb2x1bW46CgpgYGB7cn0KZGV2X2RhdGEkbG9nX2duaSA8LSBsb2coZGV2X2RhdGEkZ25pKQpkZXZfZGF0YSRsb2dfZ25pCmBgYAoKQXMgaW4gdGhlIGNhc2Ugb2YgdmVjdG9ycywgZGF0YSBmcmFtZXMgY2FuIGJlIGluZGV4ZWQgdG8gcmV0cmlldmUgdmFsdWVzIHN0b3JlZCBhdCBzcGVjaWZpYyBwb3NpdGlvbnMuIFNpbmNlIGRhdGEgZnJhbWUgaXMgYSB0YWJsZSwgZWFjaCBwb3NpdGlvbiBpbiBhIGRhdGFmcmFtZSBpcyBhc3NvY2lhdGVkIHdpdGggX3R3b18gaW5kaWNlcyAtIG9uZSBmb3Igcm93cywgdGhlIG90aGVyIGZvciBjb2x1bW5zIC0gdGhlIGZpcnN0IGluZGV4IHJlZmVyZW5jZXMgdGhlIHJvdyBhbmQgdGhlIHNlY29uZCB0aGUgY29sdW1uLiBGb3IgZXhhbXBsZSwgdGhlIGNvZGUgYmVsb3cgcmV0cmlldmVzIHRoZSB2YWx1ZSBmcm9tIHRoZSBzZWNvbmQgcm93IGZyb20gdGhlIHRoaXJkIGNvbHVtbiBvZiBgZGV2X2RhdGFgLgoKYGBge3J9CmRldl9kYXRhWzIsIDNdCmBgYAoKTm90ZSB0aGF0IHRoaXMgaXMgaWRlbnRpY2FsIHRvOgoKYGBge3J9CmRldl9kYXRhJG15c1syXQpgYGAKClRoaXMgaXMgYmVjYXVzZSB0aGUgYG15c2AgaXMgdGhlIHRoaXJkIGNvbHVtbiBpbiBgZGV2X2RhdGFgLgoKQnkgbGVhdmluZyBvbmUgb2YgdGhlIGluZGljZXMgZW1wdHksIHdlIGNhbiBhbHNvIHJldHJpZXZlIGVudGlyZSByb3cvY29sdW1uIG9mIGEgZGF0YSBmcmFtZToKCmBgYHtyfQpkZXZfZGF0YVsxLCBdICNnZXQgZmlyc3Qgcm93CmRldl9kYXRhWywgMl0gI2dldCBzZWNvbmQgY29sdW1uCmBgYAoKRGF0YSBmcmFtZXMgY2FuIGFsc28gYmUgaW5kZXhlZCB3aXRoIGludGVnZXIgdmVjdG9ycy4gU3VjaCBpbmRleGluZyB3aWxsIGFsd2F5cyByZXR1cm4gYSBzbWFsbGVyIGRhdGEgZnJhbWUuIEZvciBleGFtcGxlLCB0byByZXRyaWV2ZSByb3dzIDEgYW5kIDUgZnJvbSBjb2x1bW5zIDIgYW5kIDMsIHdlIGNhbiBkbzoKCmBgYHtyfQpkZXZfZGF0YVtjKDEsNSksIGMoMiwzKV0KYGBgCgoKU2ltaWxhcmlseSwgY2hhcmFjdGVyIHZlY3RvcnMgcmVmZXJlbmNpbmcgdGhlIGNvbHVtbiBuYW1lcyBjYW4gYmUgdXNlZCB0byBzdWJzZXQgYSBkYXRhZnJhbWUuIFRvIGFjaGlldmUgc2ltaWxhciByZXN1bHQgdG8gdGhlIG9uZSBhYm92ZSwgb25lIGNvdWxkIGFsc28gdHlwZToKCmBgYHtyfQpkZXZfZGF0YVtjKDEsNSksIGMoImV5cyIsIm15cyIpXQpgYGAKCgpXZSBjYW4gYWxzbyB1c2UgbG9naWNhbCBpbmRleGluZyB0byBzdWJzZXQgZGF0YWZyYW1lcy4gUmVjYWxsIGZyb20gdGhlIHByZXZpb3VzICBjaGFwdGVyLCB0aGF0IHdlIGNhbiBjaGVjayB3aGljaCB2YWx1ZXMgb2YgYSBnaXZlbiB2ZWN0b3Igc2F0aXNmeSBhIGNlcnRhaW4gY29uZGl0aW9uIGJ5OgoKYGBge3J9CmRldl9kYXRhJGduaSA+IDEwMDAwCmBgYAoKCldlIGNhbiB0aGVuIHVzZSB0aGUgb3V0cHV0IGdlbmVyYXRlZCBieSB0aGUgYWJvdmUgY29kZSB0byBpbmRleCB0aGUgYGRldl9kYXRhYCBkYXRhIGZyYW1lIGFuZCBvYnRhaW4gdGhlIHJvd3Mgd2l0aCBnbmkgcGVyIGNhcGl0YSBsYXJnZXIgdGhhbiAxMDAwMDoKCmBgYHtyfQpkZXZfZGF0YVtkZXZfZGF0YSRnbmkgPiAxMDAwMCwgXQpgYGAKCgoKClRoZXJlIGFyZSBtYW55IHVzZWZ1bCBmdW5jdGlvbnMgdGhhdCB3b3JrIGluIGNvbWJpbmF0aW9uIHdpdGggZGF0YSBmcmFtZXMuIEJlbG93LCB0aGVyZSBhcmUgc2V2ZXJhbCBleGFtcGxlczogCgpgYGB7cn0KaXMuZGF0YS5mcmFtZShkZXZfZGF0YSkgI2NoZWNrIGlmIGFuIG9iamVjdCBpcyBvZiBjbGFzcyBgZGF0YS5mcmFtZWAKbnJvdyhkZXZfZGF0YSkgI251bWJlciBvZiByb3dzCm5jb2woZGV2X2RhdGEpICNudW1iZXIgb2YgY29sdW1ucwpjb2xuYW1lcyhkZXZfZGF0YSkgI2NvbHVtbiBuYW1lcwpyb3duYW1lcyhkZXZfZGF0YSkgI3JvdyBuYW1lcwpgYGAKClRoZSBgd2l0aGAgY29tbWFuZCBhbGxvd3MgdG8gZXZhbHVhdGUgY29sdW1uIG5hbWVzIF9pbiB0aGUgY29udGV4dCBvZiBhIGdpdmVuIGRhdGEgZnJhbWVfLiBUaGlzIG1lYW5zLCB0aGF0IHdlIGRvIG5vdCBoYXZlIHRvIHJlZmVyZW5jZSB0aGUgZGF0YSBmcmFtZSBuYW1lIHdoZW5ldmVyIHdlIHVzZSBvbmUgb2YgaXRzIGNvbHVtbnMuIFN1cHBvc2Ugd2Ugd2FudGVkIHRvIGNhbGN1bGF0ZSB0aGUgVU4ncyAqRWR1Y2F0aW9uIEluZGV4KiBhcyBpbiB0aGUgcHJldmlvdXMgc2VjdGlvbidzIGV4ZXJjaXNlcyBhbmQgYXNzaWduIGl0J3MgdmFsdWVzIHRvIGEgbmV3IGNvbHVtbiBpbiBgZGV2X2RhdGFgLCBgZGV2X2RhdGEkZWR1X2luZGAuIFRoaXMgY291bGQgYmUgZG9uZSBieToKCmBgYHtyfQpkZXZfZGF0YSRlZHVfaW5kIDwtIChkZXZfZGF0YSRteXMgLyAxNSArIGRldl9kYXRhJGV5cyAvIDE4KS8yCmBgYAoKSG93ZXZlciwgaW4gbWFueSBjaXJjdW1zdGFuY2VzIHRoaXMgd2lsbCByZXF1aXJlIHlvdSB0byByZWZlcmVuY2UgdGhlIG5hbWUgb2YgdGhlIGRhdGEgZnJhbWUgeW91IGFyZSB1c2luZyBtdWx0aXBsZSB0aW1lcywgb2Z0ZW4gbWFraW5nIHRoZSBjb2RlIGxvbmcgYW5kIHVucmVhZGFibGUuIFRvIGF2b2lkIGl0LCBpdCdzIG9mdGVuIHVzZWZ1bCB0byBkbzoKCmBgYHtyfQpkZXZfZGF0YSRlZHVfaW5kIDwtIHdpdGgoZGV2X2RhdGEsIChteXMgLyAxNSArIGV5cyAvIDE4KS8yKQpgYGAKCgpUaGUgYHdpdGhgIGZ1bmN0aW9uIHRha2VzIG5hbWUgb2YgdGhlIGRhdGFmcmFtZSBhcyBpdHMgZmlyc3QgYXJndW1lbnQgYW5kIHRoZSBvcGVyYXRpb24geW91IHdhbnQgdG8gcGVyZm9ybSBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LgoKU2ltaWxhcmlseSwgdG8gc3Vic2V0IGEgZGF0YWZyYW1lIGJ5IG11bHRpcGxlIHZhcmlhYmxlcywgdGhlIGBzdWJzZXQoKWAgY29tbWFuZCBjYW4gYmUgdXNlZDoKCmBgYHtyfQpkZXZfZGF0YVtkZXZfZGF0YSRleXMgPiAxNSAmIGRldl9kYXRhJGxleHAgPiA3NSwgXQpzdWJzZXQoZGV2X2RhdGEsIGV5cyA+IDE1ICYgbGV4cCA+IDc1KQpgYGAKCgoKCgojIyMgRmFjdG9ycyB7LX0KCldoZW4gbG9va2luZyBhdCB0aGUgYHN0cihkZXZfZGF0YSlgIHlvdSBjb3VsZCd2ZSBub3RpY2VkIHRoYXQgdGhlIGBjb3VudHJ5YCB2YXJpYWJsZSBpcyBhIHZlY3RvciB0eXBlIHRoYXQgd2UgaGF2ZW4ndCBlbmNvdW50ZXJlZCBlYXJsaWVyIC0gYSBfZmFjdG9yXy4gRmFjdG9ycyBhcmUgYSBzcGVjaWZpYyB0eXBlIG9mIHZlY3RvcnMgdXNlZCB0byBzdG9yZSB2YWx1ZXMgdGhhdCB0YWtlIGEgX3ByZXNwZWNpZmllZF8gc2V0IG9mIHZhbHVlcywgY2FsbGVkIGZhY3RvciBsZXZlbHMuIEZvciBleGFtcGxlLCBzdXBwb3NlIHdlIGhhdmUgdHdvIGNoYXJhY3RlciB2ZWN0b3JzIHN0b3JpbmcgbmFtZXMgb2Ygc3R1ZGVudHMgYW5kIHRoZWlyIHllYXIuIFdlIGNhbiB1c2UgYGZhY3RvcigpYCB0byBjcmVhdGUgYSBmYWN0b3IgdmVjdG9yIGZyb20gYSBjaGFyYWN0ZXIgdmVjdG9yLiBUaGlzIGNhbiBiZSBkb25lIGZvciBhbnkgb3RoZXIgdHlwZSBvZiB2ZWN0b3IgYXMgd2VsbC4gCgoKYGBge3J9Cm5hbWUgPC0gYygiVGhvbWFzIiwiSmFtZXMiLCJLYXRlIiwiTmluYSIsIlJvYmVydCIsIkFuZHJldyIsIkpvaG4iKQp5ZWFyX2NoIDwtIGMoIkZyZXNobWFuIiwiRnJlc2htYW4iLCJKdW5pb3IiLCJTb3BobW9yZSIsIkZyZXNobWFuIiwiU2VuaW9yIiwiSnVuaW9yIikKeWVhcl9jaAp5ZWFyIDwtIGZhY3Rvcih5ZWFyX2NoKQp5ZWFyCmBgYAoKV2UgY2FuIHZpZXcgdGhlIHVuaXF1ZSBsZXZlbHMgb2YgdGhlIGZhY3RvciB1c2luZyB0aGUgYGxldmVscygpYCBmdW5jdGlvbjoKCmBgYHtyfQpsZXZlbHMoeWVhcikKYGBgCgpBIGNydWNpYWwgZGlmZmVyZW5jZSBiZXR3ZWVuIGZhY3RvciBhbmQgY2hhcmFjdGVyIHZlY3RvcnMgaXMgdGhhdCB0aGUgZm9ybWVyIGhhdmUgYW4gdW5kZXJseWluZyBpbnRlZ2VyIHJlcHJlc2VudGF0aW9uLiBUaGF0IG1lYW5zLCB0aGF0IHRoZXJlJ3MgYSBuYXR1cmFsIG9yZGVyaW5nIHRvIHRoZWlyIGxldmVscywgd2hpY2ggaXMgYWxwaGFiZXRpYyBieSBkZWZhdWx0LiBXZSBjYW4gc2VlIHRoYXQgdXNpbmcgdGhlIFtjb2VyY2lvbiBmdW5jdGlvbl0oI2NvZXJjaW9uKSBgYXMubnVtZXJpY2Agb24gdGhlIGB5ZWFyYCBmYWN0b3IuIAoKYGBge3J9CnllYXIKYXMubnVtZXJpYyh5ZWFyKQpgYGAKCk5vdGUgdGhhdCB0aGUgb3JkZXJpbmcgb2YgdGhlIHZhbHVlcyBjb3JyZXNwb25kcyB3aXRoIHRoZSBvcmRlcmluZyBvYnRhaW5lZCBieSB0aGUgYGxldmVscygpYCBmdW5jdGlvbi4gVGhpcyBtYXR0ZXJzIGluIHNvbWUgY2lyY3Vtc3RhbmNlcyAoc3VjaCBhcyB3aGVuIHVzaW5nIGZhY3RvciB2YXJpYWJsZXMgaW4gcmVncmVzc2lvbiBtb2RlbHMsIGRpc2N1c3NlZCBpbiB0aGUgW0xpbmVhciBSZWdyZXNzaW9uXSgjb2xzKSBzZWN0aW9uIG9mIHRoZSBjb3Vyc2UpLiBJdCdzIGEgZ29vZCBwcmFjdGljZSB0byBleHBsaWNpdGx5IHBhc3MgdGhlIGZhY3RvciBsZXZlbHMgdG8gdGhlIGBmYWN0b3IoKWAgY29uc3RydWN0b3IuIEZvciBleGFtcGxlLCBpbiBvdXIgY2FzZSwgIlNvcGhtb3JlIiBjb21lcyBhcyB0aGUgbGFzdCB2YWx1ZSBvZiB0aGUgZmFjdG9yLCBldmVuIHRob3VnaCBpdCB3b3VsZCBtYWtlIG1vcmUgc2Vuc2UgZm9yIGl0IHRvIGJlIHNlY29uZC4gRXhwbGljaXQgY3JlYXRpb24gb2YgdGhlIGZhY3RvciBsZXZlbHMgY2FuIGJlIHNlZW4gYmVsb3c6CgpgYGB7cn0KeWVhcl9jaCA8LSBjKCJGcmVzaG1hbiIsIkZyZXNobWFuIiwiSnVuaW9yIiwKICAgICAgICAgICJTb3BobW9yZSIsIkZyZXNobWFuIiwiU2VuaW9yIiwiSnVuaW9yIikKeWVhciA8LSBmYWN0b3IoeWVhcl9jaCwgbGV2ZWxzID0gYygiRnJlc2htYW4iLCJTb3BobW9yZSIsIkp1bmlvciIsIlNlbmlvciIpKQpgYGAKCldlIGNhbiBub3cgc2VlIHRoYXQgdGhlIG9yZGVyaW5nIG9mIHRoZSBsZXZlbHMgaXMgZGlmZmVyZW50LCBhbmQgc28gaXMgdGhlIHVuZGVybHlpbmcgbnVtZXJpYyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZmFjdG9yOgoKYGBge3J9CmxldmVscyh5ZWFyKQphcy5udW1lcmljKHllYXIpCmBgYAoKCk5vdGUgdGhhdCB3ZSBjYW5ub3QgY2hhbmdlIHRoZSB2YWx1ZSBvZiBhIGZhY3RvciB2ZWN0b3IgdG8gYW55IG90aGVyIHRoYW4gdGhlIHByZS1zcGVjaWZpZWQgbGV2ZWxzOgoKYGBge3J9CnllYXJbMV0gPC0gIkdyYWR1YXRlIgpgYGAKClRoZSBlcnJvciBtZXNzYWdlIHJldHVybmVkIGJ5IFIgbWVhbnMgdGhhdCB0aGUgdmFsdWUgd2Ugd2VyZSB0cnlpbmcgdG8gYXNzaWduIHRvIHRoZSBmYWN0b3IgaXMgbm90IG9uZSBvZiB0aGUgcHJlZGVmaW5lZCBsZXZlbHMgKGkuZS4gIkZyZXNobWFuIiwiSnVuaW9yIiwgIlNlbmlvciIgYW5kICJTb3BobW9yZSIpIGFuZCB0aHVzIGBOQWAgbWlzc2luZyB2YWx1ZSB3YXMgZ2VuZXJhdGVkLiAKCkhvd2V2ZXIsIGlmIHdlIGtub3cgdGhhdCBhIGxldmVsIHRoYXQgaGFzIG5vIHZhbHVlcyBhdHRhY2hlZCB0byBpdCB3aWxsIGJlIGNyZWF0ZWQgaW4gdGhlIGZ1dHVyZSwgYE5BYHMgY2FuIGJlIGF2b2lkZWQgYnkgZXhwbGljaXRseSBjcmVhdGluZyBhbiB1bnVzZWQgbGV2ZWxzIHdoZW4gY29uc3RydWN0aW5nIHRoZSBmYWN0b3IgdmVjdG9yLgoKYGBge3J9CnllYXJfY2ggPC0gYygiRnJlc2htYW4iLCJGcmVzaG1hbiIsIkp1bmlvciIsCiAgICAgICAgICAiU29waG1vcmUiLCJGcmVzaG1hbiIsIlNlbmlvciIsIkp1bmlvciIpCnllYXIgPC0gZmFjdG9yKHllYXJfY2gsIGxldmVscyA9IGMoIkZyZXNobWFuIiwiU29waG1vcmUiLCJKdW5pb3IiLCJTZW5pb3IiLCAiR3JhZHVhdGUiKSkKYGBgCgpIZXJlLCB3ZSBoYXZlIGNyZWF0ZWQgdGhlIHZhcmlhYmxlIHdpdGggNSBsZXZlbHM6IGByIGxldmVscyh5ZWFyKWAsIGV2ZW4gdGhvdWdoIG9ubHkgNCBvZiB0aGVtIGFyZSBhY3R1YWwgdmFsdWVzIG9mIHRoZSBmYWN0b3IuIEFzIGEgcmVzdWx0LCB3ZSBjYW4gYXNzaWduIGEgdmFsdWUgd2l0aCB0aGUgIkdyYWR1YXRlIiB2YWx1ZSB3aXRob3V0IHByb2R1Y2luZyBgTkFgcy4gVGhlIHJlbGV2YW5jZSBvZiBoYXZpbmcgZW1wdHkgZmFjdG9yIGxldmVscyB3aWxsIGJlY29tZSBhcHBhcmVudCBpbiB0aGUgbmV4dCBwYXJ0IG9mIHRoZSBib29rIHdoZW4gZGlzY3Vzc2luZyBbQ3Jvc3MtVGFidWxhdGlvbl0oI2Nyb3NzLXRhYnVsYXRpb24pLiAKCmBgYHtyfQp5ZWFyWzFdIDwtICJHcmFkdWF0ZSIKeWVhcgpgYGAKCgpXZSBjYW4gYWxzbyByZW5hbWUgdGhlIGxldmVscyBvZiBhbiBleGlzdGluZyBmYWN0b3IsIGJ5IHVzaW5nIHRoZSBgbGV2ZWxzPC1gIGNvbW1hbmQuIFRoaXMgY2FuIGJlIGRvbmUgZWl0aGVyIHRvIHNwZWNpZmljIGxldmVscyBvZiBhIGZhY3Rvci4uLgoKYGBge3J9CnllYXIgPC0gZmFjdG9yKHllYXJfY2gsIGxldmVscyA9IGMoIkZyZXNobWFuIiwiU29waG1vcmUiLCJKdW5pb3IiLCJTZW5pb3IiKSkKbGV2ZWxzKHllYXIpWzFdIDwtICJGcmVzaGVyIgp5ZWFyCmBgYAoKLi4ub3IgdG8gYWxsIHRoZSBsZXZlbHM6CgpgYGB7cn0KbGV2ZWxzKHllYXIpIDwtIGMoIkZpcnN0IiwiU2Vjb25kIiwiVGhpcmQiLCJGaW5hbCIpCnllYXIKYGBgCgpUaGlzIHdheSwgYWxsIHRoZSB2YWx1ZXMgb2YgdGhlIGNoYXJhY3RlciBhcmUgY2hhbmdlZCB2ZXJ5IHF1aWNrbHkuCgpGaW5hbGx5LCB0aGVyZSdzIHNvbWUgY29uZnVzaW9uIGFib3V0IHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gYGZhY3RvcigpYCBhbmQgYGFzLmZhY3RvcigpYCBmdW5jdGlvbnMuIEluIG1hbnkgY29udGV4dHMsIHRoZXNlIGNhbiBiZSB1c2VkIGVxdWl2YWxlbnRseSwgc2luY2UgYm90aCBjcmVhdGUgYSBmYWN0b3IgdmVjdG9yIGZyb20gYSBudW1lcmljIG9yIGEgY2hhcmFjdGVyIHZlY3Rvci4gSG93ZXZlciwgc29tZSBpbXBvcnRhbnQgZGlmZmVyZW5jZXMgaW5jbHVkZToKCjEuIGBmYWN0b3IoKWAgYWxsb3dzIHRvIGV4cGxpY2l0bHkgcGFzcyB2ZWN0b3IgbGV2ZWxzIGF0IGNvbnN0cnVjdGlvbiwgd2hldGhlciBgYXMuZmFjdG9yKClgIGFzc2lnbnMgdGhlbSBieSBkZWZhdWx0CgoyLiBUaGUgYmVoYXZpb3VyIG9mIHRoZSB0d28gZnVuY3Rpb25zIGlzIGRpZmZlcmVudCB3aGVuIHBhc3NlZCBmYWN0b3JzIHdpdGggZW1wdHkgbGV2ZWxzLiBGb3IgZXhhbXBsZSwgbGV0J3MgY3JlYXRlIHRoZSBgeWVhcmAgZmFjdG9yIGFzIGVhcmxpZXIgYW5kIG9ubHkga2VlcCB0aGUgZmlyc3QgdGhyZWUgdmFsdWVzLiBJbiB0aGlzIGNhc2UsIHRoZSBfU29waG1vcmVfIGFuZCBfU2VuaW9yXyBsZXZlbHMgYXJlIHVudXNlZC4KCmBgYHtyfQp5ZWFyX2NoYXIgPC0gYygiRnJlc2htYW4iLCJGcmVzaG1hbiIsIkp1bmlvciIsCiAgICAgICAgICAiU29waG1vcmUiLCJGcmVzaG1hbiIsIlNlbmlvciIsIkp1bmlvciIpCnllYXIgPC0gZmFjdG9yKHllYXJfY2hhciwgbGV2ZWxzID0gYygiRnJlc2htYW4iLCJTb3BobW9yZSIsIkp1bmlvciIsIlNlbmlvciIpKQp5ZWFyIDwtIHllYXJbMTozXQp5ZWFyCmBgYAoKUGFzc2luZyB0aGUgYHllYXJgIHZlY3RvciB0byBgYXMuZmFjdG9yYCB3aWxsIG5vdCBjaGFuZ2UgYW55dGhpbmcgaW4gdGhlIHZlY3RvcidzIHN0cnVjdHVyZToKCmBgYHtyfQphcy5mYWN0b3IoeWVhcikKYGBgCgpIb3dldmVyLCB1c2luZyBgZmFjdG9yKClgIGNvbnN0cnVjdG9yIG9uIGFuIGV4aXN0aW5nIGZhY3RvciB2ZWN0b3IgaXMgYSBjb252ZW5pZW50IHdheSB0byBkcm9wIHVudXNlZCBsZXZlbHMgKHdoZW4gaXQncyBkZXNpcmFibGUpOgoKYGBge3J9CmZhY3Rvcih5ZWFyKQpgYGAKCjMuIFRoZSBwZXJmb3JtYW5jZSBvZiBgYXMuZmFjdG9yKClgIHRlbmRzIHRvIGJlIHF1aWNrZXIgd2hlbiBudW1lcmljIG9yIGNoYXJhY3RlciB2ZWN0b3JzIGFyZSBwYXNzZWQgdG8gaXQuIFRoZSB0d28gY29tbWFuZHMgYWxzbyB0cmVhdCBgTkFgIGxldmVscyBzbGlnaHRseSBkaWZmZXJlbnRseS4gWW91IGNhbiByZWFkIG1vcmUgYWJvdXQgaXQgaW4gdGhpcyBbU3RhY2sgT3ZlcmZsb3cgcG9zdF0oaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzkyNzkyMzgvd2h5LXVzZS1hcy1mYWN0b3ItaW5zdGVhZC1vZi1qdXN0LWZhY3Rvcj9hbnN3ZXJ0YWI9b2xkZXN0I3RhYi10b3ApLiAKCkZpbmFsbHksIHNvbWUgUiBmdW5jdGlvbnMgc3VjaCBhcyB0aGUgYGRhdGEuZnJhbWVgIGNvbnN0cnVjdG9yIHRyZWF0IGFsbCByZWFkIGFsbCBjaGFyYWN0ZXIgdmVjdG9ycyBhcyBmYWN0b3JzIGJ5IGRlZmF1bHQuIFRoaXMgY2FuIGJlIG5vdGljZWQgYnkgZXhhbWluaW5nIHRoZSBgZGV2X2RhdGFgIGRhdGEgZnJhbWUgd2UgY3JlYXRlZCBlYXJsaWVyOgoKYGBge3J9CnN0cihkZXZfZGF0YSkKYGBgCgoKQXMgeW91IGNhbiBzZWUgYGNvdW50cnlgIGlzIGEgZmFjdG9yIHdpdGggNiBsZXZlbHMgLSBlYWNoIGZvciBvbmUgY291bnRyeSBuYW1lLiBUaGlzIGRvZXNuJ3QgbWFrZSB0b28gbXVjaCBzZW5zZSwgYXMgdGhlIGNvbHVtbiBpcyB1bmxpa2VseSB0byBoYXZlIGFueSByZXBlYXRpbmcgdmFsdWVzLiBUbyBhdm9pZCB0aGlzIGJlaGF2aW91ciwgd2UgY2FuIHNldCB0aGUgYHN0cmluZ3NBc0ZhY3RvcnNgIG9wdGlvbmFsIGFyZ3VtZW50IGluIHRoZSBgZGF0YS5mcmFtZWAgZnVuY3Rpb24gZXhwbGljaXRseSB0byBgRkFMU0VgLiBUaGlzIHdheSwgYWxsIHRoZSBjaGFyYWN0ZXIgdmVjdG9ycyByZW1haW4gY2hhcmFjdGVyIHZhcmlhYmxlcyBpbiB0aGUgZGF0YSBmcmFtZS4KCmBgYHtyfQpkZXZfZGF0YSA8LSBkYXRhLmZyYW1lKGNvdW50cnksIGV5cywgbXlzLCBsZXhwLCBnbmksIHN0cmluZ3NBc0ZhY3RvcnMgPSBGQUxTRSkKc3RyKGRldl9kYXRhKQpgYGAKCgojIyMgUmVhZGluZyBhbmQgd3JpdGluZyB0aGUgZGF0YSB7LX0KCgojIyMjIFJlYWRpbmcgZnJvbSBDU1Ygey19CgpXaGlsZSBzbyBmYXIsIHdlJ3ZlIGNyZWF0ZWQgc21hbGwgYW5kIHNpbXBsZSBkYXRhc2V0cyBieSBtYW51YWxseSB0eXBpbmcgdGhlbSBpbnRvIHRoZSBzY3JpcHRzLCB0aGUgdXN1YWwgd2F5IG9mIGxvYWRpbmcgZGF0YSBpbnRvIFIgaXMgdGhyb3VnaCBleHRlcm5hbCBmaWxlcy4gVGhlIG1vc3QgY29tbW9uIGZvcm1hdCB1c2VkIHRvIHN0b3JlIGRhdGEgZm9yIFIgYW5hbHlzaXMgaXMgYSBDU1YgZmlsZSwgd2hpY2ggc3RhbmRzIGZvciBDb21tYSBTZXBhcmF0ZWQgVmFsdWVzLiBUaGlzIGVzc2VudGlhbGx5IG1lYW5zLCB0aGF0IHRoZSBkYXRhIGlzIHJlcHJlc2VudGVkIGFzIGEgdGV4dCBmaWxlLCBpbiB3aGljaCB2YWx1ZXMgYXJlIHNlcGFyZXRlZCBieSBjb2x1bW5zIHRvIGluZGljYXRlIHRoZWlyIHJlbGF0aXZlIHBvc2l0aW9ucyAtIGZvciBleGFtcGxlLCBhIGNzdiBmaWxlIHdpdGggNSBjb2x1bW5zIHdpbGwgaGF2ZSA0IGNvbW1hcyB0byBzZXBhcmF0ZSB0aGVtIGluIGVhY2ggcm93LiAKCkluIHRoZSBleGFtcGxlIGJlbG93LCB3ZSByZWFkIGluIGRhdGEgb24gSHVtYW4gRGV2ZWxvcG1lbnQgSW5kaWNhdG9ycyBmb3IgMjA5IGNvdW50cmllcyBmb3IgMjAxOCBvYnRhaW5lZCBmcm9tIHRoZSBbVU4gSHVtYW4gRGV2ZWxvcG1lbnQgUmVwb3J0c10oaHR0cDovL2hkci51bmRwLm9yZy9lbi9kYXRhKS4gWXVvIGNhbiBkb3dubG9hZCB0aGUgZmlsZSB1c2VkIGluIHRoZSBleGFtcGxlIGZyb20gYHIgeGZ1bjo6ZW1iZWRfZmlsZSgiZGF0YS91bl9kYXRhL2RldjIwMTguY3N2IiwgdGV4dCA9ICJoZXJlIilgLiAKCmBgYHtyfQpkZXYgPC0gcmVhZC5jc3YoImRhdGEvdW5fZGF0YS9kZXYyMDE4LmNzdiIsIHN0cmluZ3NBc0ZhY3RvcnMgPSBGQUxTRSkKYGBgCgpJbiB0aGUgYWJvdmUgZXhhbXBsZSwgdGhlIGZpcnN0IGFyZ3VtZW50IHNwZWNpZmllcyB0aGUgcGF0aCB0byB0aGUgZmlsZSByZWFkIGFzIGEgX3N0cmluZ18sIGkuZS4gZW5jbG9zZWQgaW4gcXVvdGF0aW9uIG1hcmtzLiBUaGUgZmlsZSBjYW4gYmUgcmVhZDoKMS4gdXNpbmcgKmFic29sdXRlIHBhdGgqIC0gZm9yIGV4YW1wbGUgYGRldiA8LSByZWFkLmNzdigiQzovVXNlcnMveW91cnVzZXJuYW1lL0RvY3VtZW50cy9kZXYyMDE4LmNzdiIpYCBpbiBXaW5kb3dzIG9yIGBkZXYgPC0gcmVhZC5jc3YoIi9Vc2Vycy95b3VydXNlcm5hbWUvRG9jdW1lbnRzL2RldjIwMTguY3N2IilgIGluIE1hY09TLiBJbiB0aGlzIGNhc2UsIHlvdSBuZWVkIHRvIHByb3ZpZGUgdGhlIGZ1bGwgcGF0aCB0byB3aGVyZSB0aGUgZmlsZSBpcyBsb2NhdGVkIGluIHRoZSBjb21wdXRlci4gCgoKMi4gdXNpbmcgKnJlbGF0aXZlIHBhdGgqLCBhcyBpbiB0aGUgYWJvdmUgZXhhbXBsZS4gSW4gdGhpcyBjYXNlLCBSIHdpbGwgc2VhcmNoIGZvciB0aGUgZGlyZWN0b3J5ICppbiB5b3VyIGN1cnJlbnQgd29ya2luZyBkaXJlY3RvcnkqLiAqV29ya2luZyBkaXJlY3RvcnkqIGlzIHNpbXBseSB0aGUgc3BlY2lmaWMgZm9sZGVyIGluIHlvdXIgY29tcHV0ZXIgaW4gd2hpY2ggUiBsb29rcyBmb3IgdGhlIGRhdGEuICBSIFN0dWRpbyB1c3VhbGx5IHNldHMgb25lIGRlZmF1bHQgd29ya2luZyBkaXJlY3RvcnkgKHRoaXMgY2FuIGJlIGNoYW5nZWQgdW5kZXIgVG9vbHMgLT4gR2xvYmFsIE9wdGlvbnMgLT4gU2V0IERlZmF1bHQgV29ya2luZyBEaXJlY3RvcnkpLiBUaGlzIG1lYW5zIHRoYXQgZXZlcnkgdGltZSB5b3Ugb3BlbiBSU3R1ZGlvIG9yIHJlc3RhcnQgeW91ciBSIHNlc3Npb24gKGFzIGRlc2NyaWJlZCBpbiBbQ2hhcHRlciAxXSgjYS1zaG9ydC1ub3RlLW9uLWtlZXBpbmcteW91ci13b3JraW5nLWVudmlyb25tZW50LWNsZWFuKSwgdGhlIHdvcmtpbmcgZGlyZWN0b3J5IGlzIHNldCB0byB0aGlzIGRlZmF1bHQuIFlvdSBjYW4gYWxzbyBjaGFuZ2Ugd29ya2luZyBkaXJlY3RvcnkgKm1hbnVhbGx5KiBieSBleGVjdXRpbmcgdGhlIGBzZXR3ZCgpYCBmdW5jdGlvbiBmcm9tIHlvdXIgc2NyaXB0IG9yIHRoZSBjb25zb2xlLiAKCgoKCllvdSBjYW4gYWxzbyBnZXQgeW91ciBjdXJyZW50IHdvcmtpbmcgZGlyZWN0b3J5IGJ5IHVzaW5nIHRoZSBgZ2V0d2QoKWAgZnVuY3Rpb246CgoKCgpXaGlsZSBzb21lIHVzZXJzIHRlbmQgdG8gaW5jbHVkZSBgc2V0d2QocGF0aC90by9wcm9qZWN0KWAgaW4gdGhlIGJlZ2lubmluZ3Mgb2YgdGhlaXIgc2NyaXB0cywgdGhpcyBpcyBwb3RlbnRpYWxseSBwcm9ibGVtYXRpYywgYXMgd2hlbmV2ZXIgeW91IG1vdmUgeW91ciBkYXRhIG9yIHNjcmlwdCB0byBhbm90aGVyIGZvbGRlciwgZXJyb3JzIGFyZSBsaWtlbHkgdG8gb2NjdXIuIFRoZXJlZm9yZSwgaXQgaXMgYSBnb29kIHByYWN0aWNlIHRvICphbHdheXMgc2V0IHdvcmtpbmcgZGlyZWN0b3J5IHRvIHRoZSBsb2NhdGlvbiBvZiB5b3VyIFIgU291cmNlIHNjcmlwdCogYW5kIGtlZXAgdGhlIGRhdGEgaW4gdGhlIHNhbWUgZm9sZGVyIGFzIHlvdXIgc291cmNlIHNjcmlwdC4gVGhpcyBjYW4gYmUgZG9uZSBieSBjaG9vc2luZyB0aGUgU2Vzc2lvbiB0YWIKCk5vdGUgdGhhdCBpbiB0aGlzIGNhc2UsIGl0IGlzIGFzc3VtZWQgdGhhdCB5b3UgaGF2ZSBzZWxlY3RlZCAiU2V0IFdvcmtpbmcgRGlyZWN0b3J5IiA+ICJUbyBTb3VyY2UgRmlsZSIgbG9jYXRpb24gZnJvbSB0aGUgIlNlc3Npb24iIHRhYiBpbiBSc3R1ZGlvLCBhcyBkaXNjdXNzZWQgaW4gdGhlIFtJbnRyb2R1Y3Rpb25dIGFuZCB0aGF0IHRoZSBkaXJlY3Rvcnkgb2YgdGhlIHNvdXJjZSBmaWxlIGhhcyBhIGZvbGRlciBjYWxsZWQgImRhdGEiIGluIHdoaWNoIHRoZSBgZGV2MjAxOC5jc3ZgIGZpbGUgaXMgc3RvcmVkLiBBbHRlcm5hdGl2ZWx5LCBgZGV2IDwtIHJlYWQuY3N2KCJkZXYyMDE4LmNzdiIpYCB3b3VsZCByZWFkIHRoZSBmaWxlIGRpcmVjdGx5IGZyb20geW91ciB3b3JraW5nIGRpcmVjdG9yeS4gWW91IGNvdWxkIGFsc28gdXNlIGBkZXYgPC0gcmVhZC5jc3YoIkM6L1VzZXJzL3lvdXJ1c2VybmFtZS9Eb2N1bWVudHMvZGV2MjAxOC5jc3YiKWAgaW4gV2luZG93cyBvciBgZGV2IDwtIHJlYWQuY3N2KCIvVXNlcnMveW91cnVzZXJuYW1lL0RvY3VtZW50cy9kZXYyMDE4LmNzdiIpYCBpbiBNYWNPUyB0byByZWFkIHRoZSBkYXRhIGZpbGUgZnJvbSBhbiBhcmJpdGFyeSBmb2xkZXIgdXNpbmcgaXRzIGFic29sdXRlIHBhdGguIFNpbWlsYXJpbHkgdG8gdGhlIGBkYXRhLmZyYW1lYCBjb25zdHJ1Y3Rvciwgd2UgY2FuIGFsc28gdXNlIHRoZSBgc3RyaW5nc0FzRmFjdG9yc2AgYXJndW1lbnQgdG8gZW5zdXJlIGFsbCBjaGFyYWN0ZXIgdmFyaWFibGVzIGFyZSByZWFkIGFzIHN0cmluZ3MuCgpZb3UgY2FuIGFsc28gc2F2ZSBkYXRhIHRvIC5jc3YgZmlsZXMgYnkgdXNpbmcgdGhlIGB3cml0ZS5jc3ZgLCB3aGljaCB0YWtlcyB0aGUgZGF0YSBmcmFtZSBhcyBpdHMgZmlyc3QgYXJndW1lbnQgYW5kIHRoZSBzdHJpbmcgc3BlY2lmeWluZyB0aGUgcGF0aCB0byB3aGljaCB5b3Ugd2FudCB0byBzYXZlIHRoZSBmaWxlIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuIEZvciBleGFtcGxlLCBzdXBwb3NlIHdlIHdhbnQgdG8ga2VlcCBvbmx5IHRoZSBmaXJzdCA0MCByb3dzIG9mIHRoZSBkYXRhIGFuZCBzdG9yZSBpdCBpbiBhIHNlcGFyYXRlIGZpbGUuIAoKYGBge3J9CmRldl9uZXcgPC0gZGV2WzE6NDAsIF0Kd3JpdGUuY3N2KGRldl9uZXcsICJkYXRhL3VuX2RhdGEvZGV2X25ldy5jc3YiKQpgYGAKCiMjIyMgUmVhZGluZyBmcm9tIG90aGVyIGZvcm1hdHMgey19CgpXaGlsZSBjc3YgaXMgdGhlIG1vc3QgY29tbW9uIGZvcm1hdCwgdGhlIGRhdGEgaXMgb2Z0ZW4gbGlrZWx5IHRvIGNvbWUgaW4gbWFueSBvdGhlciB2YXJpYW50cyAtIGNvbW1vbiBleGFtcGxlcyBpbmNsdWRlIFN0YXRhJ3MgYC5kdGFgIGZpbGVzIG9yIFNQU1MnIGAuc2F2YCwgYXMgd2VsbCBhcyBgLnhsc3hgIEV4Y2VsIGZvcm1hdC4gU29tZSBvZiB0aGUgUiBwYWNrYWdlcyBvZmZlciBmdW5jdGlvbmFsaXRpZXMgcGVyY2lzZWx5IHRvIGRlYWwgd2l0aCBzdWNoIGZpbGVzLiAKClNvIGZhciwgd2UgaGF2ZSBvbmx5IHVzZWQgdGhlIGJ1aWx0LWluIGZ1bmN0aW9uYWxpdGllcyBvZmZlcmVkIGJ5IFIuIFdoaWxlIHRoZWlyIHJhbmdlIGlzIHByZXR0eSBleHRlbnNpdmUgYW5kIHRoZSBvbmVzIGNvdmVyZWQgaW4gdGhpcyBjb3Vyc2UgYXJlIG9ubHkgdGhlIHRpcCBvZiB0aGUgaWNlYmVyZywgbXVjaCBtb3JlIHRoYW4gdGhhdCBpcyBvZmZlcmVkIGJ5IHVzZXItbWFkZSBwYWNrYWdlcywgd2hpY2ggb2ZmZXIgbmV3IGZ1bmN0aW9ucyB1c2VmdWwgZm9yIHNwZWNpZmljIHRhc2tzLiBUaGUgb2ZmaWNpYWwgUiBwYWNrYWdlcyBhcmUgYXZhaWxhYmxlIHRocm91Z2ggW0NSQU5dKGh0dHBzOi8vY3Jhbi5yLXByb2plY3Qub3JnLykuIFRvIHVzZSBhIHBhY2thZ2UgaXQgbmVlZHMgdG8gYmUgaW5zdGFsbGVkIGZpcnN0IGFuZCB0aGVuIGxvYWRlZC4gRm9yIGV4YW1wbGUsIHRvIHVzZSBhbiBleGFtcGxlIHBhY2thZ2UgbmFtZWQgX2Zvb18sIHlvdSBzaG91bGQgZmlyc3QgcnVuIGBpbnN0YWxsLnBhY2thZ2VzKCJmb28iKWAgdG8gZG93bmxvYWQgdGhlIHBhY2thZ2UgZmlsZXMgZnJvbSBDUkFOIGFuZCBpbnN0YWxsIGl0IGFuZCB0aGVuIHB1dCBgbGlicmFyeShmb28pYCBpbiB5b3VyIFIgU2NyaXB0IHRvIGxvYWQgaXQgaW50byBSLiBOb3RlIHRoYXQgd2hpbGUgaW5zdGFsbGF0aW9uIGhhcyB0byBiZSBkb25lIG9ubHkgb25jZSwgeW91IGhhdmUgdG8gbG9hZCB0aGUgbGlicmFyeSBldmVyeSB0aW1lIHlvdSB1c2UgaXQgLSB0aGF0J3Mgd2h5LCB5b3Ugc2hvdWxkIGFsd2F5cyBwdXQgdGhlIGBsaWJyYXJ5YCBjYWxscyBhdCB0aGUgdG9wIG9mIHlvdXIgUiBzY3JpcHQuIElmIHlvdSB1c2UgYSBmdW5jdGlvbiBmcm9tIHRoYXQgcGFja2FnZSB3aXRob3V0IGxvYWRpbmcgaXQgZmlyc3QsIHlvdXIgUiBzY3JpcHQgZXhlY3V0aW9uIHdpbGwgZmFpbCEgUGxlYXNlIGFsc28gbm90ZSwgdGhhdCB5b3UgcGFzcyB0aGUgcGFja2FnZSBuYW1lIGFzIGEgX3N0cmluZ18gKGkuZS4gaW4gcXVvdGF0aW9uIG1hcmtzKSB0byB0aGUgYGluc3RhbGwucGFja2FnZXNgLCBidXQgd2l0aG91dCB0aGVtIHRvIGBsaWJyYXJ5YC4KCgoKCgpDb21pbmcgYmFjayB0byBvdXIgZXhhbXBsZSwgd2UgY2FuIHVzZSB0aGUgUiBwYWNrYWdlIGBoYXZlbmAgdG8gbG9hZCBTdGF0YSwgU1BTUyBhbmQgU0FTIGZpbGVzLiBZb3UgY2FuIHNlZSBhbiBleGFtcGxlIGJlbG93OgoKYGBge3IgfQpsaWJyYXJ5KGhhdmVuKQpkZXZfc3RhdGEgPC0gcmVhZF9kdGEoImRhdGEvdW5fZGF0YS9kZXYyMDE4LmR0YSIpCmBgYAoKU2ltaWxhcmlseSwgdGhlIGRhdGEgY2FuIGJlIHdyaXR0ZW4gdXNpbmc6CgpgYGB7cn0Kd3JpdGVfZHRhKGRldiwgImRhdGEvdW5fZGF0YS9kZXYyMDE4LmR0YSIpCmBgYAoKT3RoZXIgYWx0ZXJuYXRpdmVzIG9mZmVyZWQgYnkgdGhlIGBoYXZlbmAgcGFja2FnZSBpbmxjdWRlIGByZWFkX3NhdmAgb3IgYHJlYWRfeHB0YC4gT3RoZXIgcGFja2FnZXMgdXNlZnVsIGZvciByZWFkaW5nIHVudXN1YWwgZGF0YSB0eXBlcyBpbmNsdWRlIGByZWFkeGxgIGZvciByZWFkaW5nIEV4Y2VsIGZpbGVzIGFuZCBgZm9yZWlnbmAgZm9yIGEgYnJvYWRlciBjaG9pY2Ugb2YgZmlsZSB0eXBlcy4KCiMjIyBNaXNzaW5nIHZhbHVlcyB7LX0KCkFzIG1lbnRpb25lZCBlYXJsaWVyLCB0aGUgYE5BYCBtaXNzaW5nIHZhbHVlIGNvbnN0YW50IGlzIHBhcnRpY3VsYXJseSBpbXBvcnRhbnQgaW4gUi4gUmVhbC1saWZlIGRhdGEgdGhhdCB5b3UgYXJlIGxpa2VseSB0byBkZWFsIHdpdGggbW9zdCBvZiB0aGUgdGltZSB3aGVuIHVzaW5nIFIgaW4gcHJhY3RpY2UgaXMgb2Z0ZW4gaW1wZXJmZWN0IGFuZCBtaXNzaW5nbmVzcyBzaG91bGQgYmUgYWRkcmVzc2VkIGFzIG9uZSBvZiB0aGUgZmlyc3Qgc3RlcHMgb2YgdGhlIGFuYWx5c2lzIHByb2Nlc3MuCgpgaXMubmEoKWAgY29tbWFuZCBjYW4gYmUgdXNlZCB0byBkZXRlcm1pbmUgd2hldGhlciBhIHZhbHVlIG9mIGFuIFIgb2JqZWN0IGlzIG1pc3NpbmcuIEl0IHJldHVybnMgdHJ1ZSBmb3IgZWFjaCB2YWx1ZSBvZiB0aGUgaW5kZXggd2hpY2ggaXMgbWlzc2luZy4KCmBgYHtyfQpudW1iZXJzIDwtIGMoMSwgNCwgTkEsIDYsIE5BKQppcy5uYShudW1iZXJzKQpgYGAKClRvIGNvdW50IE5BcyBpbiBhbiBSIG9iamVjdCB3ZSBjYW4gbGV2YXJhZ2UgdGhlIGZhY3QgdGhhdCBgVFJVRWAgdmFsdWVzIGFyZSBhbHNvIGludGVycHJldGVkIGFzIDEgYW5kIHVzZSB0aGUgYHN1bWAgZnVuY3Rpb246CgpgYGB7cn0Kc3VtKGlzLm5hKG51bWJlcnMpKQpgYGAKCllvdSBjYW4gYWxzbyB2ZXJpZnkgd2hldGhlciBhbiBvYmplY3QgY29udGFpbnMgYE5BYHMgdXNpbmcgdGhlIGBhbnlOQWAgZnVuY3Rpb24uIExldCdzIGNoZWNrIGlmIHRoZSBIREkgZGF0YSB3ZSBoYXZlIGxvYWRlZCBjb250YWlucyBhbnkgbWlzc2luZyB2YWx1ZXM6CgpgYGB7cn0KZGV2IDwtIHJlYWQuY3N2KCJkYXRhL3VuX2RhdGEvZGV2MjAxOC5jc3YiKQphbnlOQShkZXYpCmBgYAoKVGhlIGNvbHVtbiByZXR1cm5zIGBUUlVFYC4gVGhlcmVmb3JlIHRoZXJlIGlzIHNvbWUgbWlzc2luZ25lc3MgaW4gdGhlIGRhdGEuCgpBbm90aGVyIHVzZWZ1bCBmdW5jdGlvbiBmb3IgbWlzc2luZyBkYXRhIGFuYWx5c2lzIGlzIGBjb21wbGV0ZS5jYXNlc2AuIEFzIHRoZSBuYW1lIHN1Z2dlc3RzLCBnaXZlbiBhIGRhdGEgZnJhbWUgaXQgcmV0dXJucyBhIGxvZ2ljYWwgdmVjdG9yIHdpdGggYFRSVUVgIGZvciBlYWNoIHJvdyB3aGljaCBkb2Vzbid0IGNvbnRhaW4gbWlzc2luZyB2YWx1ZXMuIFdlIGNhbiB2ZXJpZnkgd2hpY2ggb2JzZXJ2YXRpb25zIGFyZSB0aGUgY2F1c2Ugb2YgdGhlIGRhdGEgbWlzc2luZ25lc3M6CgpgYGB7cn0KZGV2WyFjb21wbGV0ZS5jYXNlcyhkZXYpLCBdCmBgYAoKCiMjIyBMaXN0cyB7LX0KClRoZSBmaW5hbCBrZXkgUiBkYXRhIHN0cnVjdHVyZSBjb3ZlcmVkIGluIHRoaXMgc2VjdGlvbiBhcmUgbGlzdHMuIFNpbWlsYXJpbHkgdG8gZGF0YSBmcmFtZXMsIGxpc3RzIGNhbiBiZSB0aG91Z2h0IG9mIGNvbnRhaW5lcnMgdG8gc3RvcmUgb3RoZXIgZGF0YSBzdHJ1Y3R1cmVzLl5bTW9yZSBzcGVjaWZpY2FsbHksIHRoZSBgZGF0YS5mcmFtZWAgY2xhc3MgaXMgYSBzcGVjaWFsIHR5cGUgb2YgYGxpc3RgIC0geW91IGNhbiB2ZXJpZnkgdGhhdCBieSBydW5uaW5nIHRoZSBgdHlwZW9mYCBmdW5jdGlvbiB3aXRoIGEgZGF0YSBmcmFtZSBhcyBpbnB1dC5dIEhvd2V2ZXIsIHVubGlrZSBkYXRhIGZyYW1lcywgdGhleSBhcmUgbGVzcyBzdHJpY3QgaW4gdGVybXMgb2YgdGhlaXIgY29udGVudHMgLSBhIGxpc3QgY2FuIHN0b3JlIHZlY3RvcnMgb2YgZGlmZmVyZW50IGxlbmd0aCwgZGF0YSBmcmFtZXMgYW5kIGV2ZW4gb3RoZXIgbGlzdHMuIExpc3RzIGFyZSBjcmVhdGVkIHdpdGggdGhlIGBsaXN0KClgIGNvbnN0cnVjdG9yLgoKYGBge3J9Cm15X2xpc3QgPC0gbGlzdChuYW1lcyA9IGMoIlRvbSIsIkphbWVzIiwiVGltIiksIHZhbHVlcyA9IDE6MjApCm15X2xpc3QKYGBgCgpZb3UgY2FuIGV4dHJhY3QgZWxlbWVudHMgZnJvbSBhIGxpc3QgdXNpbmcgdGhlaXIgbmFtZXMgb3IgdGhlaXIgbnVtZXJpYyBpbmRleC4gVG8gaW5kZXggYSBsaXN0LCBfZG91YmxlIHNxdWFyZSBicmFja2V0c18gYFtbYCBhcmUgdXNlZCwgYXMgb3Bwb3NlZCB0byB2ZWN0b3JzLgoKYGBge3J9Cm15X2xpc3RbWzFdXQpgYGAKCmBgYHtyfQpteV9saXN0W1sibmFtZXMiXV0KYGBgCgpJZiBhIGxpc3QgaXMgaW5kZXhlZCB3aXRoIHNpbmdsZSBicmFja2V0cywgaXQgcmV0dXJucyBhIG9uZS1lbGVtZW50IGxpc3QsIHJhdGhlciB0aGFuIHRoZSBvYmplY3Qgc3RvcmVkIGluIGl0OgoKYGBge3J9CnZhbHVlcyA8LSBteV9saXN0W1sidmFsdWVzIl1dCnN0cih2YWx1ZXMpCnZhbHVlcyA8LSBteV9saXN0WyJ2YWx1ZXMiXQpzdHIodmFsdWVzKQpgYGAKCllvdSBjYW4gYWxzbyBleHRyYWN0IGVsZW1lbnRzIGZyb20gYSBsaXN0IHVzaW5nIHRoZSBgJGAgb3BlcmF0b3IsIHNpbWlsYXJpbHkgdG8gZGF0YS5mcmFtZXMuIEZpbmFsbHksIHlvdSBjYW4gYXNzaWduIHZhbHVlcyB0byBsaXN0cyBzaW1pbGFyaWx5IGFzIGluIHRoZSBjYXNlIG9mIHZlY3RvcnMgb3IgZGF0YS5mcmFtZXM6CgpgYGB7cn0KbXlfbGlzdFtbIm5ldyJdXSA8LSBjKCJuZXciLCJ2YWx1ZXMiKQpzdHIobXlfbGlzdCkKYGBgCgoKIyMgU3VtbWFyeQoKLSAqRGF0YSBGcmFtZXMqIGFyZSBvbmUgb2YgdGhlIG1vc3QgY29tbW9uIGRhdGEgc3RydWN0dXJlcyBpbiBSLiBZb3UgY2FuIHRoaW5rIGFib3V0IHRoZW0gYXMgYW4gRXhjZWwgc3ByZWFkc2hlZXQgd2l0aCB0YWJsZXMgd2l0aCByb3dzIGFuZCBjb2x1bW5zIG9yIGFzIGEgbGlzdCBvZiB2YXJpYWJsZXMgKHZlY3RvcnMgb2YgZXF1YWwgbGVuZ3RoKSwgZWFjaCB3aXRoIGl0cyB1bmlxdWUgbmFtZS4gRWFjaCB2YWx1ZSBpbiBhIGRhdGEgZnJhbWUgaGFzIHR3byBpbmRleGVzIC0gb25lIGZvciB0aGUgcm93IG51bWJlciBhbmQgb25lIGZvciB0aGUgY29sdW1uIG51bWJlci4gRm9yIGV4YW1wbGUsIGBkZlsyLDNdYCByZXRyaWV2ZXMgdGhlIHZhbHVlIGluIHRoZSBzZWNvbmQgcm93IGZyb20gdGhlIHRoaXJkIGNvbHVtbi4KCi0gKkZhY3RvcnMqIGFyZSBhIHNwZWNpYWwga2luZCBvZiB2ZWN0b3JzIHRoYXQgY2FuIG9ubHkgdGFrZSBhIHByZS1zcGVjaWZpZWQgc2V0IG9mIHZhbHVlcywgZGV0ZXJtaW5lZCB3aGVuIHRoZSBmYWN0b3IgaXMgY3JlYXRlZC4KCi0gKmNzdiBmaWxlcyogYXJlIHRoZSBtb3N0IGNvbW1vbiB3YXkgb2Ygc3RvcmluZyBkYXRhIGluIFIuIFlvdSBjYW4gbG9hZCB0aGUgZGF0YSBmcm9tIHRoZW0gdXNpbmcgYHJlYWQuY3N2YCBhbmQgc2F2ZSB0aGUgZGF0YSB1c2luZyBgd3JpdGUuY3N2YC4gCgotICp3b3JraW5nIGRpcmVjdG9yeSogaXMgdGhlIGZvbGRlciBpbiB5b3VyIGNvbXB1dGVyIHdoZXJlIFIgbG9va3MgZm9yIGZpbGVzIGJ5IGRlZmF1bHQuIFlvdSBjYW4gY2hlY2sgaXQgdXNpbmcgdGhlIGBnZXR3ZCgpYCBmdW5jdGlvbiwgY2hhbmdlIGl0IHVzaW5nIGBzZXR3ZCgpYG9yIHNldCBpdCB0byB0aGUgbG9jYXRpb24gd2hlcmUgeW91ciBjdXJyZW50IHNjcmlwdCBpcyBsb2NhdGVkIGJ5IHNlbGVjdGluZyBgU2Vzc2lvbiA+IFNldCBXb3JraW5nIERpcmVjdG9yeSA+IFRvIFNvdXJjZSBGaWxlIExvY2F0aW9uYC4gCgotICpwYWNrYWdlcyogYXJlIHNldHMgb2YgbmV3IGZ1bmN0aW9ucyBkZXZlbG9wZWQgZm9yIFIgYnkgZXh0ZXJuYWwgZGV2ZWxvcGVycywgZXh0ZW5kaW5nIGl0cyBmdW5jdGlvbmFsaXRpZXMuIFlvdSBjYW4gaW5zdGFsbCB0aGVtIHVzaW5nIGBpbnN0YWxsLnBhY2thZ2VzYCBhbmQgbG9hZCB0aGVtIHVzaW5nIHRoZSBgbGlicmFyeWAgZnVuY3Rpb24uCgotICptaXNzaW5nIHZhbHVlcyogYXJlIG1hcmtlZCBpbiBSIGJ5IHRoZSBgTkFgIHRva2VuLiBUaGVyZSBhcmUgbWFueSB1c2VmdWwgZnVuY3Rpb25zIGNyZWF0ZWQgdG8gZGV0ZWN0IG1pc3NpbmcgdmFsdWVzLCBzdWNoIGFzIGBpcy5uYWAsIGBjb21wbGV0ZS5jYXNlc2Agb3IgYGFueU5BYC4KCi0gKmxpc3RzKiBhcmUgYW5vdGhlciB0eXBlIG9mIFIgZGF0YSBzdHJ1Y3R1cmUuIFRoZXkgY2FuIGJlIHRob3VnaHQgb2YgYXMgY29udGFpbmVycywgd2hpY2ggY2FuIGJlIHVzZWQgdG8gc3RvcmUgYXJiaXRyYXJ5IGVsZW1lbnRzIGF0IGVhY2ggcG9zaXRpb24uCgojIyMgRnVuY3Rpb25zIGxpc3Qgey19CgoKCgojIyBFeGVyY2lzZXMKCgoxLiBUaGUgZm9sbG93aW5nIGNvZGUgcmV0dXJucyBhbiBlcnJvci4gV2h5PyBDaGVjayB3aGF0IGhhcHBlbmRzIGlmIHdlIHNldCBiIHRvIGAxOjVgIGluc3RlYWQgb2YgYDE6M2AuIEV4cGxhaW4gdGhpcyBiZWhhdmlvdXIuCgoKCgoKCgoKMi4gV2hhdCBpcyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIGNoYXJhY3RlciBhbmQgZmFjdG9yIHZlY3RvcnMgaW4gUj8gSW4gd2hhdCBzaXR1YXRpb24geW91IG1pZ2h0IHByZWZlciBvbmUgb3ZlciB0aGUgb3RoZXIgYW5kIHZpY2UgdmVyc2E/CgoKCgoKCjMuIFRvIGNvbXBsZXRlIHRoaXMgZXhlcmNpc2UsIGxvYWQgdGhlIGBkZXYyMDE4LmNzdmAgZGF0YSBpbnRvIFIuCgoKCgoKYS4gV2hhdCBwcm9wb3J0aW9uIG9mIHRoZSByb3dzIGFyZSBjb21wbGV0ZT8gCgoKCgpiLiBTdG9yZSBhbGwgdGhlIG5vbi1taXNzaW5nIHJvd3MgaW4gYSBkYXRhLmZyYW1lIGNhbGxlZCBgZGV2X2NsZWFuYC4KCgoKCmMuIEZvciB0aGUgYGRldl9jbGVhbmAsIGNvbXB1dGUgdGhlIEhESSBmb2xsb3dpbmcgdGhlIG1ldGhvZCBvdXRsaW5lZCBpbiB0aGUgcHJldmlvdXMgY2hhcHRlci4KCgoKCmQuIFVzZSBpbmRleGluZyB0byByZXRyaWV2ZToKCi0gY291bnRyaWVzIHdpdGggSERJIGdyZWF0ZXIgdGhhbiAwLjcgb3IgR05JIHBlciBjYXBpdGEgZ3JlYXRlciB0aGFuIDEwMDAwCi0gMTAgY291bnRyaWVzIHdpdGggdGhlIGxhcmdlc3QgR05JCi0gMTAgY291bnRyaWVzIHdpdGggc2hvcnRlc3QgbGlmZSBleHBhY3RhbmN5IGF0IGJpcnRoCi0gdGhlIGRldmVsb3BtZW50IGRhdGEgZm9yIFBvbGFuZAotIGNvdW50cmllcyB3aXRoIEVkdWNhdGlvbiBJbmRleCBoaWdoZXIgdGhhbiBMaWZlIEV4cGVjdGFuY3kgSW5kZXgKCgoKCmUuIFRoZSBVTiBjYXRlZ29yaXplcyB0aGUgY291bnRyaWVzIGludG8gNCBncm91cHMgYmFzZWQgb24gdGhlaXIgSERJIHZhbHVlIC0gX3ZlcnkgaGlnaCBodW1hbiBkZXZlbG9wbWVudF8gJEhESSBcZ2VxIDAuOCQsIF9oaWdoIGh1bWFuIGRldmVsb3BtZW50XyAkMC44ID4gSERJIFxnZXEgMC43JCwgX21lZGl1bSBodW1hbiBkZXZlbG9wbWVudF8gJDAuNyA+IEhESSBcZ2VxIDAuNTUkIGFuZCBfbG93IGh1bWFuIGRldmVsb3BtZW50XyAkMC41NSA+IEhESSQuIEJhc2VkIG9uIHRoaXMgdGhyZXNob2xkcywgY3JlYXRlIGEgZGF0YSBmcmFtZSBjYWxsZWQKaGRpX2dyb3Vwcywgd2l0aCBlbGVtZW50IG5hbWVzIGAidmhpZ2giLCAiaGlnaCIsICJtZWQiLCAibG93ImAsIHdpdGggZWFjaCBjb250YWluaW5nIGEgZGF0YWZyYW1lIG9ubHkgd2l0aCBvYnNlcnZhdGlvbnMgY29ycmVzcG9uZGluZyB0byBpdHMgcmVzcGVjdGl2ZSBIREkgZ3JvdXAuIEhvdyBtYW55IHJvd3MgKGFzIGEgZnJhY3Rpb24gb2YgdG90YWwgZGF0YS5mcmFtZSBzaXplKSBkb2VzIGVhY2ggb2YgdGhlc2UgbGV2ZWxzIGNvbnNpc3Qgb2Y/CgoKCgoKMy4gVGhlIGZvbGxvd2luZyBvcGVyYXRpb24gcmV0dXJucyBhIHdhcm5pbmcgZXJyb3IgYW5kIHRoZSByZXN1bHQgaXMgbm90IHF1aXRlIGFzIHlvdSB3b3VsZCBleHBlY3QuIFdoeT8gSG93IHdvdWxkIHlvdSByZXBsYWNlIHRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBsaXN0IHdpdGggdGhlIGAxOjVgIHNlcXVlbmNlIHNvIHRoYXQgdGhlIGVycm9yIGRvZXNuJ3QgYXBwZWFyPyBOYW1lIHRoZSB0d28gd2F5cyB0aGlzIGNvdWxkIGJlIGRvbmUuCgpgYGB7cn0KbXlfbGlzdCA8LSBsaXN0KHZhbHMgPSAxOjEwLCBuYW1lcyA9IGMoIkphbmUiLCJLYXRlIikpCm15X2xpc3RbMV0gPC0gMTo1CmBgYAoKCgoKKlRoZSBzb2x1dGlvbnMgZm9yIHRoZSBleGVyY2lzZXMgd2lsbCBiZSBhdmFpbGFibGUgaGVyZSBvbiBgciBjb25maWckZGF0YV9zdHJ1Y3R1cmVzYC4qCgoKCgoA');
        if (!response.ok) throw new Error('Network response failed');
        const blob = await response.blob();
        const blobUrl = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = blobUrl;
        a.download = '03-data_structures.Rmd';
        a.style.display = 'none';
        document.body.appendChild(a);
        a.dispatchEvent(new MouseEvent('click'));
        document.body.removeChild(a);
        setTimeout(() =&gt; {
          window.URL.revokeObjectURL(blobUrl);
        }, 100);
        return false;
      } catch (error) {
        console.error('Download failed:', error);
        alert('Download failed. Please try again.');
      }
    }
    downloadFile(event);
  "><i class="fa fa-save"></i> Chapter markdown</button>
<button class="btn btn-default" onclick="
    async function downloadFile(event) {
      event.preventDefault();
      try {
        const response = await fetch('data:text/plain;base64,IycgIyMgRXhlcmNpc2VzCiMnIAojJyAKIycgMS4gVGhlIGZvbGxvd2luZyBjb2RlIHJldHVybnMgYW4gZXJyb3IuIFdoeT8gQ2hlY2sgd2hhdCBoYXBwZW5kcyBpZiB3ZSBzZXQgYiB0byBgMTo1YCBpbnN0ZWFkIG9mIGAxOjNgLiBFeHBsYWluIHRoaXMgYmVoYXZpb3VyLgojJyAKIycgCiMnIAojJyAKIycgCiMnIAojJyAKIycgCiMnIDIuIFdoYXQgaXMgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBjaGFyYWN0ZXIgYW5kIGZhY3RvciB2ZWN0b3JzIGluIFI/IEluIHdoYXQgc2l0dWF0aW9uIHlvdSBtaWdodCBwcmVmZXIgb25lIG92ZXIgdGhlIG90aGVyIGFuZCB2aWNlIHZlcnNhPwojJyAKIycgCiMnIAojJyAKIycgCiMnIAojJyAzLiBUbyBjb21wbGV0ZSB0aGlzIGV4ZXJjaXNlLCBsb2FkIHRoZSBgZGV2MjAxOC5jc3ZgIGRhdGEgaW50byBSLgojJyAKIycgCiMnIAojJyAKIycgCiMnIGEuIFdoYXQgcHJvcG9ydGlvbiBvZiB0aGUgcm93cyBhcmUgY29tcGxldGU/IAojJyAKIycgCiMnIAojJyAKIycgYi4gU3RvcmUgYWxsIHRoZSBub24tbWlzc2luZyByb3dzIGluIGEgZGF0YS5mcmFtZSBjYWxsZWQgYGRldl9jbGVhbmAuCiMnIAojJyAKIycgCiMnIAojJyBjLiBGb3IgdGhlIGBkZXZfY2xlYW5gLCBjb21wdXRlIHRoZSBIREkgZm9sbG93aW5nIHRoZSBtZXRob2Qgb3V0bGluZWQgaW4gdGhlIHByZXZpb3VzIGNoYXB0ZXIuCiMnIAojJyAKIycgCiMnIAojJyBkLiBVc2UgaW5kZXhpbmcgdG8gcmV0cmlldmU6CiMnIAojJyAtIGNvdW50cmllcyB3aXRoIEhESSBncmVhdGVyIHRoYW4gMC43IG9yIEdOSSBwZXIgY2FwaXRhIGdyZWF0ZXIgdGhhbiAxMDAwMAojJyAtIDEwIGNvdW50cmllcyB3aXRoIHRoZSBsYXJnZXN0IEdOSQojJyAtIDEwIGNvdW50cmllcyB3aXRoIHNob3J0ZXN0IGxpZmUgZXhwYWN0YW5jeSBhdCBiaXJ0aAojJyAtIHRoZSBkZXZlbG9wbWVudCBkYXRhIGZvciBQb2xhbmQKIycgLSBjb3VudHJpZXMgd2l0aCBFZHVjYXRpb24gSW5kZXggaGlnaGVyIHRoYW4gTGlmZSBFeHBlY3RhbmN5IEluZGV4CiMnIAojJyAKIycgCiMnIAojJyBlLiBUaGUgVU4gY2F0ZWdvcml6ZXMgdGhlIGNvdW50cmllcyBpbnRvIDQgZ3JvdXBzIGJhc2VkIG9uIHRoZWlyIEhESSB2YWx1ZSAtIF92ZXJ5IGhpZ2ggaHVtYW4gZGV2ZWxvcG1lbnRfICRIREkgXGdlcSAwLjgkLCBfaGlnaCBodW1hbiBkZXZlbG9wbWVudF8gJDAuOCA+IEhESSBcZ2VxIDAuNyQsIF9tZWRpdW0gaHVtYW4gZGV2ZWxvcG1lbnRfICQwLjcgPiBIREkgXGdlcSAwLjU1JCBhbmQgX2xvdyBodW1hbiBkZXZlbG9wbWVudF8gJDAuNTUgPiBIREkkLiBCYXNlZCBvbiB0aGlzIHRocmVzaG9sZHMsIGNyZWF0ZSBhIGRhdGEgZnJhbWUgY2FsbGVkCiMnIGhkaV9ncm91cHMsIHdpdGggZWxlbWVudCBuYW1lcyBgInZoaWdoIiwgImhpZ2giLCAibWVkIiwgImxvdyJgLCB3aXRoIGVhY2ggY29udGFpbmluZyBhIGRhdGFmcmFtZSBvbmx5IHdpdGggb2JzZXJ2YXRpb25zIGNvcnJlc3BvbmRpbmcgdG8gaXRzIHJlc3BlY3RpdmUgSERJIGdyb3VwLiBIb3cgbWFueSByb3dzIChhcyBhIGZyYWN0aW9uIG9mIHRvdGFsIGRhdGEuZnJhbWUgc2l6ZSkgZG9lcyBlYWNoIG9mIHRoZXNlIGxldmVscyBjb25zaXN0IG9mPwojJyAKIycgCiMnIAojJyAKIycgCiMnIDMuIFRoZSBmb2xsb3dpbmcgb3BlcmF0aW9uIHJldHVybnMgYSB3YXJuaW5nIGVycm9yIGFuZCB0aGUgcmVzdWx0IGlzIG5vdCBxdWl0ZSBhcyB5b3Ugd291bGQgZXhwZWN0LiBXaHk/IEhvdyB3b3VsZCB5b3UgcmVwbGFjZSB0aGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgbGlzdCB3aXRoIHRoZSBgMTo1YCBzZXF1ZW5jZSBzbyB0aGF0IHRoZSBlcnJvciBkb2Vzbid0IGFwcGVhcj8gTmFtZSB0aGUgdHdvIHdheXMgdGhpcyBjb3VsZCBiZSBkb25lLgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCm15X2xpc3QgPC0gbGlzdCh2YWxzID0gMToxMCwgbmFtZXMgPSBjKCJKYW5lIiwiS2F0ZSIpKQpteV9saXN0WzFdIDwtIDE6NQoKIycgCiMnIAojJyAKIycgCiMnICpUaGUgc29sdXRpb25zIGZvciB0aGUgZXhlcmNpc2VzIHdpbGwgYmUgYXZhaWxhYmxlIGhlcmUgb24gYHIgY29uZmlnJGRhdGFfc3RydWN0dXJlc2AuKgojJyAKIycgCgA=');
        if (!response.ok) throw new Error('Network response failed');
        const blob = await response.blob();
        const blobUrl = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = blobUrl;
        a.download = '03-data_structures-exercises.R';
        a.style.display = 'none';
        document.body.appendChild(a);
        a.dispatchEvent(new MouseEvent('click'));
        document.body.removeChild(a);
        setTimeout(() =&gt; {
          window.URL.revokeObjectURL(blobUrl);
        }, 100);
        return false;
      } catch (error) {
        console.error('Download failed:', error);
        alert('Download failed. Please try again.');
      }
    }
    downloadFile(event);
  "><i class="fa fa-save"></i> Chapter exercises</button>
<button class="btn btn-default" onclick="
    async function downloadFile(event) {
      event.preventDefault();
      try {
        const response = await fetch('data:text/csv;base64,Y291bnRyeSxleXMsZ25pLGxleHAsbXlzCkFmZ2hhbmlzdGFuLDEwLjEsMTc0Niw2NC41LDMuOQpBbGJhbmlhLDE1LjIsMTIzMDAsNzguNSwxMC4xCkFsZ2VyaWEsMTQuNywxMzYzOSw3Ni43LDgKQW5kb3JyYSwxMy4zLDQ4NjQxLDgxLjgsMTAuMgpBbmdvbGEsMTEuOCw1NTU1LDYwLjgsNS4xCkFudGlndWEgYW5kIEJhcmJ1ZGEsMTIuNSwyMjIwMSw3Ni45LDkuMwpBcmdlbnRpbmEsMTcuNiwxNzYxMSw3Ni41LDEwLjYKQXJtZW5pYSwxMy4yLDkyNzcsNzQuOSwxMS44CkF1c3RyYWxpYSwyMi4xLDQ0MDk3LDgzLjMsMTIuNwpBdXN0cmlhLDE2LjMsNDYyMzEsODEuNCwxMi42CkF6ZXJiYWlqYW4sMTIuNCwxNTI0MCw3Mi45LDEwLjUKQmFoYW1hcywxMi44LDI4Mzk1LDczLjgsMTEuNQpCYWhyYWluLDE1LjMsNDAzOTksNzcuMiw5LjQKQmFuZ2xhZGVzaCwxMS4yLDQwNTcsNzIuMyw2LjEKQmFyYmFkb3MsMTUuMiwxNTkxMiw3OS4xLDEwLjYKQmVsYXJ1cywxNS40LDE3MDM5LDc0LjYsMTIuMwpCZWxnaXVtLDE5LjcsNDM4MjEsODEuNSwxMS44CkJlbGl6ZSwxMy4xLDcxMzYsNzQuNSw5LjgKQmVuaW4sMTIuNiwyMTM1LDYxLjUsMy44CkJodXRhbiwxMi4xLDg2MDksNzEuNSwzLjEKQm9saXZpYSAoUGx1cmluYXRpb25hbCBTdGF0ZSBvZiksMTQsNjg0OSw3MS4yLDkKQm9zbmlhIGFuZCBIZXJ6ZWdvdmluYSwxMy44LDEyNjkwLDc3LjMsOS43CkJvdHN3YW5hLDEyLjcsMTU5NTEsNjkuMyw5LjMKQnJhemlsLDE1LjQsMTQwNjgsNzUuNyw3LjgKQnJ1bmVpIERhcnVzc2FsYW0sMTQuNCw3NjM4OSw3NS43LDkuMQpCdWxnYXJpYSwxNC44LDE5NjQ2LDc0LjksMTEuOApCdXJraW5hIEZhc28sOC45LDE3MDUsNjEuMiwxLjYKQnVydW5kaSwxMS4zLDY2MCw2MS4yLDMuMQpDYWJvIFZlcmRlLDExLjksNjUxMyw3Mi44LDYuMgpDYW1ib2RpYSwxMS4zLDM1OTcsNjkuNiw0LjgKQ2FtZXJvb24sMTIuNywzMjkxLDU4LjksNi4zCkNhbmFkYSwxNi4xLDQzNjAyLDgyLjMsMTMuMwpDZW50cmFsIEFmcmljYW4gUmVwdWJsaWMsNy42LDc3Nyw1Mi44LDQuMwpDaGFkLDcuNSwxNzE2LDU0LDIuNApDaGlsZSwxNi41LDIxOTcyLDgwLDEwLjQKQ2hpbmEsMTMuOSwxNjEyNyw3Ni43LDcuOQpDb2xvbWJpYSwxNC42LDEyODk2LDc3LjEsOC4zCkNvbW9yb3MsMTEuMiwyNDI2LDY0LjEsNC45CkNvbmdvLDExLjYsNTgwNCw2NC4zLDYuNQpDb25nbyAoRGVtb2NyYXRpYyBSZXB1YmxpYyBvZiB0aGUpLDkuNyw4MDAsNjAuNCw2LjgKQ29zdGEgUmljYSwxNS40LDE0NzkwLDgwLjEsOC43CkNyb2F0aWEsMTUsMjMwNjEsNzguMywxMS40CkN1YmEsMTQuNCw3ODExLDc4LjcsMTEuOApDeXBydXMsMTQuNywzMzEwMCw4MC44LDEyLjEKQ3plY2hpYSwxNi44LDMxNTk3LDc5LjIsMTIuNwpDw7R0ZSBkJ0l2b2lyZSw5LjYsMzU4OSw1Ny40LDUuMgpEZW5tYXJrLDE5LjEsNDg4MzYsODAuOCwxMi42CkRqaWJvdXRpLDYuNSwzNjAxLDY2LjYsNApEb21pbmljYSwxMyw5MjQ1LDc4LjEsNy44CkRvbWluaWNhbiBSZXB1YmxpYywxNC4xLDE1MDc0LDczLjksNy45CkVjdWFkb3IsMTQuOSwxMDE0MSw3Ni44LDkKRWd5cHQsMTMuMSwxMDc0NCw3MS44LDcuMwpFbCBTYWx2YWRvciwxMiw2OTczLDczLjEsNi45CkVxdWF0b3JpYWwgR3VpbmVhLDkuMiwxNzc5Niw1OC40LDUuNgpFcml0cmVhLDUsMTcwOCw2NS45LDMuOQpFc3RvbmlhLDE2LjEsMzAzNzksNzguNiwxMwpFc3dhdGluaSAoS2luZ2RvbSBvZiksMTEuNCw5MzU5LDU5LjQsNi43CkV0aGlvcGlhLDguNywxNzgyLDY2LjIsMi44CkZpamksMTQuNCw5MTEwLDY3LjMsMTAuOQpGaW5sYW5kLDE5LjMsNDE3NzksODEuNywxMi40CkZyYW5jZSwxNS41LDQwNTExLDgyLjUsMTEuNApHYWJvbiwxMi45LDE1Nzk0LDY2LjIsOC4zCkdhbWJpYSw5LjUsMTQ5MCw2MS43LDMuNwpHZW9yZ2lhLDE1LjQsOTU3MCw3My42LDEyLjgKR2VybWFueSwxNy4xLDQ2OTQ2LDgxLjIsMTQuMQpHaGFuYSwxMS41LDQwOTksNjMuOCw3LjIKR3JlZWNlLDE3LjMsMjQ5MDksODIuMSwxMC41CkdyZW5hZGEsMTYuNiwxMjY4NCw3Mi40LDguOApHdWF0ZW1hbGEsMTAuNiw3Mzc4LDc0LjEsNi41Ckd1aW5lYSw5LDIyMTEsNjEuMiwyLjcKR3VpbmVhLUJpc3NhdSwxMC41LDE1OTMsNTgsMy4zCkd1eWFuYSwxMS41LDc2MTUsNjkuOCw4LjUKSGFpdGksOS41LDE2NjUsNjMuNyw1LjQKSG9uZHVyYXMsMTAuMiw0MjU4LDc1LjEsNi42CiJIb25nIEtvbmcsIENoaW5hIChTQVIpIiwxNi41LDYwMjIxLDg0LjcsMTIKSHVuZ2FyeSwxNS4xLDI3MTQ0LDc2LjcsMTEuOQpJY2VsYW5kLDE5LjIsNDc1NjYsODIuOSwxMi41CkluZGlhLDEyLjMsNjgyOSw2OS40LDYuNQpJbmRvbmVzaWEsMTIuOSwxMTI1Niw3MS41LDgKSXJhbiAoSXNsYW1pYyBSZXB1YmxpYyBvZiksMTQuNywxODE2Niw3Ni41LDEwCklyYXEsMTEuMSwxNTM2NSw3MC41LDcuMwpJcmVsYW5kLDE4LjgsNTU2NjAsODIuMSwxMi41CklzcmFlbCwxNiwzMzY1MCw4Mi44LDEzCkl0YWx5LDE2LjIsMzYxNDEsODMuNCwxMC4yCkphbWFpY2EsMTMuMSw3OTMyLDc0LjQsOS44CkphcGFuLDE1LjIsNDA3OTksODQuNSwxMi44CkpvcmRhbiwxMS45LDgyNjgsNzQuNCwxMC41CkthemFraHN0YW4sMTUuMywyMjE2OCw3My4yLDExLjgKS2VueWEsMTEuMSwzMDUyLDY2LjMsNi42CktpcmliYXRpLDExLjgsMzkxNyw2OC4xLDcuOQpLb3JlYSAoRGVtb2NyYXRpYyBQZW9wbGUncyBSZXAuIG9mKSwxMC44LE5BLDcyLjEsTkEKS29yZWEgKFJlcHVibGljIG9mKSwxNi40LDM2NzU3LDgyLjgsMTIuMgpLdXdhaXQsMTMuOCw3MTE2NCw3NS40LDcuMwpLeXJneXpzdGFuLDEzLjQsMzMxNyw3MS4zLDEwLjkKTGFvIFBlb3BsZSdzIERlbW9jcmF0aWMgUmVwdWJsaWMsMTEuMSw2MzE3LDY3LjYsNS4yCkxhdHZpYSwxNiwyNjMwMSw3NS4yLDEyLjgKTGViYW5vbiwxMS4zLDExMTM2LDc4LjksOC43Ckxlc290aG8sMTAuNywzMjQ0LDUzLjcsNi4zCkxpYmVyaWEsOS42LDEwNDAsNjMuNyw0LjcKTGlieWEsMTIuOCwxMTY4NSw3Mi43LDcuNgpMaWVjaHRlbnN0ZWluLDE0LjcsOTk3MzIsODAuNSwxMi41CkxpdGh1YW5pYSwxNi41LDI5Nzc1LDc1LjcsMTMKTHV4ZW1ib3VyZywxNC4yLDY1NTQzLDgyLjEsMTIuMgpNYWRhZ2FzY2FyLDEwLjQsMTQwNCw2Ni43LDYuMQpNYWxhd2ksMTEsMTE1OSw2My44LDQuNgpNYWxheXNpYSwxMy41LDI3MjI3LDc2LDEwLjIKTWFsZGl2ZXMsMTIuMSwxMjU0OSw3OC42LDYuOApNYWxpLDcuNiwxOTY1LDU4LjksMi40Ck1hbHRhLDE1LjksMzQ3OTUsODIuNCwxMS4zCk1hcnNoYWxsIElzbGFuZHMsMTIuNCw0NjMzLDczLjksMTAuOQpNYXVyaXRhbmlhLDguNSwzNzQ2LDY0LjcsNC42Ck1hdXJpdGl1cywxNSwyMjcyNCw3NC45LDkuNApNZXhpY28sMTQuMywxNzYyOCw3NSw4LjYKTWljcm9uZXNpYSAoRmVkZXJhdGVkIFN0YXRlcyBvZiksMTEuNSwzNzAwLDY3LjgsNy43Ck1vbGRvdmEgKFJlcHVibGljIG9mKSwxMS42LDY4MzMsNzEuOCwxMS42Ck1vbmdvbGlhLDE0LjIsMTA3ODQsNjkuNywxMC4yCk1vbnRlbmVncm8sMTUsMTc1MTEsNzYuOCwxMS40Ck1vcm9jY28sMTMuMSw3NDgwLDc2LjUsNS41Ck1vemFtYmlxdWUsOS43LDExNTQsNjAuMiwzLjUKTXlhbm1hciwxMC4zLDU3NjQsNjYuOSw1Ck5hbWliaWEsMTIuNiw5NjgzLDYzLjQsNi45Ck5hdXJ1LDExLjMsMTczMTMsTkEsTkEKTmVwYWwsMTIuMiwyNzQ4LDcwLjUsNC45Ck5ldGhlcmxhbmRzLDE4LDUwMDEzLDgyLjEsMTIuMgpOZXcgWmVhbGFuZCwxOC44LDM1MTA4LDgyLjEsMTIuNwpOaWNhcmFndWEsMTIuMiw0NzkwLDc0LjMsNi44Ck5pZ2VyLDYuNSw5MTIsNjIsMgpOaWdlcmlhLDkuNyw1MDg2LDU0LjMsNi41Ck5vcnRoIE1hY2Vkb25pYSwxMy41LDEyODc0LDc1LjcsOS43Ck5vcndheSwxOC4xLDY4MDU5LDgyLjMsMTIuNgpPbWFuLDE0LjcsMzcwMzksNzcuNiw5LjcKUGFraXN0YW4sOC41LDUxOTAsNjcuMSw1LjIKUGFsYXUsMTUuNiwxNjcyMCw3My43LDEyLjQKIlBhbGVzdGluZSwgU3RhdGUgb2YiLDEyLjgsNTMxNCw3My45LDkuMQpQYW5hbWEsMTIuOSwyMDQ1NSw3OC4zLDEwLjIKUGFwdWEgTmV3IEd1aW5lYSwxMCwzNjg2LDY0LjMsNC42ClBhcmFndWF5LDEyLjcsMTE3MjAsNzQuMSw4LjQKUGVydSwxMy44LDEyMzIzLDc2LjUsOS4yClBoaWxpcHBpbmVzLDEyLjcsOTU0MCw3MS4xLDkuNApQb2xhbmQsMTYuNCwyNzYyNiw3OC41LDEyLjMKUG9ydHVnYWwsMTYuMywyNzkzNSw4MS45LDkuMgpRYXRhciwxMi4yLDExMDQ4OSw4MC4xLDkuNwpSb21hbmlhLDE0LjMsMjM5MDYsNzUuOSwxMQpSdXNzaWFuIEZlZGVyYXRpb24sMTUuNSwyNTAzNiw3Mi40LDEyClJ3YW5kYSwxMS4yLDE5NTksNjguNyw0LjQKU2FpbnQgS2l0dHMgYW5kIE5ldmlzLDEzLjYsMjY3NzAsNzQuNiw4LjUKU2FpbnQgTHVjaWEsMTMuOSwxMTUyOCw3Ni4xLDguNQpTYWludCBWaW5jZW50IGFuZCB0aGUgR3JlbmFkaW5lcywxMy42LDExNzQ2LDcyLjQsOC42ClNhbW9hLDEyLjUsNTg4NSw3My4yLDEwLjYKU2FuIE1hcmlubywxNS4xLE5BLE5BLE5BClNhbyBUb21lIGFuZCBQcmluY2lwZSwxMi43LDMwMjQsNzAuMiw2LjQKU2F1ZGkgQXJhYmlhLDE3LDQ5MzM4LDc1LDkuNwpTZW5lZ2FsLDksMzI1Niw2Ny43LDMuMQpTZXJiaWEsMTQuOCwxNTIxOCw3NS44LDExLjIKU2V5Y2hlbGxlcywxNS41LDI1MDc3LDczLjMsOS43ClNpZXJyYSBMZW9uZSwxMC4yLDEzODEsNTQuMywzLjYKU2luZ2Fwb3JlLDE2LjMsODM3OTMsODMuNSwxMS41ClNsb3Zha2lhLDE0LjUsMzA2NzIsNzcuNCwxMi42ClNsb3ZlbmlhLDE3LjQsMzIxNDMsODEuMiwxMi4zClNvbG9tb24gSXNsYW5kcywxMC4yLDIwMjcsNzIuOCw1LjUKU291dGggQWZyaWNhLDEzLjcsMTE3NTYsNjMuOSwxMC4yClNvdXRoIFN1ZGFuLDUsMTQ1NSw1Ny42LDQuOApTcGFpbiwxNy45LDM1MDQxLDgzLjQsOS44ClNyaSBMYW5rYSwxNCwxMTYxMSw3Ni44LDExLjEKU3VkYW4sNy43LDM5NjIsNjUuMSwzLjcKU3VyaW5hbWUsMTIuOSwxMTkzMyw3MS42LDkuMQpTd2VkZW4sMTguOCw0Nzk1NSw4Mi43LDEyLjQKU3dpdHplcmxhbmQsMTYuMiw1OTM3NSw4My42LDEzLjQKU3lyaWFuIEFyYWIgUmVwdWJsaWMsOC44LDI3MjUsNzEuOCw1LjEKVGFqaWtpc3RhbiwxMS40LDM0ODIsNzAuOSwxMC43ClRhbnphbmlhIChVbml0ZWQgUmVwdWJsaWMgb2YpLDgsMjgwNSw2NSw2ClRoYWlsYW5kLDE0LjcsMTYxMjksNzYuOSw3LjcKVGltb3ItTGVzdGUsMTIuNCw3NTI3LDY5LjMsNC41ClRvZ28sMTIuNiwxNTkzLDYwLjgsNQpUb25nYSwxNC4zLDU3ODMsNzAuOCwxMS4yClRyaW5pZGFkIGFuZCBUb2JhZ28sMTMsMjg0OTcsNzMuNCwxMQpUdW5pc2lhLDE1LjEsMTA2NzcsNzYuNSw3LjIKVHVya2V5LDE2LjQsMjQ5MDUsNzcuNCw3LjcKVHVya21lbmlzdGFuLDEwLjksMTY0MDcsNjguMSw5LjgKVHV2YWx1LDEyLjMsNTQwOSxOQSxOQQpVZ2FuZGEsMTEuMiwxNzUyLDYzLDYuMQpVa3JhaW5lLDE1LjEsNzk5NCw3MiwxMS4zClVuaXRlZCBBcmFiIEVtaXJhdGVzLDEzLjYsNjY5MTIsNzcuOCwxMQpVbml0ZWQgS2luZ2RvbSwxNy40LDM5NTA3LDgxLjIsMTMKVW5pdGVkIFN0YXRlcywxNi4zLDU2MTQwLDc4LjksMTMuNApVcnVndWF5LDE2LjMsMTk0MzUsNzcuOCw4LjcKVXpiZWtpc3RhbiwxMiw2NDYyLDcxLjYsMTEuNQpWYW51YXR1LDExLjQsMjgwOCw3MC4zLDYuOApWZW5lenVlbGEgKEJvbGl2YXJpYW4gUmVwdWJsaWMgb2YpLDEyLjgsOTA3MCw3Mi4xLDEwLjMKVmlldCBOYW0sMTIuNyw2MjIwLDc1LjMsOC4yClllbWVuLDguNywxNDMzLDY2LjEsMy4yClphbWJpYSwxMi4xLDM1ODIsNjMuNSw3LjEKWmltYmFid2UsMTAuNSwyNjYxLDYxLjIsOC4zClN1Yi1TYWhhcmFuIEFmcmljYSwxMCwzNDQzLDYxLjIsNS43ClNvbWFsaWEsTkEsTkEsNTcuMSxOQQo=');
        if (!response.ok) throw new Error('Network response failed');
        const blob = await response.blob();
        const blobUrl = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = blobUrl;
        a.download = 'dev2018.csv';
        a.style.display = 'none';
        document.body.appendChild(a);
        a.dispatchEvent(new MouseEvent('click'));
        document.body.removeChild(a);
        setTimeout(() =&gt; {
          window.URL.revokeObjectURL(blobUrl);
        }, 100);
        return false;
      } catch (error) {
        console.error('Download failed:', error);
        alert('Download failed. Please try again.');
      }
    }
    downloadFile(event);
  "><i class="fa fa-save"></i> Chapter data</button>
<div id="content-1" class="section level2" number="3.1">
<h2>
<span class="header-section-number">3.1</span> Content<a class="anchor" aria-label="anchor" href="#content-1"><i class="fas fa-link"></i></a>
</h2>
<p>The the previous chapter you have become familiar with the most common data structure in R programming - a vector. In this section, you will be introduced to some more advanced data structures that are often used in R, in particular the <code>data.frame</code>, which is the most common way of storing and manipulating data in R.</p>
<p>Generally, the best way to examine any R object is using the <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> function, which returns contents of the object along with its class. For example you can check how it works for simple vectors</p>
<div class="sourceCode" id="cb203"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">numbers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">3</span>, <span class="fl">8</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">numbers</span><span class="op">)</span></span></code></pre></div>
<pre><code> num [1:3] 5 3 8</code></pre>
<p><code>num</code> indicates that it is an integer vector and <code>[1:3]</code> tells us that its index ranges from 1 to 3.</p>
<div class="sourceCode" id="cb205"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">words</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"five"</span>,<span class="st">"three"</span>,<span class="st">"eight"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">words</span><span class="op">)</span></span></code></pre></div>
<pre><code> chr [1:3] "five" "three" "eight"</code></pre>
<div id="data-frames" class="section level3 unnumbered">
<h3>Data Frames<a class="anchor" aria-label="anchor" href="#data-frames"><i class="fas fa-link"></i></a>
</h3>
<p>In the previous chapters exercises youve manipulated data related to some basic development indicators of several countries. When were dealing with multiple variables represented by multiple vectors, its often very useful to store them toegether as one entity - a <code>data.frame</code>. Data frames can simply be thought of as tables, where each of the columns is a vector with its unique name. In this case, we can store the information about countries in a data frame called <code>dev_data</code>.</p>
<div class="sourceCode" id="cb207"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">country</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Argentina"</span>, <span class="st">"Georgia"</span>, <span class="st">"Mexico"</span>, </span>
<span>             <span class="st">"Philippines"</span>, <span class="st">"Turkey"</span>, <span class="st">"Ukraine"</span><span class="op">)</span></span>
<span><span class="va">eys</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">17.6</span>, <span class="fl">15.4</span>, <span class="fl">14.3</span>, <span class="fl">12.7</span>, <span class="fl">16.4</span>, <span class="fl">15.1</span><span class="op">)</span></span>
<span><span class="va">mys</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">10.6</span>, <span class="fl">12.8</span>, <span class="fl">8.6</span>, <span class="fl">9.4</span>, <span class="fl">7.7</span>, <span class="fl">11.3</span><span class="op">)</span></span>
<span><span class="va">lexp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">76.5</span>, <span class="fl">73.6</span>, <span class="fl">75</span>, <span class="fl">71.1</span>, <span class="fl">77.4</span>, <span class="fl">72</span><span class="op">)</span></span>
<span><span class="va">gni</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">17611</span>, <span class="fl">9570</span>, <span class="fl">17628</span>, <span class="fl">9540</span>, <span class="fl">24905</span>, <span class="fl">7994</span><span class="op">)</span></span>
<span><span class="va">dev_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">country</span>, <span class="va">eys</span>, <span class="va">mys</span>, <span class="va">lexp</span>, <span class="va">gni</span><span class="op">)</span></span></code></pre></div>
<p>We can use the <code>head</code> function to see the first 5 rows of the data (in the toy example we have above it might seem unnecessary, but it is useful to get an overview of all the variables when the data consists of potentially thousands of rows).</p>
<div class="sourceCode" id="cb208"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">dev_data</span><span class="op">)</span></span></code></pre></div>
<pre><code>      country  eys  mys lexp   gni
1   Argentina 17.6 10.6 76.5 17611
2     Georgia 15.4 12.8 73.6  9570
3      Mexico 14.3  8.6 75.0 17628
4 Philippines 12.7  9.4 71.1  9540
5      Turkey 16.4  7.7 77.4 24905
6     Ukraine 15.1 11.3 72.0  7994</code></pre>
<p>The <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> function is also very useful to get an overview of the variables included in a dataframe:</p>
<div class="sourceCode" id="cb210"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">dev_data</span><span class="op">)</span></span></code></pre></div>
<pre><code>'data.frame':   6 obs. of  5 variables:
 $ country: chr  "Argentina" "Georgia" "Mexico" "Philippines" ...
 $ eys    : num  17.6 15.4 14.3 12.7 16.4 15.1
 $ mys    : num  10.6 12.8 8.6 9.4 7.7 11.3
 $ lexp   : num  76.5 73.6 75 71.1 77.4 72
 $ gni    : num  17611 9570 17628 9540 24905 ...</code></pre>
<p>To access a column stored in a dataframe, you can use the <code>$</code> operator.</p>
<div class="sourceCode" id="cb212"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dev_data</span><span class="op">$</span><span class="va">gni</span></span></code></pre></div>
<pre><code>[1] 17611  9570 17628  9540 24905  7994</code></pre>
<p>Similarily, we can use the same operator to create a new column:</p>
<div class="sourceCode" id="cb214"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dev_data</span><span class="op">$</span><span class="va">log_gni</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">dev_data</span><span class="op">$</span><span class="va">gni</span><span class="op">)</span></span>
<span><span class="va">dev_data</span><span class="op">$</span><span class="va">log_gni</span></span></code></pre></div>
<pre><code>[1]  9.776279  9.166388  9.777244  9.163249 10.122824  8.986447</code></pre>
<p>As in the case of vectors, data frames can be indexed to retrieve values stored at specific positions. Since data frame is a table, each position in a dataframe is associated with <em>two</em> indices - one for rows, the other for columns - the first index references the row and the second the column. For example, the code below retrieves the value from the second row from the third column of <code>dev_data</code>.</p>
<div class="sourceCode" id="cb216"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dev_data</span><span class="op">[</span><span class="fl">2</span>, <span class="fl">3</span><span class="op">]</span></span></code></pre></div>
<pre><code>[1] 12.8</code></pre>
<p>Note that this is identical to:</p>
<div class="sourceCode" id="cb218"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dev_data</span><span class="op">$</span><span class="va">mys</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code>[1] 12.8</code></pre>
<p>This is because the <code>mys</code> is the third column in <code>dev_data</code>.</p>
<p>By leaving one of the indices empty, we can also retrieve entire row/column of a data frame:</p>
<div class="sourceCode" id="cb220"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dev_data</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span> <span class="co">#get first row</span></span></code></pre></div>
<pre><code>    country  eys  mys lexp   gni  log_gni
1 Argentina 17.6 10.6 76.5 17611 9.776279</code></pre>
<div class="sourceCode" id="cb222"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dev_data</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span> <span class="co">#get second column</span></span></code></pre></div>
<pre><code>[1] 17.6 15.4 14.3 12.7 16.4 15.1</code></pre>
<p>Data frames can also be indexed with integer vectors. Such indexing will always return a smaller data frame. For example, to retrieve rows 1 and 5 from columns 2 and 3, we can do:</p>
<div class="sourceCode" id="cb224"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dev_data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>   eys  mys
1 17.6 10.6
5 16.4  7.7</code></pre>
<p>Similarily, character vectors referencing the column names can be used to subset a dataframe. To achieve similar result to the one above, one could also type:</p>
<div class="sourceCode" id="cb226"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dev_data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"eys"</span>,<span class="st">"mys"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>   eys  mys
1 17.6 10.6
5 16.4  7.7</code></pre>
<p>We can also use logical indexing to subset dataframes. Recall from the previous chapter, that we can check which values of a given vector satisfy a certain condition by:</p>
<div class="sourceCode" id="cb228"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dev_data</span><span class="op">$</span><span class="va">gni</span> <span class="op">&gt;</span> <span class="fl">10000</span></span></code></pre></div>
<pre><code>[1]  TRUE FALSE  TRUE FALSE  TRUE FALSE</code></pre>
<p>We can then use the output generated by the above code to index the <code>dev_data</code> data frame and obtain the rows with gni per capita larger than 10000:</p>
<div class="sourceCode" id="cb230"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dev_data</span><span class="op">[</span><span class="va">dev_data</span><span class="op">$</span><span class="va">gni</span> <span class="op">&gt;</span> <span class="fl">10000</span>, <span class="op">]</span></span></code></pre></div>
<pre><code>    country  eys  mys lexp   gni   log_gni
1 Argentina 17.6 10.6 76.5 17611  9.776279
3    Mexico 14.3  8.6 75.0 17628  9.777244
5    Turkey 16.4  7.7 77.4 24905 10.122824</code></pre>
<p>There are many useful functions that work in combination with data frames. Below, there are several examples:</p>
<div class="sourceCode" id="cb232"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">is.data.frame</a></span><span class="op">(</span><span class="va">dev_data</span><span class="op">)</span> <span class="co">#check if an object is of class `data.frame`</span></span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode" id="cb234"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">dev_data</span><span class="op">)</span> <span class="co">#number of rows</span></span></code></pre></div>
<pre><code>[1] 6</code></pre>
<div class="sourceCode" id="cb236"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">dev_data</span><span class="op">)</span> <span class="co">#number of columns</span></span></code></pre></div>
<pre><code>[1] 6</code></pre>
<div class="sourceCode" id="cb238"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">dev_data</span><span class="op">)</span> <span class="co">#column names</span></span></code></pre></div>
<pre><code>[1] "country" "eys"     "mys"     "lexp"    "gni"     "log_gni"</code></pre>
<div class="sourceCode" id="cb240"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">dev_data</span><span class="op">)</span> <span class="co">#row names</span></span></code></pre></div>
<pre><code>[1] "1" "2" "3" "4" "5" "6"</code></pre>
<p>The <code>with</code> command allows to evaluate column names <em>in the context of a given data frame</em>. This means, that we do not have to reference the data frame name whenever we use one of its columns. Suppose we wanted to calculate the UNs <em>Education Index</em> as in the previous sections exercises and assign its values to a new column in <code>dev_data</code>, <code>dev_data$edu_ind</code>. This could be done by:</p>
<div class="sourceCode" id="cb242"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dev_data</span><span class="op">$</span><span class="va">edu_ind</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">dev_data</span><span class="op">$</span><span class="va">mys</span> <span class="op">/</span> <span class="fl">15</span> <span class="op">+</span> <span class="va">dev_data</span><span class="op">$</span><span class="va">eys</span> <span class="op">/</span> <span class="fl">18</span><span class="op">)</span><span class="op">/</span><span class="fl">2</span></span></code></pre></div>
<p>However, in many circumstances this will require you to reference the name of the data frame you are using multiple times, often making the code long and unreadable. To avoid it, its often useful to do:</p>
<div class="sourceCode" id="cb243"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dev_data</span><span class="op">$</span><span class="va">edu_ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html">with</a></span><span class="op">(</span><span class="va">dev_data</span>, <span class="op">(</span><span class="va">mys</span> <span class="op">/</span> <span class="fl">15</span> <span class="op">+</span> <span class="va">eys</span> <span class="op">/</span> <span class="fl">18</span><span class="op">)</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<p>The <code>with</code> function takes name of the dataframe as its first argument and the operation you want to perform as the second argument.</p>
<p>Similarily, to subset a dataframe by multiple variables, the <code><a href="https://rdrr.io/r/base/subset.html">subset()</a></code> command can be used:</p>
<div class="sourceCode" id="cb244"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dev_data</span><span class="op">[</span><span class="va">dev_data</span><span class="op">$</span><span class="va">eys</span> <span class="op">&gt;</span> <span class="fl">15</span> <span class="op">&amp;</span> <span class="va">dev_data</span><span class="op">$</span><span class="va">lexp</span> <span class="op">&gt;</span> <span class="fl">75</span>, <span class="op">]</span></span></code></pre></div>
<pre><code>    country  eys  mys lexp   gni   log_gni   edu_ind
1 Argentina 17.6 10.6 76.5 17611  9.776279 0.8422222
5    Turkey 16.4  7.7 77.4 24905 10.122824 0.7122222</code></pre>
<div class="sourceCode" id="cb246"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">dev_data</span>, <span class="va">eys</span> <span class="op">&gt;</span> <span class="fl">15</span> <span class="op">&amp;</span> <span class="va">lexp</span> <span class="op">&gt;</span> <span class="fl">75</span><span class="op">)</span></span></code></pre></div>
<pre><code>    country  eys  mys lexp   gni   log_gni   edu_ind
1 Argentina 17.6 10.6 76.5 17611  9.776279 0.8422222
5    Turkey 16.4  7.7 77.4 24905 10.122824 0.7122222</code></pre>
</div>
<div id="factors" class="section level3 unnumbered">
<h3>Factors<a class="anchor" aria-label="anchor" href="#factors"><i class="fas fa-link"></i></a>
</h3>
<p>When looking at the <code>str(dev_data)</code> you couldve noticed that the <code>country</code> variable is a vector type that we havent encountered earlier - a <em>factor</em>. Factors are a specific type of vectors used to store values that take a <em>prespecified</em> set of values, called factor levels. For example, suppose we have two character vectors storing names of students and their year. We can use <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> to create a factor vector from a character vector. This can be done for any other type of vector as well.</p>
<div class="sourceCode" id="cb248"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">name</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Thomas"</span>,<span class="st">"James"</span>,<span class="st">"Kate"</span>,<span class="st">"Nina"</span>,<span class="st">"Robert"</span>,<span class="st">"Andrew"</span>,<span class="st">"John"</span><span class="op">)</span></span>
<span><span class="va">year_ch</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Freshman"</span>,<span class="st">"Freshman"</span>,<span class="st">"Junior"</span>,<span class="st">"Sophmore"</span>,<span class="st">"Freshman"</span>,<span class="st">"Senior"</span>,<span class="st">"Junior"</span><span class="op">)</span></span>
<span><span class="va">year_ch</span></span></code></pre></div>
<pre><code>[1] "Freshman" "Freshman" "Junior"   "Sophmore" "Freshman" "Senior"   "Junior"  </code></pre>
<div class="sourceCode" id="cb250"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">year</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">year_ch</span><span class="op">)</span></span>
<span><span class="va">year</span></span></code></pre></div>
<pre><code>[1] Freshman Freshman Junior   Sophmore Freshman Senior   Junior  
Levels: Freshman Junior Senior Sophmore</code></pre>
<p>We can view the unique levels of the factor using the <code><a href="https://rdrr.io/r/base/levels.html">levels()</a></code> function:</p>
<div class="sourceCode" id="cb252"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] "Freshman" "Junior"   "Senior"   "Sophmore"</code></pre>
<p>A crucial difference between factor and character vectors is that the former have an underlying integer representation. That means, that theres a natural ordering to their levels, which is alphabetic by default. We can see that using the <a href="basics.html#coercion">coercion function</a> <code>as.numeric</code> on the <code>year</code> factor.</p>
<div class="sourceCode" id="cb254"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">year</span></span></code></pre></div>
<pre><code>[1] Freshman Freshman Junior   Sophmore Freshman Senior   Junior  
Levels: Freshman Junior Senior Sophmore</code></pre>
<div class="sourceCode" id="cb256"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] 1 1 2 4 1 3 2</code></pre>
<p>Note that the ordering of the values corresponds with the ordering obtained by the <code><a href="https://rdrr.io/r/base/levels.html">levels()</a></code> function. This matters in some circumstances (such as when using factor variables in regression models, discussed in the <a href="ols.html#ols">Linear Regression</a> section of the course). Its a good practice to explicitly pass the factor levels to the <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> constructor. For example, in our case, Sophmore comes as the last value of the factor, even though it would make more sense for it to be second. Explicit creation of the factor levels can be seen below:</p>
<div class="sourceCode" id="cb258"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">year_ch</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Freshman"</span>,<span class="st">"Freshman"</span>,<span class="st">"Junior"</span>,</span>
<span>          <span class="st">"Sophmore"</span>,<span class="st">"Freshman"</span>,<span class="st">"Senior"</span>,<span class="st">"Junior"</span><span class="op">)</span></span>
<span><span class="va">year</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">year_ch</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Freshman"</span>,<span class="st">"Sophmore"</span>,<span class="st">"Junior"</span>,<span class="st">"Senior"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>We can now see that the ordering of the levels is different, and so is the underlying numeric representation of the factor:</p>
<div class="sourceCode" id="cb259"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] "Freshman" "Sophmore" "Junior"   "Senior"  </code></pre>
<div class="sourceCode" id="cb261"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] 1 1 3 2 1 4 3</code></pre>
<p>Note that we cannot change the value of a factor vector to any other than the pre-specified levels:</p>
<div class="sourceCode" id="cb263"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">year</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Graduate"</span></span></code></pre></div>
<pre><code>Warning in `[&lt;-.factor`(`*tmp*`, 1, value = "Graduate"): invalid factor level, NA generated</code></pre>
<p>The error message returned by R means that the value we were trying to assign to the factor is not one of the predefined levels (i.e.Freshman,Junior, Senior and Sophmore) and thus <code>NA</code> missing value was generated.</p>
<p>However, if we know that a level that has no values attached to it will be created in the future, <code>NA</code>s can be avoided by explicitly creating an unused levels when constructing the factor vector.</p>
<div class="sourceCode" id="cb265"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">year_ch</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Freshman"</span>,<span class="st">"Freshman"</span>,<span class="st">"Junior"</span>,</span>
<span>          <span class="st">"Sophmore"</span>,<span class="st">"Freshman"</span>,<span class="st">"Senior"</span>,<span class="st">"Junior"</span><span class="op">)</span></span>
<span><span class="va">year</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">year_ch</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Freshman"</span>,<span class="st">"Sophmore"</span>,<span class="st">"Junior"</span>,<span class="st">"Senior"</span>, <span class="st">"Graduate"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Here, we have created the variable with 5 levels: Freshman, Sophmore, Junior, Senior, Graduate, even though only 4 of them are actual values of the factor. As a result, we can assign a value with the Graduate value without producing <code>NA</code>s. The relevance of having empty factor levels will become apparent in the next part of the book when discussing <a href="exploratory.html#cross-tabulation">Cross-Tabulation</a>.</p>
<div class="sourceCode" id="cb266"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">year</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Graduate"</span></span>
<span><span class="va">year</span></span></code></pre></div>
<pre><code>[1] Graduate Freshman Junior   Sophmore Freshman Senior   Junior  
Levels: Freshman Sophmore Junior Senior Graduate</code></pre>
<p>We can also rename the levels of an existing factor, by using the <code>levels&lt;-</code> command. This can be done either to specific levels of a factor</p>
<div class="sourceCode" id="cb268"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">year</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">year_ch</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Freshman"</span>,<span class="st">"Sophmore"</span>,<span class="st">"Junior"</span>,<span class="st">"Senior"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"Fresher"</span></span>
<span><span class="va">year</span></span></code></pre></div>
<pre><code>[1] Fresher  Fresher  Junior   Sophmore Fresher  Senior   Junior  
Levels: Fresher Sophmore Junior Senior</code></pre>
<p>or to all the levels:</p>
<div class="sourceCode" id="cb270"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"First"</span>,<span class="st">"Second"</span>,<span class="st">"Third"</span>,<span class="st">"Final"</span><span class="op">)</span></span>
<span><span class="va">year</span></span></code></pre></div>
<pre><code>[1] First  First  Third  Second First  Final  Third 
Levels: First Second Third Final</code></pre>
<p>This way, all the values of the character are changed very quickly.</p>
<p>Finally, theres some confusion about the difference between <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> and <code><a href="https://rdrr.io/r/base/factor.html">as.factor()</a></code> functions. In many contexts, these can be used equivalently, since both create a factor vector from a numeric or a character vector. However, some important differences include:</p>
<ol style="list-style-type: decimal">
<li><p><code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> allows to explicitly pass vector levels at construction, whether <code><a href="https://rdrr.io/r/base/factor.html">as.factor()</a></code> assigns them by default</p></li>
<li><p>The behaviour of the two functions is different when passed factors with empty levels. For example, lets create the <code>year</code> factor as earlier and only keep the first three values. In this case, the <em>Sophmore</em> and <em>Senior</em> levels are unused.</p></li>
</ol>
<div class="sourceCode" id="cb272"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">year_char</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Freshman"</span>,<span class="st">"Freshman"</span>,<span class="st">"Junior"</span>,</span>
<span>          <span class="st">"Sophmore"</span>,<span class="st">"Freshman"</span>,<span class="st">"Senior"</span>,<span class="st">"Junior"</span><span class="op">)</span></span>
<span><span class="va">year</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">year_char</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Freshman"</span>,<span class="st">"Sophmore"</span>,<span class="st">"Junior"</span>,<span class="st">"Senior"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">year</span> <span class="op">&lt;-</span> <span class="va">year</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span>
<span><span class="va">year</span></span></code></pre></div>
<pre><code>[1] Freshman Freshman Junior  
Levels: Freshman Sophmore Junior Senior</code></pre>
<p>Passing the <code>year</code> vector to <code>as.factor</code> will not change anything in the vectors structure:</p>
<div class="sourceCode" id="cb274"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] Freshman Freshman Junior  
Levels: Freshman Sophmore Junior Senior</code></pre>
<p>However, using <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> constructor on an existing factor vector is a convenient way to drop unused levels (when its desirable):</p>
<div class="sourceCode" id="cb276"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] Freshman Freshman Junior  
Levels: Freshman Junior</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>The performance of <code><a href="https://rdrr.io/r/base/factor.html">as.factor()</a></code> tends to be quicker when numeric or character vectors are passed to it. The two commands also treat <code>NA</code> levels slightly differently. You can read more about it in this <a href="https://stackoverflow.com/questions/39279238/why-use-as-factor-instead-of-just-factor?answertab=oldest#tab-top">Stack Overflow post</a>.</li>
</ol>
<p>Finally, some R functions such as the <code>data.frame</code> constructor treat all read all character vectors as factors by default. This can be noticed by examining the <code>dev_data</code> data frame we created earlier:</p>
<div class="sourceCode" id="cb278"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">dev_data</span><span class="op">)</span></span></code></pre></div>
<pre><code>'data.frame':   6 obs. of  7 variables:
 $ country: chr  "Argentina" "Georgia" "Mexico" "Philippines" ...
 $ eys    : num  17.6 15.4 14.3 12.7 16.4 15.1
 $ mys    : num  10.6 12.8 8.6 9.4 7.7 11.3
 $ lexp   : num  76.5 73.6 75 71.1 77.4 72
 $ gni    : num  17611 9570 17628 9540 24905 ...
 $ log_gni: num  9.78 9.17 9.78 9.16 10.12 ...
 $ edu_ind: num  0.842 0.854 0.684 0.666 0.712 ...</code></pre>
<p>As you can see <code>country</code> is a factor with 6 levels - each for one country name. This doesnt make too much sense, as the column is unlikely to have any repeating values. To avoid this behaviour, we can set the <code>stringsAsFactors</code> optional argument in the <code>data.frame</code> function explicitly to <code>FALSE</code>. This way, all the character vectors remain character variables in the data frame.</p>
<div class="sourceCode" id="cb280"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dev_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">country</span>, <span class="va">eys</span>, <span class="va">mys</span>, <span class="va">lexp</span>, <span class="va">gni</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">dev_data</span><span class="op">)</span></span></code></pre></div>
<pre><code>'data.frame':   6 obs. of  5 variables:
 $ country: chr  "Argentina" "Georgia" "Mexico" "Philippines" ...
 $ eys    : num  17.6 15.4 14.3 12.7 16.4 15.1
 $ mys    : num  10.6 12.8 8.6 9.4 7.7 11.3
 $ lexp   : num  76.5 73.6 75 71.1 77.4 72
 $ gni    : num  17611 9570 17628 9540 24905 ...</code></pre>
</div>
<div id="reading-and-writing-the-data" class="section level3 unnumbered">
<h3>Reading and writing the data<a class="anchor" aria-label="anchor" href="#reading-and-writing-the-data"><i class="fas fa-link"></i></a>
</h3>
<div id="reading-from-csv" class="section level4 unnumbered">
<h4>Reading from CSV<a class="anchor" aria-label="anchor" href="#reading-from-csv"><i class="fas fa-link"></i></a>
</h4>
<p>While so far, weve created small and simple datasets by manually typing them into the scripts, the usual way of loading data into R is through external files. The most common format used to store data for R analysis is a CSV file, which stands for Comma Separated Values. This essentially means, that the data is represented as a text file, in which values are separeted by columns to indicate their relative positions - for example, a csv file with 5 columns will have 4 commas to separate them in each row.</p>
<p>In the example below, we read in data on Human Development Indicators for 209 countries for 2018 obtained from the <a href="http://hdr.undp.org/en/data">UN Human Development Reports</a>. Yuo can download the file used in the example from <a href="data:text/csv;base64,Y291bnRyeSxleXMsZ25pLGxleHAsbXlzCkFmZ2hhbmlzdGFuLDEwLjEsMTc0Niw2NC41LDMuOQpBbGJhbmlhLDE1LjIsMTIzMDAsNzguNSwxMC4xCkFsZ2VyaWEsMTQuNywxMzYzOSw3Ni43LDgKQW5kb3JyYSwxMy4zLDQ4NjQxLDgxLjgsMTAuMgpBbmdvbGEsMTEuOCw1NTU1LDYwLjgsNS4xCkFudGlndWEgYW5kIEJhcmJ1ZGEsMTIuNSwyMjIwMSw3Ni45LDkuMwpBcmdlbnRpbmEsMTcuNiwxNzYxMSw3Ni41LDEwLjYKQXJtZW5pYSwxMy4yLDkyNzcsNzQuOSwxMS44CkF1c3RyYWxpYSwyMi4xLDQ0MDk3LDgzLjMsMTIuNwpBdXN0cmlhLDE2LjMsNDYyMzEsODEuNCwxMi42CkF6ZXJiYWlqYW4sMTIuNCwxNTI0MCw3Mi45LDEwLjUKQmFoYW1hcywxMi44LDI4Mzk1LDczLjgsMTEuNQpCYWhyYWluLDE1LjMsNDAzOTksNzcuMiw5LjQKQmFuZ2xhZGVzaCwxMS4yLDQwNTcsNzIuMyw2LjEKQmFyYmFkb3MsMTUuMiwxNTkxMiw3OS4xLDEwLjYKQmVsYXJ1cywxNS40LDE3MDM5LDc0LjYsMTIuMwpCZWxnaXVtLDE5LjcsNDM4MjEsODEuNSwxMS44CkJlbGl6ZSwxMy4xLDcxMzYsNzQuNSw5LjgKQmVuaW4sMTIuNiwyMTM1LDYxLjUsMy44CkJodXRhbiwxMi4xLDg2MDksNzEuNSwzLjEKQm9saXZpYSAoUGx1cmluYXRpb25hbCBTdGF0ZSBvZiksMTQsNjg0OSw3MS4yLDkKQm9zbmlhIGFuZCBIZXJ6ZWdvdmluYSwxMy44LDEyNjkwLDc3LjMsOS43CkJvdHN3YW5hLDEyLjcsMTU5NTEsNjkuMyw5LjMKQnJhemlsLDE1LjQsMTQwNjgsNzUuNyw3LjgKQnJ1bmVpIERhcnVzc2FsYW0sMTQuNCw3NjM4OSw3NS43LDkuMQpCdWxnYXJpYSwxNC44LDE5NjQ2LDc0LjksMTEuOApCdXJraW5hIEZhc28sOC45LDE3MDUsNjEuMiwxLjYKQnVydW5kaSwxMS4zLDY2MCw2MS4yLDMuMQpDYWJvIFZlcmRlLDExLjksNjUxMyw3Mi44LDYuMgpDYW1ib2RpYSwxMS4zLDM1OTcsNjkuNiw0LjgKQ2FtZXJvb24sMTIuNywzMjkxLDU4LjksNi4zCkNhbmFkYSwxNi4xLDQzNjAyLDgyLjMsMTMuMwpDZW50cmFsIEFmcmljYW4gUmVwdWJsaWMsNy42LDc3Nyw1Mi44LDQuMwpDaGFkLDcuNSwxNzE2LDU0LDIuNApDaGlsZSwxNi41LDIxOTcyLDgwLDEwLjQKQ2hpbmEsMTMuOSwxNjEyNyw3Ni43LDcuOQpDb2xvbWJpYSwxNC42LDEyODk2LDc3LjEsOC4zCkNvbW9yb3MsMTEuMiwyNDI2LDY0LjEsNC45CkNvbmdvLDExLjYsNTgwNCw2NC4zLDYuNQpDb25nbyAoRGVtb2NyYXRpYyBSZXB1YmxpYyBvZiB0aGUpLDkuNyw4MDAsNjAuNCw2LjgKQ29zdGEgUmljYSwxNS40LDE0NzkwLDgwLjEsOC43CkNyb2F0aWEsMTUsMjMwNjEsNzguMywxMS40CkN1YmEsMTQuNCw3ODExLDc4LjcsMTEuOApDeXBydXMsMTQuNywzMzEwMCw4MC44LDEyLjEKQ3plY2hpYSwxNi44LDMxNTk3LDc5LjIsMTIuNwpDw7R0ZSBkJ0l2b2lyZSw5LjYsMzU4OSw1Ny40LDUuMgpEZW5tYXJrLDE5LjEsNDg4MzYsODAuOCwxMi42CkRqaWJvdXRpLDYuNSwzNjAxLDY2LjYsNApEb21pbmljYSwxMyw5MjQ1LDc4LjEsNy44CkRvbWluaWNhbiBSZXB1YmxpYywxNC4xLDE1MDc0LDczLjksNy45CkVjdWFkb3IsMTQuOSwxMDE0MSw3Ni44LDkKRWd5cHQsMTMuMSwxMDc0NCw3MS44LDcuMwpFbCBTYWx2YWRvciwxMiw2OTczLDczLjEsNi45CkVxdWF0b3JpYWwgR3VpbmVhLDkuMiwxNzc5Niw1OC40LDUuNgpFcml0cmVhLDUsMTcwOCw2NS45LDMuOQpFc3RvbmlhLDE2LjEsMzAzNzksNzguNiwxMwpFc3dhdGluaSAoS2luZ2RvbSBvZiksMTEuNCw5MzU5LDU5LjQsNi43CkV0aGlvcGlhLDguNywxNzgyLDY2LjIsMi44CkZpamksMTQuNCw5MTEwLDY3LjMsMTAuOQpGaW5sYW5kLDE5LjMsNDE3NzksODEuNywxMi40CkZyYW5jZSwxNS41LDQwNTExLDgyLjUsMTEuNApHYWJvbiwxMi45LDE1Nzk0LDY2LjIsOC4zCkdhbWJpYSw5LjUsMTQ5MCw2MS43LDMuNwpHZW9yZ2lhLDE1LjQsOTU3MCw3My42LDEyLjgKR2VybWFueSwxNy4xLDQ2OTQ2LDgxLjIsMTQuMQpHaGFuYSwxMS41LDQwOTksNjMuOCw3LjIKR3JlZWNlLDE3LjMsMjQ5MDksODIuMSwxMC41CkdyZW5hZGEsMTYuNiwxMjY4NCw3Mi40LDguOApHdWF0ZW1hbGEsMTAuNiw3Mzc4LDc0LjEsNi41Ckd1aW5lYSw5LDIyMTEsNjEuMiwyLjcKR3VpbmVhLUJpc3NhdSwxMC41LDE1OTMsNTgsMy4zCkd1eWFuYSwxMS41LDc2MTUsNjkuOCw4LjUKSGFpdGksOS41LDE2NjUsNjMuNyw1LjQKSG9uZHVyYXMsMTAuMiw0MjU4LDc1LjEsNi42CiJIb25nIEtvbmcsIENoaW5hIChTQVIpIiwxNi41LDYwMjIxLDg0LjcsMTIKSHVuZ2FyeSwxNS4xLDI3MTQ0LDc2LjcsMTEuOQpJY2VsYW5kLDE5LjIsNDc1NjYsODIuOSwxMi41CkluZGlhLDEyLjMsNjgyOSw2OS40LDYuNQpJbmRvbmVzaWEsMTIuOSwxMTI1Niw3MS41LDgKSXJhbiAoSXNsYW1pYyBSZXB1YmxpYyBvZiksMTQuNywxODE2Niw3Ni41LDEwCklyYXEsMTEuMSwxNTM2NSw3MC41LDcuMwpJcmVsYW5kLDE4LjgsNTU2NjAsODIuMSwxMi41CklzcmFlbCwxNiwzMzY1MCw4Mi44LDEzCkl0YWx5LDE2LjIsMzYxNDEsODMuNCwxMC4yCkphbWFpY2EsMTMuMSw3OTMyLDc0LjQsOS44CkphcGFuLDE1LjIsNDA3OTksODQuNSwxMi44CkpvcmRhbiwxMS45LDgyNjgsNzQuNCwxMC41CkthemFraHN0YW4sMTUuMywyMjE2OCw3My4yLDExLjgKS2VueWEsMTEuMSwzMDUyLDY2LjMsNi42CktpcmliYXRpLDExLjgsMzkxNyw2OC4xLDcuOQpLb3JlYSAoRGVtb2NyYXRpYyBQZW9wbGUncyBSZXAuIG9mKSwxMC44LE5BLDcyLjEsTkEKS29yZWEgKFJlcHVibGljIG9mKSwxNi40LDM2NzU3LDgyLjgsMTIuMgpLdXdhaXQsMTMuOCw3MTE2NCw3NS40LDcuMwpLeXJneXpzdGFuLDEzLjQsMzMxNyw3MS4zLDEwLjkKTGFvIFBlb3BsZSdzIERlbW9jcmF0aWMgUmVwdWJsaWMsMTEuMSw2MzE3LDY3LjYsNS4yCkxhdHZpYSwxNiwyNjMwMSw3NS4yLDEyLjgKTGViYW5vbiwxMS4zLDExMTM2LDc4LjksOC43Ckxlc290aG8sMTAuNywzMjQ0LDUzLjcsNi4zCkxpYmVyaWEsOS42LDEwNDAsNjMuNyw0LjcKTGlieWEsMTIuOCwxMTY4NSw3Mi43LDcuNgpMaWVjaHRlbnN0ZWluLDE0LjcsOTk3MzIsODAuNSwxMi41CkxpdGh1YW5pYSwxNi41LDI5Nzc1LDc1LjcsMTMKTHV4ZW1ib3VyZywxNC4yLDY1NTQzLDgyLjEsMTIuMgpNYWRhZ2FzY2FyLDEwLjQsMTQwNCw2Ni43LDYuMQpNYWxhd2ksMTEsMTE1OSw2My44LDQuNgpNYWxheXNpYSwxMy41LDI3MjI3LDc2LDEwLjIKTWFsZGl2ZXMsMTIuMSwxMjU0OSw3OC42LDYuOApNYWxpLDcuNiwxOTY1LDU4LjksMi40Ck1hbHRhLDE1LjksMzQ3OTUsODIuNCwxMS4zCk1hcnNoYWxsIElzbGFuZHMsMTIuNCw0NjMzLDczLjksMTAuOQpNYXVyaXRhbmlhLDguNSwzNzQ2LDY0LjcsNC42Ck1hdXJpdGl1cywxNSwyMjcyNCw3NC45LDkuNApNZXhpY28sMTQuMywxNzYyOCw3NSw4LjYKTWljcm9uZXNpYSAoRmVkZXJhdGVkIFN0YXRlcyBvZiksMTEuNSwzNzAwLDY3LjgsNy43Ck1vbGRvdmEgKFJlcHVibGljIG9mKSwxMS42LDY4MzMsNzEuOCwxMS42Ck1vbmdvbGlhLDE0LjIsMTA3ODQsNjkuNywxMC4yCk1vbnRlbmVncm8sMTUsMTc1MTEsNzYuOCwxMS40Ck1vcm9jY28sMTMuMSw3NDgwLDc2LjUsNS41Ck1vemFtYmlxdWUsOS43LDExNTQsNjAuMiwzLjUKTXlhbm1hciwxMC4zLDU3NjQsNjYuOSw1Ck5hbWliaWEsMTIuNiw5NjgzLDYzLjQsNi45Ck5hdXJ1LDExLjMsMTczMTMsTkEsTkEKTmVwYWwsMTIuMiwyNzQ4LDcwLjUsNC45Ck5ldGhlcmxhbmRzLDE4LDUwMDEzLDgyLjEsMTIuMgpOZXcgWmVhbGFuZCwxOC44LDM1MTA4LDgyLjEsMTIuNwpOaWNhcmFndWEsMTIuMiw0NzkwLDc0LjMsNi44Ck5pZ2VyLDYuNSw5MTIsNjIsMgpOaWdlcmlhLDkuNyw1MDg2LDU0LjMsNi41Ck5vcnRoIE1hY2Vkb25pYSwxMy41LDEyODc0LDc1LjcsOS43Ck5vcndheSwxOC4xLDY4MDU5LDgyLjMsMTIuNgpPbWFuLDE0LjcsMzcwMzksNzcuNiw5LjcKUGFraXN0YW4sOC41LDUxOTAsNjcuMSw1LjIKUGFsYXUsMTUuNiwxNjcyMCw3My43LDEyLjQKIlBhbGVzdGluZSwgU3RhdGUgb2YiLDEyLjgsNTMxNCw3My45LDkuMQpQYW5hbWEsMTIuOSwyMDQ1NSw3OC4zLDEwLjIKUGFwdWEgTmV3IEd1aW5lYSwxMCwzNjg2LDY0LjMsNC42ClBhcmFndWF5LDEyLjcsMTE3MjAsNzQuMSw4LjQKUGVydSwxMy44LDEyMzIzLDc2LjUsOS4yClBoaWxpcHBpbmVzLDEyLjcsOTU0MCw3MS4xLDkuNApQb2xhbmQsMTYuNCwyNzYyNiw3OC41LDEyLjMKUG9ydHVnYWwsMTYuMywyNzkzNSw4MS45LDkuMgpRYXRhciwxMi4yLDExMDQ4OSw4MC4xLDkuNwpSb21hbmlhLDE0LjMsMjM5MDYsNzUuOSwxMQpSdXNzaWFuIEZlZGVyYXRpb24sMTUuNSwyNTAzNiw3Mi40LDEyClJ3YW5kYSwxMS4yLDE5NTksNjguNyw0LjQKU2FpbnQgS2l0dHMgYW5kIE5ldmlzLDEzLjYsMjY3NzAsNzQuNiw4LjUKU2FpbnQgTHVjaWEsMTMuOSwxMTUyOCw3Ni4xLDguNQpTYWludCBWaW5jZW50IGFuZCB0aGUgR3JlbmFkaW5lcywxMy42LDExNzQ2LDcyLjQsOC42ClNhbW9hLDEyLjUsNTg4NSw3My4yLDEwLjYKU2FuIE1hcmlubywxNS4xLE5BLE5BLE5BClNhbyBUb21lIGFuZCBQcmluY2lwZSwxMi43LDMwMjQsNzAuMiw2LjQKU2F1ZGkgQXJhYmlhLDE3LDQ5MzM4LDc1LDkuNwpTZW5lZ2FsLDksMzI1Niw2Ny43LDMuMQpTZXJiaWEsMTQuOCwxNTIxOCw3NS44LDExLjIKU2V5Y2hlbGxlcywxNS41LDI1MDc3LDczLjMsOS43ClNpZXJyYSBMZW9uZSwxMC4yLDEzODEsNTQuMywzLjYKU2luZ2Fwb3JlLDE2LjMsODM3OTMsODMuNSwxMS41ClNsb3Zha2lhLDE0LjUsMzA2NzIsNzcuNCwxMi42ClNsb3ZlbmlhLDE3LjQsMzIxNDMsODEuMiwxMi4zClNvbG9tb24gSXNsYW5kcywxMC4yLDIwMjcsNzIuOCw1LjUKU291dGggQWZyaWNhLDEzLjcsMTE3NTYsNjMuOSwxMC4yClNvdXRoIFN1ZGFuLDUsMTQ1NSw1Ny42LDQuOApTcGFpbiwxNy45LDM1MDQxLDgzLjQsOS44ClNyaSBMYW5rYSwxNCwxMTYxMSw3Ni44LDExLjEKU3VkYW4sNy43LDM5NjIsNjUuMSwzLjcKU3VyaW5hbWUsMTIuOSwxMTkzMyw3MS42LDkuMQpTd2VkZW4sMTguOCw0Nzk1NSw4Mi43LDEyLjQKU3dpdHplcmxhbmQsMTYuMiw1OTM3NSw4My42LDEzLjQKU3lyaWFuIEFyYWIgUmVwdWJsaWMsOC44LDI3MjUsNzEuOCw1LjEKVGFqaWtpc3RhbiwxMS40LDM0ODIsNzAuOSwxMC43ClRhbnphbmlhIChVbml0ZWQgUmVwdWJsaWMgb2YpLDgsMjgwNSw2NSw2ClRoYWlsYW5kLDE0LjcsMTYxMjksNzYuOSw3LjcKVGltb3ItTGVzdGUsMTIuNCw3NTI3LDY5LjMsNC41ClRvZ28sMTIuNiwxNTkzLDYwLjgsNQpUb25nYSwxNC4zLDU3ODMsNzAuOCwxMS4yClRyaW5pZGFkIGFuZCBUb2JhZ28sMTMsMjg0OTcsNzMuNCwxMQpUdW5pc2lhLDE1LjEsMTA2NzcsNzYuNSw3LjIKVHVya2V5LDE2LjQsMjQ5MDUsNzcuNCw3LjcKVHVya21lbmlzdGFuLDEwLjksMTY0MDcsNjguMSw5LjgKVHV2YWx1LDEyLjMsNTQwOSxOQSxOQQpVZ2FuZGEsMTEuMiwxNzUyLDYzLDYuMQpVa3JhaW5lLDE1LjEsNzk5NCw3MiwxMS4zClVuaXRlZCBBcmFiIEVtaXJhdGVzLDEzLjYsNjY5MTIsNzcuOCwxMQpVbml0ZWQgS2luZ2RvbSwxNy40LDM5NTA3LDgxLjIsMTMKVW5pdGVkIFN0YXRlcywxNi4zLDU2MTQwLDc4LjksMTMuNApVcnVndWF5LDE2LjMsMTk0MzUsNzcuOCw4LjcKVXpiZWtpc3RhbiwxMiw2NDYyLDcxLjYsMTEuNQpWYW51YXR1LDExLjQsMjgwOCw3MC4zLDYuOApWZW5lenVlbGEgKEJvbGl2YXJpYW4gUmVwdWJsaWMgb2YpLDEyLjgsOTA3MCw3Mi4xLDEwLjMKVmlldCBOYW0sMTIuNyw2MjIwLDc1LjMsOC4yClllbWVuLDguNywxNDMzLDY2LjEsMy4yClphbWJpYSwxMi4xLDM1ODIsNjMuNSw3LjEKWmltYmFid2UsMTAuNSwyNjYxLDYxLjIsOC4zClN1Yi1TYWhhcmFuIEFmcmljYSwxMCwzNDQzLDYxLjIsNS43ClNvbWFsaWEsTkEsTkEsNTcuMSxOQQo=" download="dev2018.csv">here</a>.</p>
<div class="sourceCode" id="cb282"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dev</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"data/un_data/dev2018.csv"</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>In the above example, the first argument specifies the path to the file read as a <em>string</em>, i.e.enclosed in quotation marks. The file can be read:
1. using <em>absolute path</em> - for example <code>dev &lt;- read.csv("C:/Users/yourusername/Documents/dev2018.csv")</code> in Windows or <code>dev &lt;- read.csv("/Users/yourusername/Documents/dev2018.csv")</code> in MacOS. In this case, you need to provide the full path to where the file is located in the computer.</p>
<ol start="2" style="list-style-type: decimal">
<li>using <em>relative path</em>, as in the above example. In this case, R will search for the directory <em>in your current working directory</em>. <em>Working directory</em> is simply the specific folder in your computer in which R looks for the data. R Studio usually sets one default working directory (this can be changed under Tools -&gt; Global Options -&gt; Set Default Working Directory). This means that every time you open RStudio or restart your R session (as described in <a href="introduction.html#a-short-note-on-keeping-your-working-environment-clean">Chapter 1</a>, the working directory is set to this default. You can also change working directory <em>manually</em> by executing the <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code> function from your script or the console.</li>
</ol>
<div class="sourceCode" id="cb283"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="st">"C:/Users/yourusername/folder"</span><span class="op">)</span></span></code></pre></div>
<p>You can also get your current working directory by using the <code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code> function:</p>
<div class="sourceCode" id="cb284"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">getwd</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>While some users tend to include <code>setwd(path/to/project)</code> in the beginnings of their scripts, this is potentially problematic, as whenever you move your data or script to another folder, errors are likely to occur. Therefore, it is a good practice to <em>always set working directory to the location of your R Source script</em> and keep the data in the same folder as your source script. This can be done by choosing the Session tab</p>
<p>Note that in this case, it is assumed that you have selected Set Working Directory &gt; To Source File location from the Session tab in Rstudio, as discussed in the <a href="introduction.html#introduction">Introduction</a> and that the directory of the source file has a folder called data in which the <code>dev2018.csv</code> file is stored. Alternatively, <code>dev &lt;- read.csv("dev2018.csv")</code> would read the file directly from your working directory. You could also use <code>dev &lt;- read.csv("C:/Users/yourusername/Documents/dev2018.csv")</code> in Windows or <code>dev &lt;- read.csv("/Users/yourusername/Documents/dev2018.csv")</code> in MacOS to read the data file from an arbitary folder using its absolute path. Similarily to the <code>data.frame</code> constructor, we can also use the <code>stringsAsFactors</code> argument to ensure all character variables are read as strings.</p>
<p>You can also save data to .csv files by using the <code>write.csv</code>, which takes the data frame as its first argument and the string specifying the path to which you want to save the file as the second argument. For example, suppose we want to keep only the first 40 rows of the data and store it in a separate file.</p>
<div class="sourceCode" id="cb285"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dev_new</span> <span class="op">&lt;-</span> <span class="va">dev</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">40</span>, <span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">dev_new</span>, <span class="st">"data/un_data/dev_new.csv"</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="reading-from-other-formats" class="section level4 unnumbered">
<h4>Reading from other formats<a class="anchor" aria-label="anchor" href="#reading-from-other-formats"><i class="fas fa-link"></i></a>
</h4>
<p>While csv is the most common format, the data is often likely to come in many other variants - common examples include Statas <code>.dta</code> files or SPSS <code>.sav</code>, as well as <code>.xlsx</code> Excel format. Some of the R packages offer functionalities percisely to deal with such files.</p>
<p>So far, we have only used the built-in functionalities offered by R. While their range is pretty extensive and the ones covered in this course are only the tip of the iceberg, much more than that is offered by user-made packages, which offer new functions useful for specific tasks. The official R packages are available through <a href="https://cran.r-project.org/">CRAN</a>. To use a package it needs to be installed first and then loaded. For example, to use an example package named <em>foo</em>, you should first run <code>install.packages("foo")</code> to download the package files from CRAN and install it and then put <code><a href="https://rdrr.io/r/base/library.html">library(foo)</a></code> in your R Script to load it into R. Note that while installation has to be done only once, you have to load the library every time you use it - thats why, you should always put the <code>library</code> calls at the top of your R script. If you use a function from that package without loading it first, your R script execution will fail! Please also note, that you pass the package name as a <em>string</em> (i.e.in quotation marks) to the <code>install.packages</code>, but without them to <code>library</code>.</p>
<div class="sourceCode" id="cb286"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"haven"</span><span class="op">)</span></span></code></pre></div>
<p>Coming back to our example, we can use the R package <code>haven</code> to load Stata, SPSS and SAS files. You can see an example below:</p>
<div class="sourceCode" id="cb287"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://haven.tidyverse.org">haven</a></span><span class="op">)</span></span>
<span><span class="va">dev_stata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://haven.tidyverse.org/reference/read_dta.html">read_dta</a></span><span class="op">(</span><span class="st">"data/un_data/dev2018.dta"</span><span class="op">)</span></span></code></pre></div>
<p>Similarily, the data can be written using:</p>
<div class="sourceCode" id="cb288"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://haven.tidyverse.org/reference/read_dta.html">write_dta</a></span><span class="op">(</span><span class="va">dev</span>, <span class="st">"data/un_data/dev2018.dta"</span><span class="op">)</span></span></code></pre></div>
<p>Other alternatives offered by the <code>haven</code> package inlcude <code>read_sav</code> or <code>read_xpt</code>. Other packages useful for reading unusual data types include <code>readxl</code> for reading Excel files and <code>foreign</code> for a broader choice of file types.</p>
</div>
</div>
<div id="missing-values" class="section level3 unnumbered">
<h3>Missing values<a class="anchor" aria-label="anchor" href="#missing-values"><i class="fas fa-link"></i></a>
</h3>
<p>As mentioned earlier, the <code>NA</code> missing value constant is particularly important in R. Real-life data that you are likely to deal with most of the time when using R in practice is often imperfect and missingness should be addressed as one of the first steps of the analysis process.</p>
<p><code><a href="https://rdrr.io/r/base/NA.html">is.na()</a></code> command can be used to determine whether a value of an R object is missing. It returns true for each value of the index which is missing.</p>
<div class="sourceCode" id="cb289"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">numbers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4</span>, <span class="cn">NA</span>, <span class="fl">6</span>, <span class="cn">NA</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">numbers</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] FALSE FALSE  TRUE FALSE  TRUE</code></pre>
<p>To count NAs in an R object we can levarage the fact that <code>TRUE</code> values are also interpreted as 1 and use the <code>sum</code> function:</p>
<div class="sourceCode" id="cb291"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">numbers</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] 2</code></pre>
<p>You can also verify whether an object contains <code>NA</code>s using the <code>anyNA</code> function. Lets check if the HDI data we have loaded contains any missing values:</p>
<div class="sourceCode" id="cb293"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dev</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"data/un_data/dev2018.csv"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">anyNA</a></span><span class="op">(</span><span class="va">dev</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<p>The column returns <code>TRUE</code>. Therefore there is some missingness in the data.</p>
<p>Another useful function for missing data analysis is <code>complete.cases</code>. As the name suggests, given a data frame it returns a logical vector with <code>TRUE</code> for each row which doesnt contain missing values. We can verify which observations are the cause of the data missingness:</p>
<div class="sourceCode" id="cb295"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dev</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html">complete.cases</a></span><span class="op">(</span><span class="va">dev</span><span class="op">)</span>, <span class="op">]</span></span></code></pre></div>
<pre><code>                                country  eys   gni lexp mys
91  Korea (Democratic People's Rep. of) 10.8    NA 72.1  NA
122                               Nauru 11.3 17313   NA  NA
150                          San Marino 15.1    NA   NA  NA
180                              Tuvalu 12.3  5409   NA  NA
195                             Somalia   NA    NA 57.1  NA</code></pre>
</div>
<div id="lists" class="section level3 unnumbered">
<h3>Lists<a class="anchor" aria-label="anchor" href="#lists"><i class="fas fa-link"></i></a>
</h3>
<p>The final key R data structure covered in this section are lists. Similarily to data frames, lists can be thought of containers to store other data structures.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;More specifically, the &lt;code&gt;data.frame&lt;/code&gt; class is a special type of &lt;code&gt;list&lt;/code&gt; - you can verify that by running the &lt;code&gt;typeof&lt;/code&gt; function with a data frame as input.&lt;/p&gt;"><sup>2</sup></a> However, unlike data frames, they are less strict in terms of their contents - a list can store vectors of different length, data frames and even other lists. Lists are created with the <code><a href="https://rdrr.io/r/base/list.html">list()</a></code> constructor.</p>
<div class="sourceCode" id="cb297"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Tom"</span>,<span class="st">"James"</span>,<span class="st">"Tim"</span><span class="op">)</span>, values <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span></span>
<span><span class="va">my_list</span></span></code></pre></div>
<pre><code>$names
[1] "Tom"   "James" "Tim"  

$values
 [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20</code></pre>
<p>You can extract elements from a list using their names or their numeric index. To index a list, <em>double square brackets</em> <code>[[</code> are used, as opposed to vectors.</p>
<div class="sourceCode" id="cb299"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_list</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<pre><code>[1] "Tom"   "James" "Tim"  </code></pre>
<div class="sourceCode" id="cb301"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_list</span><span class="op">[[</span><span class="st">"names"</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<pre><code>[1] "Tom"   "James" "Tim"  </code></pre>
<p>If a list is indexed with single brackets, it returns a one-element list, rather than the object stored in it:</p>
<div class="sourceCode" id="cb303"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">values</span> <span class="op">&lt;-</span> <span class="va">my_list</span><span class="op">[[</span><span class="st">"values"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">values</span><span class="op">)</span></span></code></pre></div>
<pre><code> int [1:20] 1 2 3 4 5 6 7 8 9 10 ...</code></pre>
<div class="sourceCode" id="cb305"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">values</span> <span class="op">&lt;-</span> <span class="va">my_list</span><span class="op">[</span><span class="st">"values"</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">values</span><span class="op">)</span></span></code></pre></div>
<pre><code>List of 1
 $ values: int [1:20] 1 2 3 4 5 6 7 8 9 10 ...</code></pre>
<p>You can also extract elements from a list using the <code>$</code> operator, similarily to data.frames. Finally, you can assign values to lists similarily as in the case of vectors or data.frames:</p>
<div class="sourceCode" id="cb307"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_list</span><span class="op">[[</span><span class="st">"new"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"new"</span>,<span class="st">"values"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">my_list</span><span class="op">)</span></span></code></pre></div>
<pre><code>List of 3
 $ names : chr [1:3] "Tom" "James" "Tim"
 $ values: int [1:20] 1 2 3 4 5 6 7 8 9 10 ...
 $ new   : chr [1:2] "new" "values"</code></pre>
</div>
</div>
<div id="summary-1" class="section level2" number="3.2">
<h2>
<span class="header-section-number">3.2</span> Summary<a class="anchor" aria-label="anchor" href="#summary-1"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><p><em>Data Frames</em> are one of the most common data structures in R. You can think about them as an Excel spreadsheet with tables with rows and columns or as a list of variables (vectors of equal length), each with its unique name. Each value in a data frame has two indexes - one for the row number and one for the column number. For example, <code>df[2,3]</code> retrieves the value in the second row from the third column.</p></li>
<li><p><em>Factors</em> are a special kind of vectors that can only take a pre-specified set of values, determined when the factor is created.</p></li>
<li><p><em>csv files</em> are the most common way of storing data in R. You can load the data from them using <code>read.csv</code> and save the data using <code>write.csv</code>.</p></li>
<li><p><em>working directory</em> is the folder in your computer where R looks for files by default. You can check it using the <code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code> function, change it using <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code>or set it to the location where your current script is located by selecting <code>Session &gt; Set Working Directory &gt; To Source File Location</code>.</p></li>
<li><p><em>packages</em> are sets of new functions developed for R by external developers, extending its functionalities. You can install them using <code>install.packages</code> and load them using the <code>library</code> function.</p></li>
<li><p><em>missing values</em> are marked in R by the <code>NA</code> token. There are many useful functions created to detect missing values, such as <code>is.na</code>, <code>complete.cases</code> or <code>anyNA</code>.</p></li>
<li><p><em>lists</em> are another type of R data structure. They can be thought of as containers, which can be used to store arbitrary elements at each position.</p></li>
</ul>
<div id="functions-list-1" class="section level3 unnumbered">
<h3>Functions list<a class="anchor" aria-label="anchor" href="#functions-list-1"><i class="fas fa-link"></i></a>
</h3>
</div>
</div>
<div id="exercises-1" class="section level2" number="3.3">
<h2>
<span class="header-section-number">3.3</span> Exercises<a class="anchor" aria-label="anchor" href="#exercises-1"><i class="fas fa-link"></i></a>
</h2>
<ol style="list-style-type: decimal">
<li>The following code returns an error. Why? Check what happends if we set b to <code>1:5</code> instead of <code>1:3</code>. Explain this behaviour.</li>
</ol>
<div class="sourceCode" id="cb309"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li><p>What is the difference between character and factor vectors in R? In what situation you might prefer one over the other and vice versa?</p></li>
<li><p>To complete this exercise, load the <code>dev2018.csv</code> data into R.</p></li>
</ol>
<ol style="list-style-type: lower-alpha">
<li><p>What proportion of the rows are complete?</p></li>
<li><p>Store all the non-missing rows in a data.frame called <code>dev_clean</code>.</p></li>
<li><p>For the <code>dev_clean</code>, compute the HDI following the method outlined in the previous chapter.</p></li>
<li><p>Use indexing to retrieve:</p></li>
</ol>
<ul>
<li>countries with HDI greater than 0.7 or GNI per capita greater than 10000</li>
<li>10 countries with the largest GNI</li>
<li>10 countries with shortest life expactancy at birth</li>
<li>the development data for Poland</li>
<li>countries with Education Index higher than Life Expectancy Index</li>
</ul>
<ol start="5" style="list-style-type: lower-alpha">
<li>The UN categorizes the countries into 4 groups based on their HDI value - <em>very high human development</em> <span class="math inline">\(HDI \geq 0.8\)</span>, <em>high human development</em> <span class="math inline">\(0.8 &gt; HDI \geq 0.7\)</span>, <em>medium human development</em> <span class="math inline">\(0.7 &gt; HDI \geq 0.55\)</span> and <em>low human development</em> <span class="math inline">\(0.55 &gt; HDI\)</span>. Based on this thresholds, create a data frame called
hdi_groups, with element names <code>"vhigh", "high", "med", "low"</code>, with each containing a dataframe only with observations corresponding to its respective HDI group. How many rows (as a fraction of total data.frame size) does each of these levels consist of?</li>
</ol>
<ol start="3" style="list-style-type: decimal">
<li>The following operation returns a warning error and the result is not quite as you would expect. Why? How would you replace the first element of the list with the <code>1:5</code> sequence so that the error doesnt appear? Name the two ways this could be done.</li>
</ol>
<div class="sourceCode" id="cb310"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>vals <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Jane"</span>,<span class="st">"Kate"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">my_list</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span></span></code></pre></div>
<pre><code>Warning in my_list[1] &lt;- 1:5: number of items to replace is not a multiple of replacement length</code></pre>
<p><em>The solutions for the exercises will be available here on 2020-11-12.</em></p>
<button class="btn btn-default" onclick="
    async function downloadFile(event) {
      event.preventDefault();
      try {
        const response = await fetch('data:text/plain;base64,IycgIyMgRXhlcmNpc2VzCiMnIAojJyAKIycgMS4gVGhlIGZvbGxvd2luZyBjb2RlIHJldHVybnMgYW4gZXJyb3IuIFdoeT8gQ2hlY2sgd2hhdCBoYXBwZW5kcyBpZiB3ZSBzZXQgYiB0byBgMTo1YCBpbnN0ZWFkIG9mIGAxOjNgLiBFeHBsYWluIHRoaXMgYmVoYXZpb3VyLgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgZGYgPC0gZGF0YS5mcmFtZShhID0gMToxMCwgYiA9IDE6MykKCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KI0FOU1dFUgoKI1RoaXMgaXMgYmVjYXVzZSB0aGUgdmVjdG9ycyBwYXNzZWQgdG8gdGhlIGRhdGEuZnJhbWUgY29uc3RydWN0b3IgYXJlIG9mIHVuZXF1YWwgbGVuZ3RoLiBXaGVuIG9uZSBvZiB0aGUgcm93cyBpcyBhIG11bHRpcGxlIG9mIHRoZSBsZW5ndGggb2Ygb3RoZXIgcm93cywgUiAncmVjeWNsZXMnIHRoZXNlIHJvd3MgdG8gYmUgdGhlIHNhbWUgbGVuZ3RoLCBpLmUuIHJlcGVhdHMgdGhlaXIgdmFsdWVzIHRvIG1hdGNoIHRoZSBsb25nZXN0IHZlY3RvciwgZm9yIGV4YW1wbGU6CmRmIDwtIGRhdGEuZnJhbWUoeCA9IDE6MTAsIHkgPSAxOjUsIHogPSAxOjIpCmRmCgojJyAKIycgCiMnIDIuIFdoYXQgaXMgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBjaGFyYWN0ZXIgYW5kIGZhY3RvciB2ZWN0b3JzIGluIFI/IEluIHdoYXQgc2l0dWF0aW9uIHlvdSBtaWdodCBwcmVmZXIgb25lIG92ZXIgdGhlIG90aGVyIGFuZCB2aWNlIHZlcnNhPwojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiNBTlNXRVIKCiNDaGFyYWN0ZXIgdmVjdG9ycyBhcmUgc2ltcGx5IHJlcHJlc2VudGF0aW9ucyBvZiB0ZXh0IGRhdGEuIFRoZXkgY2FuIHRha2UgYW55IHZhbHVlLCBhcyBsb25nIGFzIGl0J3MgZW50ZXJlZCBpbiB0aGUgcXVvdGF0aW9uIG1hcmtzICcnCiNGYWN0b3JzIGNhbiBiZSBjb25zdHJ1Y3RlZCBmcm9tIGFueSBvdGhlciB2ZWN0b3IgY2xhc3MgKGZvciBleGFtcGxlLCBudW1lcmljKS4gVGhleSBoYXZlIGEgcHJlLWRlZmluZWQgc2V0IG9mIGxldmVscywgYW5kIHZhbHVlcyB0aGF0IGRvbid0IGJlbG9uZyB0byB0aGF0IHNldCBjYW5ub3QgYmUgYXNzaWduZWQgdG8gdGhlbS4KI0ZhY3RvcnMgYXJlIGEgYmV0dGVyIGNob2ljZSB3aGVuIGEgdmVjdG9yIGNvbnNpc3RzIG9mIGNvdXBsZSBmcmVxdWVudGx5IHJlY3VycmluZyB2YWx1ZSwgaS5lLiB3aGVuIHRoZSBsZW50aCBvZiB0aGUgdmVjdG9yIGlzIG11Y2ggZ3JlYXRlciB0aGFuIHRoZSBudW1iZXIgb2YgdW5pcXVlIHZhbHVlcyBpbiB0aGlzIHZlY3Rvci4KCiMnIAojJyAKIycgCiMnIDMuIFRvIGNvbXBsZXRlIHRoaXMgZXhlcmNpc2UsIGxvYWQgdGhlIGBkZXYyMDE4LmNzdmAgZGF0YSBpbnRvIFIuCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KI0FOU1dFUgpkZXYgPC0gcmVhZC5jc3YoImRhdGEvdW5fZGF0YS9kZXYyMDE4LmNzdiIsIHN0cmluZ3NBc0ZhY3RvcnMgPSBUUlVFKQoKIycgCiMnIAojJyBhLiBXaGF0IHByb3BvcnRpb24gb2YgdGhlIHJvd3MgYXJlIGNvbXBsZXRlPyAKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojQU5TV0VSCnN1bShjb21wbGV0ZS5jYXNlcyhkZXYpKS9ucm93KGRldikKCiMnIAojJyBiLiBTdG9yZSBhbGwgdGhlIG5vbi1taXNzaW5nIHJvd3MgaW4gYSBkYXRhLmZyYW1lIGNhbGxlZCBgZGV2X2NsZWFuYC4KIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojQU5TV0VSCmRldl9jbGVhbiA8LSBkZXZbY29tcGxldGUuY2FzZXMoZGV2KSwgXQoKIycgCiMnIGMuIEZvciB0aGUgYGRldl9jbGVhbmAsIGNvbXB1dGUgdGhlIEhESSBmb2xsb3dpbmcgdGhlIG1ldGhvZCBvdXRsaW5lZCBpbiB0aGUgcHJldmlvdXMgY2hhcHRlci4KIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojQU5TV0VSCgojZ2V0IGVkdWNhdGlvbiBpbmRleDoKZGV2X2NsZWFuJGVkdV9pbmQgPC0gd2l0aChkZXZfY2xlYW4sIChteXMgLyAxNSArIGV5cyAvIDE4KSAvIDIpCgojZ2V0IGxpZmUgZXhwZWN0YW5jeSBpbmRleDoKZGV2X2NsZWFuJGxleHBfaW5kIDwtIHdpdGgoZGV2X2NsZWFuLCAobGV4cCAtIDIwKSAvICg4NSAtIDIwKSkKCiNnZXQgaW5jb21lIGluZGV4OgpkZXZfY2xlYW4kaW5jX2luZCA8LSB3aXRoKGRldl9jbGVhbiwgKGxvZyhnbmkpIC0gbG9nKDEwMCkpLyhsb2coNzUwMDApIC0gbG9nKDEwMCkpKQoKI2dldCBIREkKZGV2X2NsZWFuJGhkaSA8LSB3aXRoKGRldl9jbGVhbiwgKGVkdV9pbmQgKiBsZXhwX2luZCAqIGluY19pbmQpXigxLzMpKQoKIycgCiMnIGQuIFVzZSBpbmRleGluZyB0byByZXRyaWV2ZToKIycgCiMnIC0gY291bnRyaWVzIHdpdGggSERJIGdyZWF0ZXIgdGhhbiAwLjcgb3IgR05JIHBlciBjYXBpdGEgZ3JlYXRlciB0aGFuIDEwMDAwCiMnIC0gMTAgY291bnRyaWVzIHdpdGggdGhlIGxhcmdlc3QgR05JCiMnIC0gMTAgY291bnRyaWVzIHdpdGggc2hvcnRlc3QgbGlmZSBleHBhY3RhbmN5IGF0IGJpcnRoCiMnIC0gdGhlIGRldmVsb3BtZW50IGRhdGEgZm9yIFBvbGFuZAojJyAtIGNvdW50cmllcyB3aXRoIEVkdWNhdGlvbiBJbmRleCBoaWdoZXIgdGhhbiBMaWZlIEV4cGVjdGFuY3kgSW5kZXgKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojQU5TV0VSCiMtIGNvdW50cmllcyB3aXRoIEhESSBncmVhdGVyIHRoYW4gMC43IG9yIEdOSSBwZXIgY2FwaXRhIGdyZWF0ZXIgdGhhbiAxMDAwMApkZXZfY2xlYW5bZGV2X2NsZWFuJGhkaSA+IDAuNyB8IGRldl9jbGVhbiRnbmkgPiAxMDAwMCwgXQojLSAxMCBjb3VudHJpZXMgd2l0aCB0aGUgbGFyZ2VzdCBHTkkKZGV2X2NsZWFuW29yZGVyKGRldl9jbGVhbiRnbmksIGRlY3JlYXNpbmcgPSBUUlVFKSwgXVsxOjEwLCBdCiMtIDEwIGNvdW50cmllcyB3aXRoIHNob3J0ZXN0IGxpZmUgZXhwYWN0YW5jeSBhdCBiaXJ0aApkZXZfY2xlYW5bb3JkZXIoZGV2X2NsZWFuJGxleHApLCBdWzE6MTAsIF0KIy0gdGhlIGRldmVsb3BtZW50IGRhdGEgZm9yIFBvbGFuZApkZXZfY2xlYW5bZGV2X2NsZWFuJGNvdW50cnkgPT0gJ1BvbGFuZCcsIF0KIy0gY291bnRyaWVzIHdpdGggRWR1Y2F0aW9uIEluZGV4IGhpZ2hlciB0aGFuIExpZmUgRXhwZWN0YW5jeSBJbmRleApkZXZfY2xlYW5bZGV2X2NsZWFuJGVkdV9pbmQgPiBkZXZfY2xlYW4kbGV4cF9pbmQsIF0KCiMnIAojJyBlLiBUaGUgVU4gY2F0ZWdvcml6ZXMgdGhlIGNvdW50cmllcyBpbnRvIDQgZ3JvdXBzIGJhc2VkIG9uIHRoZWlyIEhESSB2YWx1ZSAtIF92ZXJ5IGhpZ2ggaHVtYW4gZGV2ZWxvcG1lbnRfICRIREkgXGdlcSAwLjgkLCBfaGlnaCBodW1hbiBkZXZlbG9wbWVudF8gJDAuOCA+IEhESSBcZ2VxIDAuNyQsIF9tZWRpdW0gaHVtYW4gZGV2ZWxvcG1lbnRfICQwLjcgPiBIREkgXGdlcSAwLjU1JCBhbmQgX2xvdyBodW1hbiBkZXZlbG9wbWVudF8gJDAuNTUgPiBIREkkLiBCYXNlZCBvbiB0aGlzIHRocmVzaG9sZHMsIGNyZWF0ZSBhIGRhdGEgZnJhbWUgY2FsbGVkCiMnIGhkaV9ncm91cHMsIHdpdGggZWxlbWVudCBuYW1lcyBgInZoaWdoIiwgImhpZ2giLCAibWVkIiwgImxvdyJgLCB3aXRoIGVhY2ggY29udGFpbmluZyBhIGRhdGFmcmFtZSBvbmx5IHdpdGggb2JzZXJ2YXRpb25zIGNvcnJlc3BvbmRpbmcgdG8gaXRzIHJlc3BlY3RpdmUgSERJIGdyb3VwLiBIb3cgbWFueSByb3dzIChhcyBhIGZyYWN0aW9uIG9mIHRvdGFsIGRhdGEuZnJhbWUgc2l6ZSkgZG9lcyBlYWNoIG9mIHRoZXNlIGxldmVscyBjb25zaXN0IG9mPwojJyAKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojQU5TV0VSCmhkaV9ncm91cHMgPC0gbGlzdCgpCmhkaV9ncm91cHNbWyJ2aGlnaCJdXSA8LSBkZXZfY2xlYW5bZGV2X2NsZWFuJGhkaSA+PSAwLjgsIF0KaGRpX2dyb3Vwc1tbImhpZ2giXV0gPC0gZGV2X2NsZWFuW3dpdGgoZGV2X2NsZWFuLCBoZGkgPCAwLjggJiBoZGkgPj0gMC43KSwgXQpoZGlfZ3JvdXBzW1sibWVkIl1dIDwtIGRldl9jbGVhblt3aXRoKGRldl9jbGVhbiwgaGRpIDwgMC43ICYgaGRpID49IDAuNTUpLCBdCmhkaV9ncm91cHNbWyJsb3ciXV0gPC0gZGV2X2NsZWFuW3dpdGgoZGV2X2NsZWFuLCBoZGkgPCAwLjU1KSwgXQoKbnJvdyhoZGlfZ3JvdXBzW1sidmhpZ2giXV0pCm5yb3coaGRpX2dyb3Vwc1tbImhpZ2giXV0pCm5yb3coaGRpX2dyb3Vwc1tbIm1lZCJdXSkKbnJvdyhoZGlfZ3JvdXBzW1sibG93Il1dKQoKIycgCiMnIDMuIFRoZSBmb2xsb3dpbmcgb3BlcmF0aW9uIHJldHVybnMgYSB3YXJuaW5nIGVycm9yIGFuZCB0aGUgcmVzdWx0IGlzIG5vdCBxdWl0ZSBhcyB5b3Ugd291bGQgZXhwZWN0LiBXaHk/IEhvdyB3b3VsZCB5b3UgcmVwbGFjZSB0aGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgbGlzdCB3aXRoIHRoZSBgMTo1YCBzZXF1ZW5jZSBzbyB0aGF0IHRoZSBlcnJvciBkb2Vzbid0IGFwcGVhcj8gTmFtZSB0aGUgdHdvIHdheXMgdGhpcyBjb3VsZCBiZSBkb25lLgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCm15X2xpc3QgPC0gbGlzdCh2YWxzID0gMToxMCwgbmFtZXMgPSBjKCJKYW5lIiwiS2F0ZSIpKQpteV9saXN0WzFdIDwtIDE6NQoKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojQU5TV0VSCm15X2xpc3RbWzFdXSA8LSAxOjUKI29yCm15X2xpc3RbMV0gPC0gbGlzdCh2YWxzID0gMTo1KQoKIycgCiMnICpUaGUgc29sdXRpb25zIGZvciB0aGUgZXhlcmNpc2VzIHdpbGwgYmUgYXZhaWxhYmxlIGhlcmUgb24gYHIgY29uZmlnJGRhdGFfc3RydWN0dXJlc2AuKgojJyAKIycgCgA=');
        if (!response.ok) throw new Error('Network response failed');
        const blob = await response.blob();
        const blobUrl = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = blobUrl;
        a.download = '03-data_structures-solutions.R';
        a.style.display = 'none';
        document.body.appendChild(a);
        a.dispatchEvent(new MouseEvent('click'));
        document.body.removeChild(a);
        setTimeout(() =&gt; {
          window.URL.revokeObjectURL(blobUrl);
        }, 100);
        return false;
      } catch (error) {
        console.error('Download failed:', error);
        alert('Download failed. Please try again.');
      }
    }
    downloadFile(event);
  "><i class="fa fa-save"></i> Chapter solutions</button>

</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="basics.html"><span class="header-section-number">2</span> Basics of R Programming</a></div>
<div class="next"><a href="exploratory.html"><span class="header-section-number">4</span> Exploratory Data Analysis</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#datastructures"><span class="header-section-number">3</span> Data structures</a></li>
<li>
<a class="nav-link" href="#content-1"><span class="header-section-number">3.1</span> Content</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#data-frames">Data Frames</a></li>
<li><a class="nav-link" href="#factors">Factors</a></li>
<li><a class="nav-link" href="#reading-and-writing-the-data">Reading and writing the data</a></li>
<li><a class="nav-link" href="#missing-values">Missing values</a></li>
<li><a class="nav-link" href="#lists">Lists</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#summary-1"><span class="header-section-number">3.2</span> Summary</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#functions-list-1">Functions list</a></li></ul>
</li>
<li><a class="nav-link" href="#exercises-1"><span class="header-section-number">3.3</span> Exercises</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong><p><img src="images/Crest_white.png" width="75" style="display:block; margin:auto; margin-bottom:3em;"> Analysing Quantitative Data with R <br></p></strong>" was written by </p>
<p><strong>Dr Flo Reiche &amp; Piotr Bogdanski</strong> <br><strong>Department of Politics and International Studies</strong> <br><strong>University of Warwick</strong></p>. It was last built on 23 August, 2025.
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>8 Statistical Inference and Association |  Analysing Quantitative Data with R  </title>
<meta name="generator" content="bookdown 0.43 with bs4_book()">
<meta property="og:title" content="8 Statistical Inference and Association |  Analysing Quantitative Data with R  ">
<meta property="og:type" content="book">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="8 Statistical Inference and Association |  Analysing Quantitative Data with R  ">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/Lexend-0.4.10/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.9.0/transition.js"></script><script src="libs/bs3compat-0.9.0/tabs.js"></script><script src="libs/bs3compat-0.9.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/font-awesome-6.7.2/js/script.js"></script><link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.33/datatables.js"></script><link href="libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
<meta name="description" content="Chapter script Chapter markdown Chapter exercises  8.1 Content library(tidyverse) So far, we have described variety of methods to wrangle and explore data in R. After performing cleaning and...">
<meta property="og:description" content="Chapter script Chapter markdown Chapter exercises  8.1 Content library(tidyverse) So far, we have described variety of methods to wrangle and explore data in R. After performing cleaning and...">
<meta name="twitter:description" content="Chapter script Chapter markdown Chapter exercises  8.1 Content library(tidyverse) So far, we have described variety of methods to wrangle and explore data in R. After performing cleaning and...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title=""><p><img src="images/Crest_white.png" width="75" style="display:block; margin:auto; margin-bottom:3em;"> Analysing Quantitative Data with R <br></p></a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="" href="accessibility.html">Accessibility</a></li>
<li class="book-part">THE BASICS</li>
<li><a class="" href="introduction.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="" href="basics.html"><span class="header-section-number">2</span> Basics of R Programming</a></li>
<li><a class="" href="datastructures.html"><span class="header-section-number">3</span> Data structures</a></li>
<li><a class="" href="exploratory.html"><span class="header-section-number">4</span> Exploratory Data Analysis</a></li>
<li class="book-part">ADVANCED DATA MANIPULATION</li>
<li><a class="" href="programming.html"><span class="header-section-number">5</span> Key Programming Concepts</a></li>
<li><a class="" href="dplyr.html"><span class="header-section-number">6</span> Data Manipulation</a></li>
<li><a class="" href="visualization.html"><span class="header-section-number">7</span> Data Visualization</a></li>
<li class="book-part">DATA ANALYSIS</li>
<li><a class="active" href="association.html"><span class="header-section-number">8</span> Statistical Inference and Association</a></li>
<li><a class="" href="ols.html"><span class="header-section-number">9</span> Linear Regression</a></li>
<li><a class="" href="logit.html"><span class="header-section-number">10</span> Logistic Regression</a></li>
<li class="book-part">ADVANCED TOPICS</li>
<li><a class="" href="rmarkdown.html"><span class="header-section-number">11</span> R Markdown</a></li>
<li><a class="" href="course-summary.html"><span class="header-section-number">12</span> Course summary</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><script src="sidebar-link.js"></script><div id="association" class="section level1" number="8">
<h1>
<span class="header-section-number">8</span> Statistical Inference and Association<a class="anchor" aria-label="anchor" href="#association"><i class="fas fa-link"></i></a>
</h1>
<button class="btn btn-default" onclick="
    async function downloadFile(event) {
      event.preventDefault();
      try {
        const response = await fetch('data:text/plain;base64,IycgIyAoUEFSVCkgREFUQSBBTkFMWVNJUyAKCiMnIAojJyAjIFN0YXRpc3RpY2FsIEluZmVyZW5jZSBhbmQgQXNzb2NpYXRpb24gCgojJyAKIycgCiMnIAojJyAKIycgIyMgQ29udGVudAojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmxpYnJhcnkodGlkeXZlcnNlKQoKIycgCiMnIAojJyBTbyBmYXIsIHdlIGhhdmUgZGVzY3JpYmVkIHZhcmlldHkgb2YgbWV0aG9kcyB0byB3cmFuZ2xlIGFuZCBleHBsb3JlIGRhdGEgaW4gUi4gQWZ0ZXIgcGVyZm9ybWluZyBjbGVhbmluZyBhbmQgZXhwbG9yYXRvcnkgYW5hbHlzaXMsIGl0IGlzIGNvbW1vbiB0byBwZXJmb3JtIG1vcmUgZm9ybWFsIHRlc3RzIG9uIHRoZSBkYXRhIHRvIHZlcmlmeSB3aGV0aGVyIHRoZSByZWxhdGlvbnNoaXBzIHdlIGh5cG90aGVzaXplZCBob2xkIHVuZGVyIHRoZSBzY3J1dGlueSBvZiB0ZXN0cyBzdXBwb3J0ZWQgYnkgc3RhdGlzdGljYWwgdGhlb3J5LiBJbiB0aGlzIGNoYXB0ZXIgd2Ugd2lsbCBwcmVzZW50IGNvdXBsZSBvZiB0ZXN0aW5nIHN1Y2ggcmVsYXRpb25zaGlwcy4gV2hpbGUgc29tZSBmb3JtYWwga25vd2xlZGdlIG9mIHN0YXRpc3RpY2FsIGluZmVyZW5jZSB3aWxsIGJlIHVzZWZ1bCwgdGhlIGNoYXB0ZXIgZG9lcyBub3QgcmVseSBvbiB5b3VyIGJhY2tncm91bmQga25vd2xlZGdlIHRvIGhlYXZpbHkuCiMnIAojJyAjIyMgQ29tcGFyaW5nIG1lYW5zIAoKIycgCiMnIFdoaWxlIGEgbWVhbiBpcyBhIGdvb2QgbWVhc3VyZSBvZiBvdXIgZGF0YSBhbmQgY29tcGFyaW5nIG1lYW5zIGFjcm9zcyBncm91cHMgY2FuIGhlbHAgdXMgZGV0ZXJtaW5lIHRoZSB3YXkgYSBnaXZlbiB2YXJpYWJsZSB2YXJpZXMgZGVwZW5kaW5nIG9uIHNvbWUgY29uZGl0aW9ucyAtIGZvciBleGFtcGxlLCB3aGV0aGVyIHRoZSBhdmVyYWdlIEdEUCBncm93dGggb3ZlciBhIGNlcnRhaW4gcGVyaW9kIGRpZmZlcnMgYmV0d2VlbiB0d28gY291bnRyaWVzIG9yIHdoZXRoZXIgYXZlcmFnZSBlYXJuaW5ncyBhcmUgZGlmZmVyZW50IGRlcGVuZGluZyBvbiBwZW9wbGUncyBnZW5kZXIgYW5kIHJhY2UuIEhvd2V2ZXIsIGl0IG1heSBzZWVtIGRpZmZpY3VsdCB0byBkZXRlcm1pbmUgd2hldGhlciBzdWNoIGRpZmZlcmVuY2UgaXMgcmVhbGx5IG1lYW5pbmdmdWwsIGVzcGVjaWFsbHkgdGhhdCB3ZSB1c3VhbGx5IGRvbid0IGhhdmUgdGhlIGVudGlyZSBwb3B1bGF0aW9uIHdlIGFyZSBleGFtaW5pbmcgYXQgaGFuZCwgYnV0IG9ubHkgYSAocHJlc3N1bWFibHkgcmFuZG9tKSBzYW1wbGUgb2YgdGhlIHBvcHVsYXRpb24uIEZvciBleGFtcGxlLCBzdXBwb3NlIHdlIHJhbmRvbWx5IGNob29zZSA1IG1lbiBhbmQgNSB3b21lbiBhbmQgY29tcHV0ZSB0aGVpciBhdmVyYWdlIGVhcm5pbmdzLiBXZSBvYnRhaW4gMzUwMDAgcG91bmRzIGZvciBtZW4gYW5kIDQwMDAwIHBvdW5kcyBmb3Igd29tZW4uIFNob3VsZCB3ZSBjbGFpbSB0aGF0IG1lbiBfb24gYXZlcmFnZV8gZWFybiBsZXNzIHRoYW4gd29tZW4sIGJhc2VkIG9uIHRoaXMgZGF0YT8gV2hhdCBkaWZmZXJlbmNlIGlzIHN1ZmZpY2llbnQgdG8gY2xhaW0gdGhhdCBzdWNoIGRpZmZlcmVuY2UgZXhpc3RzIGluIHRoZSBvdmVyYWxsIHBvcHVsYXRpb24/IFN1Y2ggcXVlc3Rpb25zIGFyZSBhbnN3ZXJlZCBieSBzdGF0aXN0aWNhbCBpbmZlcmVuY2UuCiMnIAojJyAKIycgCiMnIAojJyAjIyMjIElzIG1lYW4gZGlmZmVyZW50IGZyb20gMD8gLSBvbmUgc2FtcGxlIHQtdGVzdCAKCiMnIAojJyBXZSdsbCBzdGFydCB3aXRoIGEgc2ltcGxlIGNhc2UuIFRoZSBkYXRhIGluIHRoZSBmaWxlIGB3YWdlcy5jc3ZgIGNvbnRhaW5zIHRoZSBpbmZvcm1hdGlvbiBvbiB0aGUgYXZlcmFnZSBzYWxhcnkgb2YgYSBzYW1wbGUgb2YgMTAwIGluZGl2aWR1YWxzIGluIDIwMDUgYW5kMiAyMDEwLiBXZSBhcmUgaW50ZXJlc3RlZCBpbiB3aGV0aGVyIHRoZXJlIHdhcyBhbnkgZ3Jvd3RoIGluIHRoZWlyIHNhbGFyeS4gRmlyc3QsIHdlIHJlYWQgdGhlIGRhdGEgYW5kIG9idGFpbiB0aGUgcGVyY2VudGVnZSBncm93dGg6CiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0Kd2FnZXMgPC0gcmVhZF9jc3YoJ2RhdGEvd2FnZXMuY3N2JykKd2FnZXMgPC0gd2FnZXMgJT4lIG11dGF0ZShjaGFuZ2UgPSAoc2FsYXJ5MjAxMCAtIHNhbGFyeTIwMDUpL3NhbGFyeTIwMDUpCgojJyAKIycgV2UgY2FuIHRoZW4gZXhhbWluZSB0aGUgYXZlcmFnZToKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQptZWFuKHdhZ2VzJGNoYW5nZSkKCiMnIAojJyBXZSBzZWUgdGhhdCB0aGUgbWVhbiBpcyBhcm91bmQgYHIgcm91bmQobWVhbih3YWdlcyRjaGFuZ2UpLCAzKWAuIElzIHRoYXQgc3VmZmljaWVudCB0byBjbGFpbSB0aGF0IHRoZSBhdmVyYWdlIHNhbGFyeSBvZiBlbXBsb3llZXMgaW4gb3VyIHRhcmdldCBwb3B1bGF0aW9uIGhhcyBncm93biBiZXR3ZWVuIDIwMDUgYW5kIDIwMTA/IFRvIGNoZWNrIHRoYXQsIHdlIGNhbiBwZXJmb3JtIHRoZSBzby1jYWxsZWQgdC10ZXN0LCB3aGljaCB0YWtlcyBpbnRvIGFjY291bnQgdGhlIHZhcmlhYmlsaXR5IG9mIG91ciBzYW1wbGUgYW5kIGl0cyBzaXplLCBhbmQgZGV0ZXJtaW5lcyB0aGUgX3Byb2JhYmlsaXR5IHRoYXQgd2UgZmFsc2VseSByZWplY3QgdGhlIGh5cG90aGVzaXMgdGhhdCB0aGUgbWVhbiBpcyBlcXVhbCB0byAwXyAtIHRoaXMgcHJvYmFiaWxpdHkgaXMgdGhlIHAtdmFsdWUuICoqTm90ZSB0aGF0IHAtdmFsdWUgaXMgbm90IHRoZSBwcm9iYWJpbGl0eSBvZiB0aGUgbWVhbiBiZWluZyBlcXVhbCB0byAwKiouIEZvciB0aG9zZSBmYW1pbGlhciB3aXRoIGZyZXF1ZW50aXN0IHN0YXRpc3RpY2FsIGluZmVyZW5jZSwgcmVjYWxsIHRoYXQgdGhlIF9wLXZhbHVlIGlzIHRoZSBwcm9iYWJpbGl0eSBvZiBvYnRhaW5pbmcgYSBzdGF0aXN0aWMgbW9yZSBleHRyZW1lIHRoYW4gdGhlIHNhbXBsZSBzdGF0aXN0aWMgaW4gdW5kZXIgdGhlIGFzc3VtcHRpb24gdGhhdCB0aGUgbnVsbCBoeXBvdGhlc2lzIGlzIHRydWUgaW4gcmVwZWF0ZWQgc2FtcGxpbmdfLiAKIycgCiMnIFRvIGNvbmR1Y3QgdGhlIHQtdGVzdCwgd2UgY2FuIHNpbXBseSB1c2UgdGhlIGB0LnRlc3RgIGZ1bmN0aW9uOgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnQudGVzdCh3YWdlcyRjaGFuZ2UpCgojJyAKIycgVGhlIHAtdmFsdWUgaXMgdXN1YWxseSB0aGUgbW9zdCBpbXBvcnRhbnQgcGFydCBvZiB0aGUgb3V0cHV0IHByb2R1Y2VkIGJ5IHRoZSBmdW5jdGlvbi4gSW4gdGhpcyBjYXNlLCBpdCBpcyBgciByb3VuZCh0LnRlc3Qod2FnZXMkY2hhbmdlKSRwLnZhbHVlLCA0KWAuIFRoaXMgbWVhbnMsIHRoYXQgdGhlIG1lYW4gaXMgX3NpZ25pZmljYW50bHkgZGlmZmVyZW50IGZyb20gMCBhdCB0aGUgOTUlIGNvbmZpZGVuY2UgbGV2ZWxfLiBDb25maWRlbmNlIGxldmVsIGlzIGEgd2F5IGluIHdoaWNoIHdlIGNhbiBxdWFudGlmeSBvdXIgY2VydGFpbnR5IGluIHRoZSBkaWZmZXJlbmNlIG9mIHRoZSBwYXJhbWV0ZXIgZnJvbSBzb21lIGh5cG90aGVzaXplZCB2YWx1ZSAoaW4gdGhpcyBjYXNlIDApLiBUaGUgOTUlIGNvbmZpZGVuY2UgbGV2ZWwgaXMgb25lIG9mIHRoZSBtb3N0IGNvbW1vbmx5IHVzZWQgdGhyZXNob2xkcyBpbiB0aGUgc29jaWFsIHNjaWVuY2VzLiBHZW5lcmFsbHksIHRoZSByZWNpcGUgZm9yIGNoZWNraW5nIGlmIGEgcC12YWx1ZSBzYXRpc2ZpZXMgYSBjZXJhaW4gY29uZmlkZW5jZSBsZXZlbCBpcyB0byBzdWJ0cmFjdCBvdXIgY29uZmlkZW5jZSBsZXZlbCBmcm9tIDEgYW5kIGNvbXBhcmUgaXQgd2l0aCB0aGUgcC12YWx1ZS4gSWYgdGhlIHAtdmFsdWUgaXMgc21hbGxlciB0aGFuIHRoZSB2YWx1ZSBvYnRhaW5lZCBpbiB0aGUgc3VidHJhY3Rpb24sIHRoZSBzaWduaWZpY2FuY2Ugb2YgdGhlIHRlc3Qgc3RhdGlzdGljIHNhdGlzZmllcyBpdC4gU28sIGluIG91ciBleGFtcGxlLCBmb3IgOTUlIGNvbmZpZGVuY2UgJDEgLSAwLjk1ID0gMC4wNSQgYW5kIGByIHJvdW5kKHQudGVzdCh3YWdlcyRjaGFuZ2UpJHAudmFsdWUsIDQpYCAkIDwgMC4wNSQsIHRodXMgd2UgY2FuIHNheSB0aGUgdGhlIG1lYW4gaXMgc2lnbmlmaWNhbnRseSBkaWZmZXJlbnQgZnJvbSAwIGF0IHRoZSA5NSUgY29uZmlkZW5jZSBsZXZlbC4KIycgCiMnIEFub3RoZXIgaW1wb3J0YW50IGluZm9ybWF0aW9uIHJlcG9ydGVkIGJ5IHRoZSBvdXRwdXQgb2YgdGhlIHQtdGVzdCBpcyB0aGUgY29uZmlkZW5jZSBpbnRlcnZhbC4gVGhlIGNvbmZpZGVuY2UgaW50ZXJ2YWwgcHJvdmlkZXMgdXMgd2l0aCBhIHdheSBvZiBxdWFudGlmeWluZyBvdXIgdW5jZXJ0YWludHkgYWJvdXQgdGhlIHVuZGVybHlpbmcgdmFsdWUgb2YgYSBzdGF0aXN0aWMgKGluIG91ciBjYXNlIHRoZSBtZWFuKSwgZ2l2ZW4gdGhlIHZhcmlhYmlsaXR5IG9mIG91ciBzYW1wbGUgKG1lYXN1cmVkIGJ5IHRoZSBzdGFuZGFyZCBkZXZpYXRpb24sIGFzIGRlc2NyaWJlZCBpbiBbY2hhcHRlciA0XSgjdmFyaWFuY2UtYW5kLXN0YW5kYXJkLWRldmlhdGlvbikuIFN1cHBvc2Ugd2UgdGFrZSAxMDAgcmFuZG9tIHNhbXBsZXMgZnJvbSBvdXIgb3JpZ2luYWwgcG9wdWxhdGlvbi4gVGhlIDk1JSBjb25maWRlbmNlIGludGVydmFsIGRlc2NyaWJlcyB0aGUgX3JhbmdlIGludG8gd2hpY2ggd2UgZXhlcGN0IHRoZSBtZWFuIG9mIDk1IG91dCBvZiAxMDAgc2FtcGxlc18gdG8gZmFsbC4gSW4gY2FzZSBvZiB0aGUgbWVhbiwgaXQgaXMgZ2l2ZW4gYnkgJFxiYXJ7XG11fVxwbSAxLjk2U0UoXGJhcntcbXV9KSQsIHdoZXJlICRcYmFyXG11JCBpcyB0aGUgc2FtcGxlIG1lYW4gd2Ugb2J0YWluZWQgYW5kICRTRShcYmFye1xtdX0pJCBpcyB0aGUgX3N0YW5kYXJkIGVycm9yIG9mIHRoZSBtZWFuXyBnaXZlbiBieSAkXHNpZ21hL1xzcXJ0e259JCwgd2hpY2ggaXMgdGhlIHNhbXBsZSBzdGFuZGFyZCBkZXZpYXRpb24gZGl2aWRlZCBieSB0aGUgc3F1YXJlIHJvb3Qgb2YgdGhlIG51bWJlciBvZiB0aGUgb2JzZXJ2YXRpb25zIGluIG91ciBzYW1wbGUuIE5vdGUgdGhhdCA5NSUgY29uZmlkZW5jZSBpbnRlcnZhbCBub3QgaW5jbHVkaW5nIDAgaXMgZXF1aXZhbGVudCB3aXRoIHRoZSBzdGF0aXN0aWMgYmVpbmcgc2lnbmlmaWNhbnRseSBkaWZmZXJlbnQgZnJvbSAwIGF0IHRoZSA5NSUgbGV2ZWwuIAojJyAKIycgCiMnICMjIyMgRXJyb3IgYmFycyAKCiMnIAojJyBUaGUgY29uZmlkZW5jZSBpbnRlcnZhbCBhcm91bmQgdGhlIG1lYW4gY2FuIGJlIGRpc3BsYXllZCBpbiBgZ2dwbG90YCB1c2luZyB0aGUgYGdlb21fZXJyb3JiYXJgIGZ1bmN0aW9uLiBUaGUgc28tY2FsbGVkIGVycm9yYmFyIGlzIGEgZ29vZCB3YXkgdG8gZGlzcGxheSB0aGUgcmFuZ2Ugb2YgdGhlIGxpa2VseSB2YWx1ZXMgYXJvdW5kIHRoZSBtZWFuLgojJyAKIycgSW4gY2FzZSBvZiBvdXIgZGF0YSwgdG8gcGxvdCB0aGUgZXJyb3JiYXJzLCB3ZSBmaXJzdCBjb21wdXRlIHRoZSBzdGFuZGFyZCBlcnJvciBvZiB0aGUgbWVhbiB1c2luZyB0aGUgZm9ybXVsYSBkaXNjdXNzZWQgYWJvdmUuCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0Kd2FnZXNfc3VtbWFyeSA8LSB3YWdlcyAlPiUKICBzdW1tYXJpc2UoY2hhbmdlX21lYW4gPSBtZWFuKGNoYW5nZSksIAogICAgICAgICAgICBjaGFuZ2VfZXJyID0gc2QoY2hhbmdlKS9zcXJ0KG4oKSkpCgojJyAKIycgV2UgdGhhbiBjcmVhdGUgYSBiYXIgcGxvdCBhbmQgYWRkIHRoZSBgZ2VvbV9lcnJvcmJhcmAgb24gdG9wIG9mIGl0LiBOb3RlIHRoYXQgaW4gdGhpcyBjYXNlIHdlIHNwZWNpZnkgdGhlIHggYWVzdGhldGljIGFzIGEgY2hyYXJhY3RlciBgJ1dhZ2UgY2hhbmdlJ2AuIFRoaXMgaXMgYmVjYXVzZSBpdCBpcyB1bnVzdWFsIHRvIHBsb3QganVzdCBvbmUgYmFyIGluIHRoZSBwbG90LCBhbmQgYGdlb21fY29sYCBhbmQgYGdlb21fZXJyb3JiYXJgIHJlcXVpcmUgc29tZSB4IGFlc3RoZXRpYyB0byBiZSBwYXNzZWQuCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZ2dwbG90KHdhZ2VzX3N1bW1hcnksIGFlcyh4ID0gJ1dhZ2UgY2hhbmdlJywgeSA9IGNoYW5nZV9tZWFuKSkgKwogIGdlb21fY29sKHdpZHRoID0gMC4yKSArIAogIGdlb21fZXJyb3JiYXIoYWVzKHltaW4gPSBjaGFuZ2VfbWVhbiAtIDEuOTYgKiBjaGFuZ2VfZXJyLCAKICAgICAgICAgICAgICAgIHltYXggPSBjaGFuZ2VfbWVhbiArIDEuOTYgKiBjaGFuZ2VfZXJyKSwgd2lkdGggPSAwLjEpICsgCiAgbGFicyh4ID0gJycsIHkgPSAnTWVhbiBjaGFuZ2UgaW4gd2FnZScpCgojJyAKIycgCiMnIAojJyAjIyMjIEFyZSB0d28gbWVhbnMgZGlmZmVyZW50PyAtIHR3byBzYW1wbGUgdC10ZXN0IAoKIycgCiMnIEJ5IHNpbXBsZSBleHRlbnNpb24sIHdlIGNhbiBhcHBseSB0aGUgbG9naWMgb2YgdGhlIHQtdGVzdCB0byB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHR3byBtZWFucyB3aXRoaW4gb25lIHNhbXBsZSAtIHRoaXMgaXMgc28gY2FsbGVkIGEgX3R3byBzYW1wbGUgdC10ZXN0XyBhbmQgaXMgaW1wbGVtZW50ZWQgaW4gUiBieSB0aGUgc2FtZSBmdW5jdGlvbi4gVGhlIGdyb3VwaW5nIHZhcmlhYmxlIGlzIHNwZWNpZmllZCB1c2luZyB0aGUgX2Zvcm11bGEgbm90YXRpb25fLCB3aGljaCB3ZSB3aWxsIGVuY291bnRlciBpbiB0aGUgbmV4dCBjaGFwdGVyIHdoZW4gZGVhbGluZyB3aXRoIGxpbmVhciByZWdyZXNzaW9uLiBUbyB0ZXN0IHRoZSBkaWZmZXJlbmNlIGluIG1lYW4gb2YgdmFyaWFibGUgeCBiZXR3ZWVuIGdyb3VwcyBkZWZpbmVkIGJ5IHksIHdlIHNwZWNpZnkgYHQudGVzdCh4IH4geSlgLiBTbywgY29taW5nIGJhY2sgdG8gb3VyIGV4YW1wbGUsIHdlIGNhbiBleGFtaW5lIHdoZXRoZXIgdGhlIGF2ZXJhZ2Ugc2FsYXJ5IGluIDIwMDUgaXMgZGlmZmVyZW50IGZvciBtYWxlIGFuZCBmZW1hbGUgZW1wbG95ZWVzLgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnQudGVzdChzYWxhcnkyMDA1IH4gZ2VuZGVyLCBkYXRhID0gd2FnZXMpCgojJyAKIycgVGhlIHJlc3VsdCBzZWVtIHRvIGJlIHNpZ25pZmljYW50LCBtZWFuaW5nIHRoYXQgd2UgaGF2ZSBzdGF0aXN0aWNhbCBldmlkZW5jZSB0aGF0IHRoZXJlIGlzIGEgcmVhbCBkaWZmZXJlbmNlIGJldHdlZW4gbWFsZSBhbmQgZmVtYWxlIGVhcm5pbmdzIGluIHRoZSB1bmRlcmx5aW5nIHBvcHVsYXRpb25zIChvciBtb3JlIHByZWNpc2VseSwgdGhhdCBpZiB3ZSB0b29rIDEwMCBzYW1wbGVzIGZyb20gdGhlIHVuZGVybHlpbmcgcG9wdWxhdGlvbiwgbW9yZSB0aGFuIDk1IG9mIHRoZW0gd291bGQgc2hvdyBhIG5vbi16ZXJvIGRpZmZlcmVuY2UpLiBCYXNlZCBvbiBvdXIgc2FtcGxlLCBob3dldmVyLCB0aGUgbWFnbml0dWRlIG9mIHRoYXQgZGlmZmVyZW5jZSBpcyBxdWl0ZSBkaWZmaWN1bHQgdG8gZGV0ZXJtaW5lLCBhcyB3ZSBleHBlY3QgaXQgdG8gcmFuZ2UgYmV0d2VlbiAxOTAwMCBhbmQgMjAwMCBkb2xsYXJzLiBXZSBjYW4gdmlzdWFsaXplIHRoaXMgYWdhaW4gdXNpbmcgYGdlb21fZXJyb3JiYXJgOgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCndhZ2VzICU+JQogIGdyb3VwX2J5KGdlbmRlcikgJT4lCiAgc3VtbWFyaXNlKHdhZ2VfbWVhbiA9IG1lYW4oc2FsYXJ5MjAwNSksIAogICAgICAgICAgICB3YWdlX2VyciA9IHNkKHNhbGFyeTIwMDUpL3NxcnQobigpKSkgJT4lCiAgZ2dwbG90KGFlcyh4ID0gZ2VuZGVyLCB5ID0gd2FnZV9tZWFuKSkgKyAKICBnZW9tX2NvbCh3aWR0aCA9IDAuMykgKyAKICBnZW9tX2Vycm9yYmFyKGFlcyh5bWluID0gd2FnZV9tZWFuIC0gd2FnZV9lcnIsIAogICAgICAgICAgICAgICAgICAgIHltYXggPSB3YWdlX21lYW4gKyB3YWdlX2VyciksIHdpZHRoID0gMC4yKSArCiAgeWxhYignQXZlcmFnZSBzYWxhcnkgaW4gMjAwNScpCgojJyAKIycgCiMnICMjIyBSZWxhdGlvbnNoaXAgYmV0d2VlbiB0d28gY29udGludW91cyB2YXJpYWJsZXMgCgojJyAKIycgIyMjIyBDb3ZhcmlhbmNlIAoKIycgCiMnIFNvIGZhciB3ZSBoYXZlIGRpc2N1c3NlZCBzb21lIHRlY2huaXF1ZXMgZm9yIGxvb2tpbmcgYXQgc3RhdGlzdGljYWwgcmVsYXRpb25zaGlwcyBiZXR3ZWVuIG9uZSBjb250aW51b3VzIHZhcmlhYmxlIChzdWNoIGFzIHdhZ2UpIGFuZCBvbmUgY2F0ZWdvcmljIHZhcmlhYmxlIChzdWNoIGFzIHNhbGFyeSkuIFVuZGVyIG1hbnkgY2lyY3Vtc3RhbmNlcywgaG93ZXZlciwgd2Ugd291bGQgYmUgaW50ZXJlc3RlZCBpbiBtZWFzdXJpbmcgdGhlIGFzc29jaWF0aW9uIGJldHdlZW4gdHdvIGNvbnRpbnVvdXMgdmFyaWFibGVzLiBJbiB0aGlzIHBhcnQgd2Ugd2lsbCBjb25zaWRlciBkYXRhIG9uIGEgc2FtcGxlIG9mIHN0dWRlbnRzIHdpdGggZnJlZSB2YXJpYWJsZXM6IGF2ZXJhZ2Ugd2Vla2x5IHRpbWUgc3BlbnQgc3R1ZHlpbmcsIGRheXMgYSBzdHVkZW50IGhhcyBiZWVuIGhvbWUgaWxsIGFuZCBhY2hpZXZlZCBHUEEuCiMnIAojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCnNjb3JlcyA8LSByZWFkX2NzdignZGF0YS9zY29yZXMuY3N2JykKCiMnIAojJyBXZSBjYW4gZXhhbWluZSBwYWlyd2lzZSByZWxhdGlvbnNoaXBzIGJldHdlZW4gdGhlIHZhcmlhYmxlcyB1c2luZyB0aGUgYHBhaXJzKClgIGZ1bmN0aW9uLCB3aGljaCBpcyBhIHVzZWZ1bCB0b29sIHdoZW4gYW5hbHl6aW5nIGRhdGFzZXRzIHdpdGggbXVsdGlwbGUgY29udGludW91cyB2YXJpYWJsZXMuCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KcGFpcnMoc2NvcmVzLHVwcGVyLnBhbmVsID0gTlVMTCkKCiMnIAojJyAKIycgTGV0J3Mgc3RhcnQgYnkgaW50ZXJwcmV0aW5nIHRoaXMgcGxvdC4gVGhlIHJlY3RhbmdsZXMgd2l0aCB2YXJpYWJsZSB0ZWxsIGFzIHRoZSBuYW1lIG9mIHRoZSBheGlzLiBGb3IgZXhhbXBsZSwgdGhlIHBsb3QgaW4gdGhlIGxvd2VyIGxlZnQgY29ybmVyIHNob3dzIHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiB0aGUgR1BBICh4IGF4aXMpIGFuZCBzdHVkeSB0aW1lICh5IGF4aXMpLiBXZSBjYW4gc2VlIHRoYXQgc3R1ZGVudHMgaW4gb3VyIHNhbXBsZSB3aG8gc3BlbnQgbW9yZSB0aW1lIHN0dWR5aW5nIHNlZW0gdG8gaGF2ZSBoYWQgaGlnaGVyIGdyYWRlcyAtIHBvaW50cyBoaWdoZXIgb24gb25lIGF4aXMgdGVuZCB0byBhbHNvIGJlIGhpZ2hlciBvbiB0aGUgb3RoZXIuIE9uIHRoZSBvdGhlciBoYW5kLCBzdHVkZW50cyB3aG8gd2VyZSBpbGwgbW9yZSBoYWQsIG9uIGF2ZXJhZ2UsIGFjaGlldmVkIGxvd2VyIGdyYWRlcy4gVGhlcmUgc2VlbXMgdG8gYmUgbm8gcmVsYXRpb25zaGlwIGJldHdlZW4gYmVpbmcgaWxsIGFuZCB0aW1lIHNwZW50IHN0dWR5aW5nLiAKIycgCiMnIEluIHN0YXRpc3RpY2FsIHRlcm1zLCB0aGlzIHJlbGF0aW9uc2hpcCBjYW4gYmUgbWVhc3VyZWQgd2l0aCBfY292YXJpYW5jZV8gYmV0d2VlbiB0aGVzZSB0d28gdmFyaWFibGVzLiBSZWNhbGwgb3VyIGRpc2N1c3Npb24gb2YgX3ZhcmlhbmNlXyBpbiB0aGUgW2V4cGxvcmF0b3J5IGFuYWx5c2lzIGNoYXB0ZXJdKCNleHBsb3JhdG9yeSkuIFdlIGNhbGN1bGF0ZWQgaXQgZm9yIHZlY3RvciB4IHVzaW5nIGBzdW0oKHggLSBtZWFuKHgpKV4yKS8obGVuZ3RoKHgpIC0gMSlgLCBvciB0aGUgYHZhcih4KWAgZnVuY3Rpb24gZm9yIHNob3J0LiBDb3ZhcmlhbmNlIGlzIGVzc2VudGlhbGx5IHRoZSBzYW1lLCBidXQgY2FsY3VsYXRlZCBmb3IgdHdvIHZhcmlhYmxlcyBpbnN0ZWFkIG9mIG9uZSwgdXNpbmcgYHN1bSgoeCAtIG1lYW4oeCkpICogbWVhbigoeSAtIG1lYW4oeSkpKSkvKGxlbmd0aCh4KSAtIDEpYCBvciB0aGUgYGNvdmAgZnVuY3Rpb24gZm9yIHNob3J0LiBZb3UgY2FuIHNlZSB0aGF0IGRlbW9uc3RyYXRlZCBiZWxvdzoKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpjb3ZfZnVuIDwtIGZ1bmN0aW9uKHgsIHkpIHN1bSgoeCAtIG1lYW4oeCkpICogKHkgLSBtZWFuKHkpKSkvKGxlbmd0aCh4KSAtIDEpCmNvdl9mdW4oc2NvcmVzJGdwYSwgc2NvcmVzJHN0dWR5X3RpbWUpCmNvdihzY29yZXMkZ3BhLCBzY29yZXMkc3R1ZHlfdGltZSkKCiMnIAojJyBUaGUgX3ZhcmlhbmNlXyBpcyBhY3R1YWxseSBub3RoaW5nIGVsc2UgYnV0IGNvdmFyaWFuY2Ugb2YgYSB2YXJpYWJsZSB3aXRoIGl0c2VsZiEKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpjb3Yoc2NvcmVzJGdwYSwgc2NvcmVzJGdwYSkgPT0gdmFyKHNjb3JlcyRncGEpCgojJyAKIycgCiMnIEVzc2VudGlhbGx5IGNvdmFyaWFuY2UgbWVhc3VyZXMgdGhlIGF2ZXJhZ2Ugb2YgZWxlbWVudC13aXNlIHByb2R1Y3Qgb2YgZWFjaCBvYnNlcnZhdGlvbnMgZGV2aWF0aW9uIGZyb20gaXRzIG1lYW4gZm9yIHR3byB2YXJpYWJsZXMuIFRoaXMgbWF5IHNvdW5kIGNvbXBsaWNhdGVkLCBidXQgYnJlYWtpbmcgaXQgZG93biBtYWtlcyBpdCBzaW1wbGUuIEluIG91ciB0d28gdmFyaWFibGVzLCBgZ3BhYCBhbmQgYGRheXNfaWxsYCwgcGVvcGxlIHdobyBoYXZlIGdyYWRlcyBoaWdoZXIgdGhhbiB0aGUgYXZlcmFnZSBncmFkZSBhbHNvIHRlbmQgdG8gc3R1ZHkgbG9uZ2VyIHRoYW4gdGhlIGF2ZXJhZ2Ugc3R1ZHkgdGltZS4gU28sIGlmIGZvciBhbGwgc3R1ZGVudHMgd2Ugc3VidHJhY3QgdGhlIG1lYW4gZ3JhZGUgYW5kIG1lYW4gc3R1ZHkgdGltZSBmcm9tIHRoZWlyIHJlc3BlY3RpdmUgZ3JhZGVzIGFuZCBzdHVkeSB0aW1lcywgdGhlIGF2ZXJhZ2Ugb2YgdGhhdCB3aWxsIGJlIHBvc2l0aXZlLgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvdihzY29yZXMkZ3BhLCBzY29yZXMkc3R1ZHlfdGltZSkKCiMnIAojJyAKIycgSWYsIG9uIHRoZSBvdGhlciBoYW5kIHBlb3BsZSB3aG8gaGF2ZSBoaWdoZXIgZ3JhZGVzIHRoYW4gYXZlcmFnZSB0ZW5kIHRvIGhhdmUgbG93ZXIgdGltZSBzcGVudCBpbGwgYXQgaG9tZSB0aGFuIGF2ZXJhZ2UsIHRoZSBhdmVyYWdlIG9mIHRoZSBwcm9kdWN0cyBvZiB0aGVzZSBkZW1lYW5lZCAoaS5lLiB3aXRoIHRoZSBtZWFuIHN1YnRyYWN0ZWQgZnJvbSBlYWNoKSB2YXJpYWJsZXMgd2lsbCBiZSBuZWdhdGl2ZSwgc2luY2UgdGhlIG1ham9yaXR5IG9mIHRoZSBwcm9kdWN0cyB3aWxsIGJlIG5lZ2F0aXZlLgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvdihzY29yZXMkZ3BhLCBzY29yZXMkZGF5c19pbGwpCgojJyAKIycgCiMnIEZpbmFsbHksIGlmIHRoZXJlJ3Mgbm8gcmVsYXRpb25zaGlwIGJldHdlZW4gdHdvIHZhcmlhYmxlcyAtIGZvciBleGFtcGxlIGJldHdlZW4gYGRheXNfaWxsYCBhbmQgYHN0dWR5X3RpbWVgLCB3ZSBleHBlY3QgdGhlIGF2ZXJhZ2Ugb2YgdGhlIHByb2R1Y3RzIG9mIHRoZSBkZW1lYW5lZCB2YXJpYWJsZXMgdG8gYmUgY2xvc2UgdG8gMCwgc2luY2UgYXJvdW5kIHRoZSBzYW1lIG51bWJlciB3aWxsIGJlIHBvc2l0aXZlIGFuZCBuZWdhdGl2ZS4KIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpjb3Yoc2NvcmVzJHN0dWR5X3RpbWUsIHNjb3JlcyRkYXlzX2lsbCkKCiMnIAojJyAKIycgVGhlIGxhc3QgZXhhbXBsZSBzZWVtcyB0byBiZSBpbmNvcnJlY3Q/IEhvdyBpcyB0aGF0IHBvc3NpYmxlIHRoYXQgdGhlIGNvdmFyaWFuY2UgYmV0d2VlbiBgc3R1ZHlfdGltZWAgYW5kIGBkYXlzX2lsbGAgaXMgbGFyZ2VyIHRoYW4gdGhlIGNvdmFyaWFuY2UgYmV0d2VlbiBgc3R1ZHlfdGltZWAgYW5kIGBncGFgLCBldmVuIHRob3VnaCB0aGUgcGxvdCBzdWdnZXN0cyBhIG11Y2ggc3Ryb25nZXIgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlIGxhdHRlcj8gV2Ugd2lsbCBleHBsb3JlIHRoaXMgaW4gdGhlIG5leHQgc2VjdGlvbiBvbiBjb3JyZWxhdGlvbi4KIycgCiMnIAojJyAjIyMjIENvcnJlbGF0aW9uIAoKIycgCiMnIFRoZSBkb3duc2lkZSBvZiBjb3ZhcmlhbmNlIGFzIGEgbWVhc3VyZSBvZiByZWxhdGlvbnNoaXAgaXMgdGhhdCBpdCBpcyBjb21wbGV0ZWx5IGRlcGVuZGVudCBvbiB0aGUgdW5pdHMgb2YgdGhlIHR3byB2YXJpYWJsZXMgbWVhc3VyZXMsIG9yLCBtb3JlIHBlcmNpc2VseSwgdGhlIHJhbmdlIG9mIHZhbHVlcyB0aGV5IHRha2UuIElmIHdlIHRha2UgY292YXJpYW5jZSBhdmVyYWdlIHRpbWUgc3BlbnQgc3R1ZHlpbmcgYW5kIEdQQSBhbmQgY29tcGFyZSBpdCB3aXRoIHRoZSBjb3ZhcmlhbmNlIGJldHdlZW4gYXZlcmFnZSB0aW1lIHNwZW50IHN0dWR5aW5nIGFuZCB0aW1lIGlsbCwgdGhlIGxhdHRlciB3aWxsIGJlIGdyZWF0ZXIsIHNpbXBseSBiZWNhdXNlIHRpbWUgaXMgZXhwcmVzc2VkIGluIGhvdXJzIGFuZCBkYXlzLCB3aXRoIHZhbHVlcyByYW5naW5nIGJldHdlZW4gMC44IGFuZCAxNS4xIGFuZCAxIGFuZCAxMTAgcmVzcGVjdGl2ZWx5LCB3aGlsZSBHUEEgcmFuZ2VzIGJldHdlZW4gMSBhbmQgNToKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQp2YXBwbHkoc2NvcmVzLCByYW5nZSwgbnVtZXJpYygyKSkKCiMnIAojJyBTbywgdGhlIHZhbHVlcyB3ZSBnZXQgYnkgbXVsdGlwbHlpbmcgYHN0dWR5X3RpbWVgIGFuZCBgZGF5c19pbGxgIHdpbGwgdGVuZCB0byBiZSBoaWdoZXIgaW4gZ2VuZXJhbC4gVGhpcyBtYWtlcyB0aGUgdXNlIG9mIGNvdmFyaWFuY2UgcHJvYmxlbWF0aWMgaW4gZXN0aW1hdGluZyB0aGUgb2JqZWN0aXZlIHN0cmVuZ3RoIG9mIHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiB0d28gdmFyaWFibGVzLiAKIycgCiMnIEluIG9yZGVyIHRvIGF2b2lkIGl0LCB3ZSB1c2UgX2NvcnJlbGF0aW9uXyBpbnN0ZWFkLiBDb3JyZWxhdGlvbiBpcyBzaW1wbHkgY292YXJpYW5jZSwgYnV0IGRpdmlkZWQgYnkgdGhlIHByb2R1Y3Qgb2YgdGhlIHN0YW5kYXJkIGRldmlhdGlvbiBvZiBlYWNoIG9mIHRoZSB2YXJpYWJsZXMuIFdpdGhvdXQgZ29pbmcgaW50byB0aGUgbWF0aGVtYXRpY2FsIGRldGFpbHMsIHN1ZmZpY2UgdG8gc2F5IHRoYXQgaXQgX3N0YW5kYXJkaXplc18gdGhlIGNvdmFyaWFuY2UsIHNvIHRoYXQgaXQgcmFuZ2VzIGJldHdlZW4gLTEgYW5kIDEsIC0xIG1lYW5pbmcgcGVyZmVjdCBuZWdhdGl2ZSByZWxhdGlvbnNoaXAgKGkuZS4gd2hlbiBvbmUgdmFyaWFibGUgaW5jcmVhc2VzLCB0aGUgb3RoZXIgYWx3YXlzIGRlY3JlYXNlcykgYW5kIDEgbWVhbmluZyBwZXJmZWN0IHBvc2l0aXZlIHJlbGF0aW9uc2hpcCAod2hlbiBvbmUgdmFyaWFibGUgaW5jcmVhc2VzLCB0aGUgb3RoZXIgZGVjcmVhc2VzKS4gMCBtZWFucyB0aGF0IHRoZXJlJ3Mgbm8gcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlc2UgdmFyaWFibGVzLgojJyAKIycgV2UgY2FuIHNlZSB0aGF0IGFnYWluIHVzaW5nIFIgY29kZS4gYGNvcl9mdW5gIGlzIGNyZWF0ZWQgZm9yIGRlbW9uc3RyYXRpb24gcHVycG9zZXMsIGJ1dCB0aGUgdXN1YWwgZnVuY3Rpb24gdXNlZCBpbiBSIHRvIG9idGFpbiBjb3JyZWxhdGlvbiBpcyBzaW1wbHkgYGNvcmAuCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KY29yX2Z1biA8LSBmdW5jdGlvbih4LCB5KSBjb3ZfZnVuKHgsIHkpLyhzZCh4KSAqIHNkKHkpKQpjb3JfZnVuKHNjb3JlcyRncGEsIHNjb3JlcyRzdHVkeV90aW1lKQpjb3Ioc2NvcmVzJGdwYSwgc2NvcmVzJHN0dWR5X3RpbWUpCgojJyAKIycgTm93IHdlIGNhbiBzZWUsIHRoYXQgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIGBzdHVkeV90aW1lYCBhbmQgYGRheXNfaWxsYCBpcyBpbmRlZWQgY2xvc2UgdG8gMDoKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpjb3Ioc2NvcmVzJHN0dWR5X3RpbWUsIHNjb3JlcyRkYXlzX2lsbCkKCiMnIAojJyBXZSBjYW4gYWxzbyB1c2UgYGNvcmAgb24gZW50aXJlIGRhdGEgZnJhbWUgdG8gb2J0YWluIHRoZSBzby1jYWxsZWQgY29ycmVsYXRpb24gbWF0cml4LCB3aGljaCBzaG93cyBwYWlyd2lzZSByZWxhdGlvbnNoaXBzIGJldHdlZW4gdHdvIHZhcmlhYmxlcwojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmNvcihzY29yZXMpCgojJyAKIycgTm90ZSB0aGF0IHRoZSBkaWFnb25hbCBpcyBhbHdheXMgMSwgaS5lLiB0aGUgY29ycmVsYXRpb24gb2YgYSB2YXJpYWJsZSB3aXRoIGl0c2VsZiBpcyBhbHdheXMgMS4KIycgCiMnIEZvciBvYnZpb3VzIHJlYXNvbnMsIHRoZSBmdW5jdGlvbiBhbHNvIHdvbid0IHdvcmsgaWYgYXBwbGllZCB0byBhIGRhdGEgZnJhbWUgY29udGFpbmluZyBhbnkgdGV4dCBkYXRhOgojJyAKIycgCiMnIAojJyAKIycgVG8gdmlzdWFsaXplIHBhcmlzd2lzZSByZWxhdGlvbnNoaXBzIGJldHdlZW4gdHdvIHZhcmlhYmxlcyB1c2luZyBhIHBsb3QgdGhhdCBpcyBhIGJpdCBtb3JlIHNvcGhpc3RpY2F0ZWQgdGhhdCB0aGUgb25lIHByb2R1Y2VkIGJ5IGBwYWlycygpYCB3ZSBjYW4gdXNlIHRoZSBgZ2dwYWlyc2AgZnVuY3Rpb24gZnJvbSB0aGUgYEdHYWxseWAgcGFja2FnZSwgd2hpY2ggcHJvZHVjZWQgYSBgZ2dwbG90YCBzdHlsZSBwbG90LCBwcmVzZW50aW5nIGNvcnJlbGF0aW9ucywgZGVuc2l0eSBwbG90cyBhbmQgc2NhdHRlciBwbG90cyBvZiBhbGwgdGhlIG51bWVyaWMgdmFyaWFibGVzIGluIG91ciBkYXRhc2V0OgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmxpYnJhcnkoR0dhbGx5KQpnZ3BhaXJzKHNjb3JlcykKCiMnIAojJyAKIycgIyMjIEZ1cnRoZXIgZGV0YWlscyAKCiMnIAojJyBIZXJlIHNvbWUgbW9yZSBkZXRhaWxzIG9uIGhvdyB0aGUgcC12YWx1ZSBpcyBjb21wdXRlZDoKIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQplcnIgPC0gc2Qod2FnZXMkY2hhbmdlKS9zcXJ0KG5yb3cod2FnZXMpKQp0c2NvcmUgPC0gbWVhbih3YWdlcyRjaGFuZ2UpL2VycgpkZiA8LSBsZW5ndGgod2FnZXMkY2hhbmdlKSAtIDEKcHQodHNjb3JlLCBkZiwgbG93ZXIudGFpbCA9IEZBTFNFKSAqIDIKdC50ZXN0KHdhZ2VzJGNoYW5nZSkKCiMnIAojJyAKIycgCiMnIAojJyAKIycgCiMnIAojJyAKAA==');
        if (!response.ok) throw new Error('Network response failed');
        const blob = await response.blob();
        const blobUrl = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = blobUrl;
        a.download = '08-statistical_association.R';
        a.style.display = 'none';
        document.body.appendChild(a);
        a.dispatchEvent(new MouseEvent('click'));
        document.body.removeChild(a);
        setTimeout(() =&gt; {
          window.URL.revokeObjectURL(blobUrl);
        }, 100);
        return false;
      } catch (error) {
        console.error('Download failed:', error);
        alert('Download failed. Please try again.');
      }
    }
    downloadFile(event);
  "><i class="fa fa-save"></i> Chapter script</button>
<button class="btn btn-default" onclick="
    async function downloadFile(event) {
      event.preventDefault();
      try {
        const response = await fetch('data:text/x-markdown;base64,LS0tCm91dHB1dDogaHRtbF9kb2N1bWVudAotLS0KIyAoUEFSVCkgREFUQSBBTkFMWVNJUyB7LX0KCiMgU3RhdGlzdGljYWwgSW5mZXJlbmNlIGFuZCBBc3NvY2lhdGlvbiB7I2Fzc29jaWF0aW9ufQoKCgoKIyMgQ29udGVudAoKYGBge3IgbWVzc2FnZSA9IEZBTFNFfQpsaWJyYXJ5KHRpZHl2ZXJzZSkKYGBgCgoKU28gZmFyLCB3ZSBoYXZlIGRlc2NyaWJlZCB2YXJpZXR5IG9mIG1ldGhvZHMgdG8gd3JhbmdsZSBhbmQgZXhwbG9yZSBkYXRhIGluIFIuIEFmdGVyIHBlcmZvcm1pbmcgY2xlYW5pbmcgYW5kIGV4cGxvcmF0b3J5IGFuYWx5c2lzLCBpdCBpcyBjb21tb24gdG8gcGVyZm9ybSBtb3JlIGZvcm1hbCB0ZXN0cyBvbiB0aGUgZGF0YSB0byB2ZXJpZnkgd2hldGhlciB0aGUgcmVsYXRpb25zaGlwcyB3ZSBoeXBvdGhlc2l6ZWQgaG9sZCB1bmRlciB0aGUgc2NydXRpbnkgb2YgdGVzdHMgc3VwcG9ydGVkIGJ5IHN0YXRpc3RpY2FsIHRoZW9yeS4gSW4gdGhpcyBjaGFwdGVyIHdlIHdpbGwgcHJlc2VudCBjb3VwbGUgb2YgdGVzdGluZyBzdWNoIHJlbGF0aW9uc2hpcHMuIFdoaWxlIHNvbWUgZm9ybWFsIGtub3dsZWRnZSBvZiBzdGF0aXN0aWNhbCBpbmZlcmVuY2Ugd2lsbCBiZSB1c2VmdWwsIHRoZSBjaGFwdGVyIGRvZXMgbm90IHJlbHkgb24geW91ciBiYWNrZ3JvdW5kIGtub3dsZWRnZSB0byBoZWF2aWx5LgoKIyMjIENvbXBhcmluZyBtZWFucyB7LX0KCldoaWxlIGEgbWVhbiBpcyBhIGdvb2QgbWVhc3VyZSBvZiBvdXIgZGF0YSBhbmQgY29tcGFyaW5nIG1lYW5zIGFjcm9zcyBncm91cHMgY2FuIGhlbHAgdXMgZGV0ZXJtaW5lIHRoZSB3YXkgYSBnaXZlbiB2YXJpYWJsZSB2YXJpZXMgZGVwZW5kaW5nIG9uIHNvbWUgY29uZGl0aW9ucyAtIGZvciBleGFtcGxlLCB3aGV0aGVyIHRoZSBhdmVyYWdlIEdEUCBncm93dGggb3ZlciBhIGNlcnRhaW4gcGVyaW9kIGRpZmZlcnMgYmV0d2VlbiB0d28gY291bnRyaWVzIG9yIHdoZXRoZXIgYXZlcmFnZSBlYXJuaW5ncyBhcmUgZGlmZmVyZW50IGRlcGVuZGluZyBvbiBwZW9wbGUncyBnZW5kZXIgYW5kIHJhY2UuIEhvd2V2ZXIsIGl0IG1heSBzZWVtIGRpZmZpY3VsdCB0byBkZXRlcm1pbmUgd2hldGhlciBzdWNoIGRpZmZlcmVuY2UgaXMgcmVhbGx5IG1lYW5pbmdmdWwsIGVzcGVjaWFsbHkgdGhhdCB3ZSB1c3VhbGx5IGRvbid0IGhhdmUgdGhlIGVudGlyZSBwb3B1bGF0aW9uIHdlIGFyZSBleGFtaW5pbmcgYXQgaGFuZCwgYnV0IG9ubHkgYSAocHJlc3N1bWFibHkgcmFuZG9tKSBzYW1wbGUgb2YgdGhlIHBvcHVsYXRpb24uIEZvciBleGFtcGxlLCBzdXBwb3NlIHdlIHJhbmRvbWx5IGNob29zZSA1IG1lbiBhbmQgNSB3b21lbiBhbmQgY29tcHV0ZSB0aGVpciBhdmVyYWdlIGVhcm5pbmdzLiBXZSBvYnRhaW4gMzUwMDAgcG91bmRzIGZvciBtZW4gYW5kIDQwMDAwIHBvdW5kcyBmb3Igd29tZW4uIFNob3VsZCB3ZSBjbGFpbSB0aGF0IG1lbiBfb24gYXZlcmFnZV8gZWFybiBsZXNzIHRoYW4gd29tZW4sIGJhc2VkIG9uIHRoaXMgZGF0YT8gV2hhdCBkaWZmZXJlbmNlIGlzIHN1ZmZpY2llbnQgdG8gY2xhaW0gdGhhdCBzdWNoIGRpZmZlcmVuY2UgZXhpc3RzIGluIHRoZSBvdmVyYWxsIHBvcHVsYXRpb24/IFN1Y2ggcXVlc3Rpb25zIGFyZSBhbnN3ZXJlZCBieSBzdGF0aXN0aWNhbCBpbmZlcmVuY2UuCgoKCgojIyMjIElzIG1lYW4gZGlmZmVyZW50IGZyb20gMD8gLSBvbmUgc2FtcGxlIHQtdGVzdCB7LX0KCldlJ2xsIHN0YXJ0IHdpdGggYSBzaW1wbGUgY2FzZS4gVGhlIGRhdGEgaW4gdGhlIGZpbGUgYHdhZ2VzLmNzdmAgY29udGFpbnMgdGhlIGluZm9ybWF0aW9uIG9uIHRoZSBhdmVyYWdlIHNhbGFyeSBvZiBhIHNhbXBsZSBvZiAxMDAgaW5kaXZpZHVhbHMgaW4gMjAwNSBhbmQyIDIwMTAuIFdlIGFyZSBpbnRlcmVzdGVkIGluIHdoZXRoZXIgdGhlcmUgd2FzIGFueSBncm93dGggaW4gdGhlaXIgc2FsYXJ5LiBGaXJzdCwgd2UgcmVhZCB0aGUgZGF0YSBhbmQgb2J0YWluIHRoZSBwZXJjZW50ZWdlIGdyb3d0aDoKCmBgYHtyfQp3YWdlcyA8LSByZWFkX2NzdignZGF0YS93YWdlcy5jc3YnKQp3YWdlcyA8LSB3YWdlcyAlPiUgbXV0YXRlKGNoYW5nZSA9IChzYWxhcnkyMDEwIC0gc2FsYXJ5MjAwNSkvc2FsYXJ5MjAwNSkKYGBgCgpXZSBjYW4gdGhlbiBleGFtaW5lIHRoZSBhdmVyYWdlOgoKYGBge3J9Cm1lYW4od2FnZXMkY2hhbmdlKQpgYGAKCldlIHNlZSB0aGF0IHRoZSBtZWFuIGlzIGFyb3VuZCBgciByb3VuZChtZWFuKHdhZ2VzJGNoYW5nZSksIDMpYC4gSXMgdGhhdCBzdWZmaWNpZW50IHRvIGNsYWltIHRoYXQgdGhlIGF2ZXJhZ2Ugc2FsYXJ5IG9mIGVtcGxveWVlcyBpbiBvdXIgdGFyZ2V0IHBvcHVsYXRpb24gaGFzIGdyb3duIGJldHdlZW4gMjAwNSBhbmQgMjAxMD8gVG8gY2hlY2sgdGhhdCwgd2UgY2FuIHBlcmZvcm0gdGhlIHNvLWNhbGxlZCB0LXRlc3QsIHdoaWNoIHRha2VzIGludG8gYWNjb3VudCB0aGUgdmFyaWFiaWxpdHkgb2Ygb3VyIHNhbXBsZSBhbmQgaXRzIHNpemUsIGFuZCBkZXRlcm1pbmVzIHRoZSBfcHJvYmFiaWxpdHkgdGhhdCB3ZSBmYWxzZWx5IHJlamVjdCB0aGUgaHlwb3RoZXNpcyB0aGF0IHRoZSBtZWFuIGlzIGVxdWFsIHRvIDBfIC0gdGhpcyBwcm9iYWJpbGl0eSBpcyB0aGUgcC12YWx1ZS4gKipOb3RlIHRoYXQgcC12YWx1ZSBpcyBub3QgdGhlIHByb2JhYmlsaXR5IG9mIHRoZSBtZWFuIGJlaW5nIGVxdWFsIHRvIDAqKi4gRm9yIHRob3NlIGZhbWlsaWFyIHdpdGggZnJlcXVlbnRpc3Qgc3RhdGlzdGljYWwgaW5mZXJlbmNlLCByZWNhbGwgdGhhdCB0aGUgX3AtdmFsdWUgaXMgdGhlIHByb2JhYmlsaXR5IG9mIG9idGFpbmluZyBhIHN0YXRpc3RpYyBtb3JlIGV4dHJlbWUgdGhhbiB0aGUgc2FtcGxlIHN0YXRpc3RpYyBpbiB1bmRlciB0aGUgYXNzdW1wdGlvbiB0aGF0IHRoZSBudWxsIGh5cG90aGVzaXMgaXMgdHJ1ZSBpbiByZXBlYXRlZCBzYW1wbGluZ18uIAoKVG8gY29uZHVjdCB0aGUgdC10ZXN0LCB3ZSBjYW4gc2ltcGx5IHVzZSB0aGUgYHQudGVzdGAgZnVuY3Rpb246CgpgYGB7cn0KdC50ZXN0KHdhZ2VzJGNoYW5nZSkKYGBgCgpUaGUgcC12YWx1ZSBpcyB1c3VhbGx5IHRoZSBtb3N0IGltcG9ydGFudCBwYXJ0IG9mIHRoZSBvdXRwdXQgcHJvZHVjZWQgYnkgdGhlIGZ1bmN0aW9uLiBJbiB0aGlzIGNhc2UsIGl0IGlzIGByIHJvdW5kKHQudGVzdCh3YWdlcyRjaGFuZ2UpJHAudmFsdWUsIDQpYC4gVGhpcyBtZWFucywgdGhhdCB0aGUgbWVhbiBpcyBfc2lnbmlmaWNhbnRseSBkaWZmZXJlbnQgZnJvbSAwIGF0IHRoZSA5NSUgY29uZmlkZW5jZSBsZXZlbF8uIENvbmZpZGVuY2UgbGV2ZWwgaXMgYSB3YXkgaW4gd2hpY2ggd2UgY2FuIHF1YW50aWZ5IG91ciBjZXJ0YWludHkgaW4gdGhlIGRpZmZlcmVuY2Ugb2YgdGhlIHBhcmFtZXRlciBmcm9tIHNvbWUgaHlwb3RoZXNpemVkIHZhbHVlIChpbiB0aGlzIGNhc2UgMCkuIFRoZSA5NSUgY29uZmlkZW5jZSBsZXZlbCBpcyBvbmUgb2YgdGhlIG1vc3QgY29tbW9ubHkgdXNlZCB0aHJlc2hvbGRzIGluIHRoZSBzb2NpYWwgc2NpZW5jZXMuIEdlbmVyYWxseSwgdGhlIHJlY2lwZSBmb3IgY2hlY2tpbmcgaWYgYSBwLXZhbHVlIHNhdGlzZmllcyBhIGNlcmFpbiBjb25maWRlbmNlIGxldmVsIGlzIHRvIHN1YnRyYWN0IG91ciBjb25maWRlbmNlIGxldmVsIGZyb20gMSBhbmQgY29tcGFyZSBpdCB3aXRoIHRoZSBwLXZhbHVlLiBJZiB0aGUgcC12YWx1ZSBpcyBzbWFsbGVyIHRoYW4gdGhlIHZhbHVlIG9idGFpbmVkIGluIHRoZSBzdWJ0cmFjdGlvbiwgdGhlIHNpZ25pZmljYW5jZSBvZiB0aGUgdGVzdCBzdGF0aXN0aWMgc2F0aXNmaWVzIGl0LiBTbywgaW4gb3VyIGV4YW1wbGUsIGZvciA5NSUgY29uZmlkZW5jZSAkMSAtIDAuOTUgPSAwLjA1JCBhbmQgYHIgcm91bmQodC50ZXN0KHdhZ2VzJGNoYW5nZSkkcC52YWx1ZSwgNClgICQgPCAwLjA1JCwgdGh1cyB3ZSBjYW4gc2F5IHRoZSB0aGUgbWVhbiBpcyBzaWduaWZpY2FudGx5IGRpZmZlcmVudCBmcm9tIDAgYXQgdGhlIDk1JSBjb25maWRlbmNlIGxldmVsLgoKQW5vdGhlciBpbXBvcnRhbnQgaW5mb3JtYXRpb24gcmVwb3J0ZWQgYnkgdGhlIG91dHB1dCBvZiB0aGUgdC10ZXN0IGlzIHRoZSBjb25maWRlbmNlIGludGVydmFsLiBUaGUgY29uZmlkZW5jZSBpbnRlcnZhbCBwcm92aWRlcyB1cyB3aXRoIGEgd2F5IG9mIHF1YW50aWZ5aW5nIG91ciB1bmNlcnRhaW50eSBhYm91dCB0aGUgdW5kZXJseWluZyB2YWx1ZSBvZiBhIHN0YXRpc3RpYyAoaW4gb3VyIGNhc2UgdGhlIG1lYW4pLCBnaXZlbiB0aGUgdmFyaWFiaWxpdHkgb2Ygb3VyIHNhbXBsZSAobWVhc3VyZWQgYnkgdGhlIHN0YW5kYXJkIGRldmlhdGlvbiwgYXMgZGVzY3JpYmVkIGluIFtjaGFwdGVyIDRdKCN2YXJpYW5jZS1hbmQtc3RhbmRhcmQtZGV2aWF0aW9uKS4gU3VwcG9zZSB3ZSB0YWtlIDEwMCByYW5kb20gc2FtcGxlcyBmcm9tIG91ciBvcmlnaW5hbCBwb3B1bGF0aW9uLiBUaGUgOTUlIGNvbmZpZGVuY2UgaW50ZXJ2YWwgZGVzY3JpYmVzIHRoZSBfcmFuZ2UgaW50byB3aGljaCB3ZSBleGVwY3QgdGhlIG1lYW4gb2YgOTUgb3V0IG9mIDEwMCBzYW1wbGVzXyB0byBmYWxsLiBJbiBjYXNlIG9mIHRoZSBtZWFuLCBpdCBpcyBnaXZlbiBieSAkXGJhcntcbXV9XHBtIDEuOTZTRShcYmFye1xtdX0pJCwgd2hlcmUgJFxiYXJcbXUkIGlzIHRoZSBzYW1wbGUgbWVhbiB3ZSBvYnRhaW5lZCBhbmQgJFNFKFxiYXJ7XG11fSkkIGlzIHRoZSBfc3RhbmRhcmQgZXJyb3Igb2YgdGhlIG1lYW5fIGdpdmVuIGJ5ICRcc2lnbWEvXHNxcnR7bn0kLCB3aGljaCBpcyB0aGUgc2FtcGxlIHN0YW5kYXJkIGRldmlhdGlvbiBkaXZpZGVkIGJ5IHRoZSBzcXVhcmUgcm9vdCBvZiB0aGUgbnVtYmVyIG9mIHRoZSBvYnNlcnZhdGlvbnMgaW4gb3VyIHNhbXBsZS4gTm90ZSB0aGF0IDk1JSBjb25maWRlbmNlIGludGVydmFsIG5vdCBpbmNsdWRpbmcgMCBpcyBlcXVpdmFsZW50IHdpdGggdGhlIHN0YXRpc3RpYyBiZWluZyBzaWduaWZpY2FudGx5IGRpZmZlcmVudCBmcm9tIDAgYXQgdGhlIDk1JSBsZXZlbC4gCgoKIyMjIyBFcnJvciBiYXJzIHstfQoKVGhlIGNvbmZpZGVuY2UgaW50ZXJ2YWwgYXJvdW5kIHRoZSBtZWFuIGNhbiBiZSBkaXNwbGF5ZWQgaW4gYGdncGxvdGAgdXNpbmcgdGhlIGBnZW9tX2Vycm9yYmFyYCBmdW5jdGlvbi4gVGhlIHNvLWNhbGxlZCBlcnJvcmJhciBpcyBhIGdvb2Qgd2F5IHRvIGRpc3BsYXkgdGhlIHJhbmdlIG9mIHRoZSBsaWtlbHkgdmFsdWVzIGFyb3VuZCB0aGUgbWVhbi4KCkluIGNhc2Ugb2Ygb3VyIGRhdGEsIHRvIHBsb3QgdGhlIGVycm9yYmFycywgd2UgZmlyc3QgY29tcHV0ZSB0aGUgc3RhbmRhcmQgZXJyb3Igb2YgdGhlIG1lYW4gdXNpbmcgdGhlIGZvcm11bGEgZGlzY3Vzc2VkIGFib3ZlLgoKYGBge3J9CndhZ2VzX3N1bW1hcnkgPC0gd2FnZXMgJT4lCiAgc3VtbWFyaXNlKGNoYW5nZV9tZWFuID0gbWVhbihjaGFuZ2UpLCAKICAgICAgICAgICAgY2hhbmdlX2VyciA9IHNkKGNoYW5nZSkvc3FydChuKCkpKQpgYGAKCldlIHRoYW4gY3JlYXRlIGEgYmFyIHBsb3QgYW5kIGFkZCB0aGUgYGdlb21fZXJyb3JiYXJgIG9uIHRvcCBvZiBpdC4gTm90ZSB0aGF0IGluIHRoaXMgY2FzZSB3ZSBzcGVjaWZ5IHRoZSB4IGFlc3RoZXRpYyBhcyBhIGNocmFyYWN0ZXIgYCdXYWdlIGNoYW5nZSdgLiBUaGlzIGlzIGJlY2F1c2UgaXQgaXMgdW51c3VhbCB0byBwbG90IGp1c3Qgb25lIGJhciBpbiB0aGUgcGxvdCwgYW5kIGBnZW9tX2NvbGAgYW5kIGBnZW9tX2Vycm9yYmFyYCByZXF1aXJlIHNvbWUgeCBhZXN0aGV0aWMgdG8gYmUgcGFzc2VkLgoKYGBge3J9CmdncGxvdCh3YWdlc19zdW1tYXJ5LCBhZXMoeCA9ICdXYWdlIGNoYW5nZScsIHkgPSBjaGFuZ2VfbWVhbikpICsKICBnZW9tX2NvbCh3aWR0aCA9IDAuMikgKyAKICBnZW9tX2Vycm9yYmFyKGFlcyh5bWluID0gY2hhbmdlX21lYW4gLSAxLjk2ICogY2hhbmdlX2VyciwgCiAgICAgICAgICAgICAgICB5bWF4ID0gY2hhbmdlX21lYW4gKyAxLjk2ICogY2hhbmdlX2VyciksIHdpZHRoID0gMC4xKSArIAogIGxhYnMoeCA9ICcnLCB5ID0gJ01lYW4gY2hhbmdlIGluIHdhZ2UnKQpgYGAKCgoKIyMjIyBBcmUgdHdvIG1lYW5zIGRpZmZlcmVudD8gLSB0d28gc2FtcGxlIHQtdGVzdCB7LX0KCkJ5IHNpbXBsZSBleHRlbnNpb24sIHdlIGNhbiBhcHBseSB0aGUgbG9naWMgb2YgdGhlIHQtdGVzdCB0byB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHR3byBtZWFucyB3aXRoaW4gb25lIHNhbXBsZSAtIHRoaXMgaXMgc28gY2FsbGVkIGEgX3R3byBzYW1wbGUgdC10ZXN0XyBhbmQgaXMgaW1wbGVtZW50ZWQgaW4gUiBieSB0aGUgc2FtZSBmdW5jdGlvbi4gVGhlIGdyb3VwaW5nIHZhcmlhYmxlIGlzIHNwZWNpZmllZCB1c2luZyB0aGUgX2Zvcm11bGEgbm90YXRpb25fLCB3aGljaCB3ZSB3aWxsIGVuY291bnRlciBpbiB0aGUgbmV4dCBjaGFwdGVyIHdoZW4gZGVhbGluZyB3aXRoIGxpbmVhciByZWdyZXNzaW9uLiBUbyB0ZXN0IHRoZSBkaWZmZXJlbmNlIGluIG1lYW4gb2YgdmFyaWFibGUgeCBiZXR3ZWVuIGdyb3VwcyBkZWZpbmVkIGJ5IHksIHdlIHNwZWNpZnkgYHQudGVzdCh4IH4geSlgLiBTbywgY29taW5nIGJhY2sgdG8gb3VyIGV4YW1wbGUsIHdlIGNhbiBleGFtaW5lIHdoZXRoZXIgdGhlIGF2ZXJhZ2Ugc2FsYXJ5IGluIDIwMDUgaXMgZGlmZmVyZW50IGZvciBtYWxlIGFuZCBmZW1hbGUgZW1wbG95ZWVzLgoKYGBge3J9CnQudGVzdChzYWxhcnkyMDA1IH4gZ2VuZGVyLCBkYXRhID0gd2FnZXMpCmBgYAoKVGhlIHJlc3VsdCBzZWVtIHRvIGJlIHNpZ25pZmljYW50LCBtZWFuaW5nIHRoYXQgd2UgaGF2ZSBzdGF0aXN0aWNhbCBldmlkZW5jZSB0aGF0IHRoZXJlIGlzIGEgcmVhbCBkaWZmZXJlbmNlIGJldHdlZW4gbWFsZSBhbmQgZmVtYWxlIGVhcm5pbmdzIGluIHRoZSB1bmRlcmx5aW5nIHBvcHVsYXRpb25zIChvciBtb3JlIHByZWNpc2VseSwgdGhhdCBpZiB3ZSB0b29rIDEwMCBzYW1wbGVzIGZyb20gdGhlIHVuZGVybHlpbmcgcG9wdWxhdGlvbiwgbW9yZSB0aGFuIDk1IG9mIHRoZW0gd291bGQgc2hvdyBhIG5vbi16ZXJvIGRpZmZlcmVuY2UpLiBCYXNlZCBvbiBvdXIgc2FtcGxlLCBob3dldmVyLCB0aGUgbWFnbml0dWRlIG9mIHRoYXQgZGlmZmVyZW5jZSBpcyBxdWl0ZSBkaWZmaWN1bHQgdG8gZGV0ZXJtaW5lLCBhcyB3ZSBleHBlY3QgaXQgdG8gcmFuZ2UgYmV0d2VlbiAxOTAwMCBhbmQgMjAwMCBkb2xsYXJzLiBXZSBjYW4gdmlzdWFsaXplIHRoaXMgYWdhaW4gdXNpbmcgYGdlb21fZXJyb3JiYXJgOgoKYGBge3J9CndhZ2VzICU+JQogIGdyb3VwX2J5KGdlbmRlcikgJT4lCiAgc3VtbWFyaXNlKHdhZ2VfbWVhbiA9IG1lYW4oc2FsYXJ5MjAwNSksIAogICAgICAgICAgICB3YWdlX2VyciA9IHNkKHNhbGFyeTIwMDUpL3NxcnQobigpKSkgJT4lCiAgZ2dwbG90KGFlcyh4ID0gZ2VuZGVyLCB5ID0gd2FnZV9tZWFuKSkgKyAKICBnZW9tX2NvbCh3aWR0aCA9IDAuMykgKyAKICBnZW9tX2Vycm9yYmFyKGFlcyh5bWluID0gd2FnZV9tZWFuIC0gd2FnZV9lcnIsIAogICAgICAgICAgICAgICAgICAgIHltYXggPSB3YWdlX21lYW4gKyB3YWdlX2VyciksIHdpZHRoID0gMC4yKSArCiAgeWxhYignQXZlcmFnZSBzYWxhcnkgaW4gMjAwNScpCmBgYAoKCiMjIyBSZWxhdGlvbnNoaXAgYmV0d2VlbiB0d28gY29udGludW91cyB2YXJpYWJsZXMgey19CgojIyMjIENvdmFyaWFuY2Ugey19CgpTbyBmYXIgd2UgaGF2ZSBkaXNjdXNzZWQgc29tZSB0ZWNobmlxdWVzIGZvciBsb29raW5nIGF0IHN0YXRpc3RpY2FsIHJlbGF0aW9uc2hpcHMgYmV0d2VlbiBvbmUgY29udGludW91cyB2YXJpYWJsZSAoc3VjaCBhcyB3YWdlKSBhbmQgb25lIGNhdGVnb3JpYyB2YXJpYWJsZSAoc3VjaCBhcyBzYWxhcnkpLiBVbmRlciBtYW55IGNpcmN1bXN0YW5jZXMsIGhvd2V2ZXIsIHdlIHdvdWxkIGJlIGludGVyZXN0ZWQgaW4gbWVhc3VyaW5nIHRoZSBhc3NvY2lhdGlvbiBiZXR3ZWVuIHR3byBjb250aW51b3VzIHZhcmlhYmxlcy4gSW4gdGhpcyBwYXJ0IHdlIHdpbGwgY29uc2lkZXIgZGF0YSBvbiBhIHNhbXBsZSBvZiBzdHVkZW50cyB3aXRoIGZyZWUgdmFyaWFibGVzOiBhdmVyYWdlIHdlZWtseSB0aW1lIHNwZW50IHN0dWR5aW5nLCBkYXlzIGEgc3R1ZGVudCBoYXMgYmVlbiBob21lIGlsbCBhbmQgYWNoaWV2ZWQgR1BBLgoKCmBgYHtyfQpzY29yZXMgPC0gcmVhZF9jc3YoJ2RhdGEvc2NvcmVzLmNzdicpCmBgYAoKV2UgY2FuIGV4YW1pbmUgcGFpcndpc2UgcmVsYXRpb25zaGlwcyBiZXR3ZWVuIHRoZSB2YXJpYWJsZXMgdXNpbmcgdGhlIGBwYWlycygpYCBmdW5jdGlvbiwgd2hpY2ggaXMgYSB1c2VmdWwgdG9vbCB3aGVuIGFuYWx5emluZyBkYXRhc2V0cyB3aXRoIG11bHRpcGxlIGNvbnRpbnVvdXMgdmFyaWFibGVzLgoKYGBge3J9CnBhaXJzKHNjb3Jlcyx1cHBlci5wYW5lbCA9IE5VTEwpCmBgYAoKCkxldCdzIHN0YXJ0IGJ5IGludGVycHJldGluZyB0aGlzIHBsb3QuIFRoZSByZWN0YW5nbGVzIHdpdGggdmFyaWFibGUgdGVsbCBhcyB0aGUgbmFtZSBvZiB0aGUgYXhpcy4gRm9yIGV4YW1wbGUsIHRoZSBwbG90IGluIHRoZSBsb3dlciBsZWZ0IGNvcm5lciBzaG93cyB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlIEdQQSAoeCBheGlzKSBhbmQgc3R1ZHkgdGltZSAoeSBheGlzKS4gV2UgY2FuIHNlZSB0aGF0IHN0dWRlbnRzIGluIG91ciBzYW1wbGUgd2hvIHNwZW50IG1vcmUgdGltZSBzdHVkeWluZyBzZWVtIHRvIGhhdmUgaGFkIGhpZ2hlciBncmFkZXMgLSBwb2ludHMgaGlnaGVyIG9uIG9uZSBheGlzIHRlbmQgdG8gYWxzbyBiZSBoaWdoZXIgb24gdGhlIG90aGVyLiBPbiB0aGUgb3RoZXIgaGFuZCwgc3R1ZGVudHMgd2hvIHdlcmUgaWxsIG1vcmUgaGFkLCBvbiBhdmVyYWdlLCBhY2hpZXZlZCBsb3dlciBncmFkZXMuIFRoZXJlIHNlZW1zIHRvIGJlIG5vIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIGJlaW5nIGlsbCBhbmQgdGltZSBzcGVudCBzdHVkeWluZy4gCgpJbiBzdGF0aXN0aWNhbCB0ZXJtcywgdGhpcyByZWxhdGlvbnNoaXAgY2FuIGJlIG1lYXN1cmVkIHdpdGggX2NvdmFyaWFuY2VfIGJldHdlZW4gdGhlc2UgdHdvIHZhcmlhYmxlcy4gUmVjYWxsIG91ciBkaXNjdXNzaW9uIG9mIF92YXJpYW5jZV8gaW4gdGhlIFtleHBsb3JhdG9yeSBhbmFseXNpcyBjaGFwdGVyXSgjZXhwbG9yYXRvcnkpLiBXZSBjYWxjdWxhdGVkIGl0IGZvciB2ZWN0b3IgeCB1c2luZyBgc3VtKCh4IC0gbWVhbih4KSleMikvKGxlbmd0aCh4KSAtIDEpYCwgb3IgdGhlIGB2YXIoeClgIGZ1bmN0aW9uIGZvciBzaG9ydC4gQ292YXJpYW5jZSBpcyBlc3NlbnRpYWxseSB0aGUgc2FtZSwgYnV0IGNhbGN1bGF0ZWQgZm9yIHR3byB2YXJpYWJsZXMgaW5zdGVhZCBvZiBvbmUsIHVzaW5nIGBzdW0oKHggLSBtZWFuKHgpKSAqIG1lYW4oKHkgLSBtZWFuKHkpKSkpLyhsZW5ndGgoeCkgLSAxKWAgb3IgdGhlIGBjb3ZgIGZ1bmN0aW9uIGZvciBzaG9ydC4gWW91IGNhbiBzZWUgdGhhdCBkZW1vbnN0cmF0ZWQgYmVsb3c6CgpgYGB7cn0KY292X2Z1biA8LSBmdW5jdGlvbih4LCB5KSBzdW0oKHggLSBtZWFuKHgpKSAqICh5IC0gbWVhbih5KSkpLyhsZW5ndGgoeCkgLSAxKQpjb3ZfZnVuKHNjb3JlcyRncGEsIHNjb3JlcyRzdHVkeV90aW1lKQpjb3Yoc2NvcmVzJGdwYSwgc2NvcmVzJHN0dWR5X3RpbWUpCmBgYAoKVGhlIF92YXJpYW5jZV8gaXMgYWN0dWFsbHkgbm90aGluZyBlbHNlIGJ1dCBjb3ZhcmlhbmNlIG9mIGEgdmFyaWFibGUgd2l0aCBpdHNlbGYhCgpgYGB7cn0KY292KHNjb3JlcyRncGEsIHNjb3JlcyRncGEpID09IHZhcihzY29yZXMkZ3BhKQpgYGAKCgpFc3NlbnRpYWxseSBjb3ZhcmlhbmNlIG1lYXN1cmVzIHRoZSBhdmVyYWdlIG9mIGVsZW1lbnQtd2lzZSBwcm9kdWN0IG9mIGVhY2ggb2JzZXJ2YXRpb25zIGRldmlhdGlvbiBmcm9tIGl0cyBtZWFuIGZvciB0d28gdmFyaWFibGVzLiBUaGlzIG1heSBzb3VuZCBjb21wbGljYXRlZCwgYnV0IGJyZWFraW5nIGl0IGRvd24gbWFrZXMgaXQgc2ltcGxlLiBJbiBvdXIgdHdvIHZhcmlhYmxlcywgYGdwYWAgYW5kIGBkYXlzX2lsbGAsIHBlb3BsZSB3aG8gaGF2ZSBncmFkZXMgaGlnaGVyIHRoYW4gdGhlIGF2ZXJhZ2UgZ3JhZGUgYWxzbyB0ZW5kIHRvIHN0dWR5IGxvbmdlciB0aGFuIHRoZSBhdmVyYWdlIHN0dWR5IHRpbWUuIFNvLCBpZiBmb3IgYWxsIHN0dWRlbnRzIHdlIHN1YnRyYWN0IHRoZSBtZWFuIGdyYWRlIGFuZCBtZWFuIHN0dWR5IHRpbWUgZnJvbSB0aGVpciByZXNwZWN0aXZlIGdyYWRlcyBhbmQgc3R1ZHkgdGltZXMsIHRoZSBhdmVyYWdlIG9mIHRoYXQgd2lsbCBiZSBwb3NpdGl2ZS4KCmBgYHtyfQpjb3Yoc2NvcmVzJGdwYSwgc2NvcmVzJHN0dWR5X3RpbWUpCmBgYAoKCklmLCBvbiB0aGUgb3RoZXIgaGFuZCBwZW9wbGUgd2hvIGhhdmUgaGlnaGVyIGdyYWRlcyB0aGFuIGF2ZXJhZ2UgdGVuZCB0byBoYXZlIGxvd2VyIHRpbWUgc3BlbnQgaWxsIGF0IGhvbWUgdGhhbiBhdmVyYWdlLCB0aGUgYXZlcmFnZSBvZiB0aGUgcHJvZHVjdHMgb2YgdGhlc2UgZGVtZWFuZWQgKGkuZS4gd2l0aCB0aGUgbWVhbiBzdWJ0cmFjdGVkIGZyb20gZWFjaCkgdmFyaWFibGVzIHdpbGwgYmUgbmVnYXRpdmUsIHNpbmNlIHRoZSBtYWpvcml0eSBvZiB0aGUgcHJvZHVjdHMgd2lsbCBiZSBuZWdhdGl2ZS4KCmBgYHtyfQpjb3Yoc2NvcmVzJGdwYSwgc2NvcmVzJGRheXNfaWxsKQpgYGAKCgpGaW5hbGx5LCBpZiB0aGVyZSdzIG5vIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHR3byB2YXJpYWJsZXMgLSBmb3IgZXhhbXBsZSBiZXR3ZWVuIGBkYXlzX2lsbGAgYW5kIGBzdHVkeV90aW1lYCwgd2UgZXhwZWN0IHRoZSBhdmVyYWdlIG9mIHRoZSBwcm9kdWN0cyBvZiB0aGUgZGVtZWFuZWQgdmFyaWFibGVzIHRvIGJlIGNsb3NlIHRvIDAsIHNpbmNlIGFyb3VuZCB0aGUgc2FtZSBudW1iZXIgd2lsbCBiZSBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUuCgpgYGB7cn0KY292KHNjb3JlcyRzdHVkeV90aW1lLCBzY29yZXMkZGF5c19pbGwpCmBgYAoKClRoZSBsYXN0IGV4YW1wbGUgc2VlbXMgdG8gYmUgaW5jb3JyZWN0PyBIb3cgaXMgdGhhdCBwb3NzaWJsZSB0aGF0IHRoZSBjb3ZhcmlhbmNlIGJldHdlZW4gYHN0dWR5X3RpbWVgIGFuZCBgZGF5c19pbGxgIGlzIGxhcmdlciB0aGFuIHRoZSBjb3ZhcmlhbmNlIGJldHdlZW4gYHN0dWR5X3RpbWVgIGFuZCBgZ3BhYCwgZXZlbiB0aG91Z2ggdGhlIHBsb3Qgc3VnZ2VzdHMgYSBtdWNoIHN0cm9uZ2VyIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHRoZSBsYXR0ZXI/IFdlIHdpbGwgZXhwbG9yZSB0aGlzIGluIHRoZSBuZXh0IHNlY3Rpb24gb24gY29ycmVsYXRpb24uCgoKIyMjIyBDb3JyZWxhdGlvbiB7LX0KClRoZSBkb3duc2lkZSBvZiBjb3ZhcmlhbmNlIGFzIGEgbWVhc3VyZSBvZiByZWxhdGlvbnNoaXAgaXMgdGhhdCBpdCBpcyBjb21wbGV0ZWx5IGRlcGVuZGVudCBvbiB0aGUgdW5pdHMgb2YgdGhlIHR3byB2YXJpYWJsZXMgbWVhc3VyZXMsIG9yLCBtb3JlIHBlcmNpc2VseSwgdGhlIHJhbmdlIG9mIHZhbHVlcyB0aGV5IHRha2UuIElmIHdlIHRha2UgY292YXJpYW5jZSBhdmVyYWdlIHRpbWUgc3BlbnQgc3R1ZHlpbmcgYW5kIEdQQSBhbmQgY29tcGFyZSBpdCB3aXRoIHRoZSBjb3ZhcmlhbmNlIGJldHdlZW4gYXZlcmFnZSB0aW1lIHNwZW50IHN0dWR5aW5nIGFuZCB0aW1lIGlsbCwgdGhlIGxhdHRlciB3aWxsIGJlIGdyZWF0ZXIsIHNpbXBseSBiZWNhdXNlIHRpbWUgaXMgZXhwcmVzc2VkIGluIGhvdXJzIGFuZCBkYXlzLCB3aXRoIHZhbHVlcyByYW5naW5nIGJldHdlZW4gMC44IGFuZCAxNS4xIGFuZCAxIGFuZCAxMTAgcmVzcGVjdGl2ZWx5LCB3aGlsZSBHUEEgcmFuZ2VzIGJldHdlZW4gMSBhbmQgNToKCmBgYHtyfQp2YXBwbHkoc2NvcmVzLCByYW5nZSwgbnVtZXJpYygyKSkKYGBgCgpTbywgdGhlIHZhbHVlcyB3ZSBnZXQgYnkgbXVsdGlwbHlpbmcgYHN0dWR5X3RpbWVgIGFuZCBgZGF5c19pbGxgIHdpbGwgdGVuZCB0byBiZSBoaWdoZXIgaW4gZ2VuZXJhbC4gVGhpcyBtYWtlcyB0aGUgdXNlIG9mIGNvdmFyaWFuY2UgcHJvYmxlbWF0aWMgaW4gZXN0aW1hdGluZyB0aGUgb2JqZWN0aXZlIHN0cmVuZ3RoIG9mIHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiB0d28gdmFyaWFibGVzLiAKCkluIG9yZGVyIHRvIGF2b2lkIGl0LCB3ZSB1c2UgX2NvcnJlbGF0aW9uXyBpbnN0ZWFkLiBDb3JyZWxhdGlvbiBpcyBzaW1wbHkgY292YXJpYW5jZSwgYnV0IGRpdmlkZWQgYnkgdGhlIHByb2R1Y3Qgb2YgdGhlIHN0YW5kYXJkIGRldmlhdGlvbiBvZiBlYWNoIG9mIHRoZSB2YXJpYWJsZXMuIFdpdGhvdXQgZ29pbmcgaW50byB0aGUgbWF0aGVtYXRpY2FsIGRldGFpbHMsIHN1ZmZpY2UgdG8gc2F5IHRoYXQgaXQgX3N0YW5kYXJkaXplc18gdGhlIGNvdmFyaWFuY2UsIHNvIHRoYXQgaXQgcmFuZ2VzIGJldHdlZW4gLTEgYW5kIDEsIC0xIG1lYW5pbmcgcGVyZmVjdCBuZWdhdGl2ZSByZWxhdGlvbnNoaXAgKGkuZS4gd2hlbiBvbmUgdmFyaWFibGUgaW5jcmVhc2VzLCB0aGUgb3RoZXIgYWx3YXlzIGRlY3JlYXNlcykgYW5kIDEgbWVhbmluZyBwZXJmZWN0IHBvc2l0aXZlIHJlbGF0aW9uc2hpcCAod2hlbiBvbmUgdmFyaWFibGUgaW5jcmVhc2VzLCB0aGUgb3RoZXIgZGVjcmVhc2VzKS4gMCBtZWFucyB0aGF0IHRoZXJlJ3Mgbm8gcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlc2UgdmFyaWFibGVzLgoKV2UgY2FuIHNlZSB0aGF0IGFnYWluIHVzaW5nIFIgY29kZS4gYGNvcl9mdW5gIGlzIGNyZWF0ZWQgZm9yIGRlbW9uc3RyYXRpb24gcHVycG9zZXMsIGJ1dCB0aGUgdXN1YWwgZnVuY3Rpb24gdXNlZCBpbiBSIHRvIG9idGFpbiBjb3JyZWxhdGlvbiBpcyBzaW1wbHkgYGNvcmAuCgpgYGB7cn0KY29yX2Z1biA8LSBmdW5jdGlvbih4LCB5KSBjb3ZfZnVuKHgsIHkpLyhzZCh4KSAqIHNkKHkpKQpjb3JfZnVuKHNjb3JlcyRncGEsIHNjb3JlcyRzdHVkeV90aW1lKQpjb3Ioc2NvcmVzJGdwYSwgc2NvcmVzJHN0dWR5X3RpbWUpCmBgYAoKTm93IHdlIGNhbiBzZWUsIHRoYXQgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIGBzdHVkeV90aW1lYCBhbmQgYGRheXNfaWxsYCBpcyBpbmRlZWQgY2xvc2UgdG8gMDoKCmBgYHtyfQpjb3Ioc2NvcmVzJHN0dWR5X3RpbWUsIHNjb3JlcyRkYXlzX2lsbCkKYGBgCgpXZSBjYW4gYWxzbyB1c2UgYGNvcmAgb24gZW50aXJlIGRhdGEgZnJhbWUgdG8gb2J0YWluIHRoZSBzby1jYWxsZWQgY29ycmVsYXRpb24gbWF0cml4LCB3aGljaCBzaG93cyBwYWlyd2lzZSByZWxhdGlvbnNoaXBzIGJldHdlZW4gdHdvIHZhcmlhYmxlcwoKYGBge3J9CmNvcihzY29yZXMpCmBgYAoKTm90ZSB0aGF0IHRoZSBkaWFnb25hbCBpcyBhbHdheXMgMSwgaS5lLiB0aGUgY29ycmVsYXRpb24gb2YgYSB2YXJpYWJsZSB3aXRoIGl0c2VsZiBpcyBhbHdheXMgMS4KCkZvciBvYnZpb3VzIHJlYXNvbnMsIHRoZSBmdW5jdGlvbiBhbHNvIHdvbid0IHdvcmsgaWYgYXBwbGllZCB0byBhIGRhdGEgZnJhbWUgY29udGFpbmluZyBhbnkgdGV4dCBkYXRhOgoKCgoKVG8gdmlzdWFsaXplIHBhcmlzd2lzZSByZWxhdGlvbnNoaXBzIGJldHdlZW4gdHdvIHZhcmlhYmxlcyB1c2luZyBhIHBsb3QgdGhhdCBpcyBhIGJpdCBtb3JlIHNvcGhpc3RpY2F0ZWQgdGhhdCB0aGUgb25lIHByb2R1Y2VkIGJ5IGBwYWlycygpYCB3ZSBjYW4gdXNlIHRoZSBgZ2dwYWlyc2AgZnVuY3Rpb24gZnJvbSB0aGUgYEdHYWxseWAgcGFja2FnZSwgd2hpY2ggcHJvZHVjZWQgYSBgZ2dwbG90YCBzdHlsZSBwbG90LCBwcmVzZW50aW5nIGNvcnJlbGF0aW9ucywgZGVuc2l0eSBwbG90cyBhbmQgc2NhdHRlciBwbG90cyBvZiBhbGwgdGhlIG51bWVyaWMgdmFyaWFibGVzIGluIG91ciBkYXRhc2V0OgoKYGBge3J9CmxpYnJhcnkoR0dhbGx5KQpnZ3BhaXJzKHNjb3JlcykKYGBgCgoKIyMjIEZ1cnRoZXIgZGV0YWlscyB7LX0KCkhlcmUgc29tZSBtb3JlIGRldGFpbHMgb24gaG93IHRoZSBwLXZhbHVlIGlzIGNvbXB1dGVkOgoKYGBge3J9CmVyciA8LSBzZCh3YWdlcyRjaGFuZ2UpL3NxcnQobnJvdyh3YWdlcykpCnRzY29yZSA8LSBtZWFuKHdhZ2VzJGNoYW5nZSkvZXJyCmRmIDwtIGxlbmd0aCh3YWdlcyRjaGFuZ2UpIC0gMQpwdCh0c2NvcmUsIGRmLCBsb3dlci50YWlsID0gRkFMU0UpICogMgp0LnRlc3Qod2FnZXMkY2hhbmdlKQpgYGAKCgoKIyMgU3VtbWFyeQoKCiMjIyBGdW5jdGlvbnMgbGlzdCB7LX0KCgoKCgojIyBFeGVyY2lzZXMKCjEuIFdyaXRlIGEgZnVuY3Rpb24gdG8gY29tcHV0ZSBjb3JyZWxhdGlvbiBmb3IganVzdCB0aGUgbnVtZXJpYyB2YXJpYWJsZXMgaW4gYW55IGRhdGEgZnJhbWUuIFRlc3QgaXQgb24gdGhlIGB3YWdlc2AgZGF0YS4KCgoKCgoyLiBXaHkgaXMgdGhlIGNvcnJlbGF0aW9uIG9mIGEgdmFyaWFibGUgd2l0aCBpdHNlbGYgYWx3YXlzIGVxdWFsIHRvIDE/IFdyaXRlIFIgY29kZSB0byBkZW1vbnN0cmF0ZSB0aGlzLgoKCgoKCkZvciB0aGUgcmVtYWluZGVyIG9mIHRoZSBleGVyY2lzZXMsIGNvbWUgYmFjayB0byB0aGUgYFNhbGFyaWVzYCBkYXRhIHdlIHVzZWQgaW4gdGhlIHByZXZpb3VzIGNoYXB0ZXI6CgoKCgozLiBVc2luZyBjb3JyZWxhdGlvbiwgZXhhbWluZSB3aGljaCByZWxhdGlvbnNoaXAgaXMgc3Ryb25nZXIgLSB0aGUgb25lIGJldHdlZW4geWVhcnMgc2luY2UgUGhEIGFuZCBzYWxhcnkgb3IgdGhlIG9uZSBiZXR3ZWVuIHllYXJzIGluIHNlcnZpY2UgYW5kIHNhbGFyeS4KCmBgYHtyfQojQU5TV0VSCmNvcihTYWxhcmllcyRzYWxhcnksIFNhbGFyaWVzJHlycy5zaW5jZS5waGQpCmNvcihTYWxhcmllcyRzYWxhcnksIFNhbGFyaWVzJHlycy5zZXJ2aWNlKQojdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHllYXJzIHNpbmNlIFBoRCBhbmQgc2FsYXJ5IGFwcGVhcnMgdG8gYmUgc3Ryb25nZXIKYGBgCgoKNC4gVXNlIHQtdGVzdHMgdG8gY2hlY2sgd2hldGhlciB3ZSBjYW4gY29uZmlybSBvciByZWplY3QgdGhlIGZvbGxvd2luZyBoeXBvdGhlc2lzLCBiYXNlZCBvbiB0aGUgc2FtcGxlIGluIHRoZSBgU2FsYXJpZXNgIGRhdGFzZXQuCgogIGEuIFRoZXJlJ3Mgbm8gZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBzYWxhcnkgb2YgTWFsZSBhbmQgRmVtYWxlIHByb2Zlc3NvcnMuCiAgCgoKICAKICAKICBiLiBUaGVyZSdzIG5vIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgc2FsYXJ5IG9mIHByb2Zlc3NvcnMgZnJvbSB0aGUgYXBwbGllZCBhbmQgdGhlb3JldGljYWwgZGVwYXJ0bWVudC4KICAKCgogIAogIGMuIFRoZSBhdmVyYWdlIHNhbGFyeSBpcyBub3QgZGlmZmVyZW50IGZyb20gMTAwIDAwMCBVU0QuCiAgCgoKCjUuIFJlY2FsbCB0aGUgcGxvdCBwcm9kdWNlZCB0b3dhcmRzIHRoZSBlbmQgb2YgdGhlIHByZXZpb3VzIGNoYXB0ZXIgZGVwaWN0aW5nIHRoZSBhdmVyYWdlIHNhbGFyeSBieSBhZ2UgZ3JvdXAgYW5kIGFjYWRlbWljIGRpc2NpcGxpbmUuIFByb2R1Y2UgdGhlIHNhbWUgcGxvdCwgYnV0IHRoaXMgdGltZSBpbmNsdWRlIGVycm9yIGJhcnMgZGVwaWN0aW5nIHRoZSBjb25maWRlbmNlIGludGVydmFscyBhcm91bmQgZWFjaCBvZiB0aGUgbWVhbnMuIFRoZSBjb2RlIHRvIHByb2R1Y2UgdGhlIHRhYmxlIHVzZWQgaW4gdGhlIGxhc3QgZXhlcmNpc2VzIGlzIGJlbG93LiBOb3RlIHRoYXQgeW91IG5lZWQgdG8gbW9kaWZ5IGl0IChieSBjb21wdXRpbmcgdGhlIHN0YW5kYXJkIGVycm9ycykgYmVmb3JlIHBsb3R0aW5nIHRoZSBkYXRhLiBSZW1lYmVyIGFib3V0IGFkZGluZyBhcHByb3ByaWF0ZSBsYWJlbHMgdG8gdGhlIHBsb3QuCgpgYGB7cn0KYnlhZ2UgPC0gU2FsYXJpZXMgJT4lCiAgbXV0YXRlKHlyc19yYW5nZSA9IGN1dF93aWR0aCh5cnMuc2luY2UucGhkLCA1LCBib3VuZGFyeSA9IDUpKSAlPiUKICBncm91cF9ieSh5cnNfcmFuZ2UsIGRpc2NpcGxpbmUpICU+JQogIHN1bW1hcmlzZShhdmcgPSBtZWFuKHNhbGFyeSwgbmEucm0gPSBUUlVFKSkgJT4lCiAgdW5ncm91cCgpCmBgYAoKCgoKCjYuIEV4YW1pbmUgdGhlIGNvcnJlbGF0aW9uIGJldHdlZW4geWVhcnMgc2luY2UgcGhkIGFuZCBhdmVyYWdlIHNhbGFyeSBpbiBlYWNoIG9mIHRoZSBncm91cHMgZGVmaW5lZCBpbiB0aGUgZGF0YS4KCgoKCgoqVGhlIHNvbHV0aW9ucyBmb3IgdGhlIGV4ZXJjaXNlcyB3aWxsIGJlIGF2YWlsYWJsZSBoZXJlIG9uIGByIGNvbmZpZyRzdGF0aXN0aWNhbF9hc3NvY2lhdGlvbmAuKgoKCgoA');
        if (!response.ok) throw new Error('Network response failed');
        const blob = await response.blob();
        const blobUrl = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = blobUrl;
        a.download = '08-statistical_association.Rmd';
        a.style.display = 'none';
        document.body.appendChild(a);
        a.dispatchEvent(new MouseEvent('click'));
        document.body.removeChild(a);
        setTimeout(() =&gt; {
          window.URL.revokeObjectURL(blobUrl);
        }, 100);
        return false;
      } catch (error) {
        console.error('Download failed:', error);
        alert('Download failed. Please try again.');
      }
    }
    downloadFile(event);
  "><i class="fa fa-save"></i> Chapter markdown</button>
<button class="btn btn-default" onclick="
    async function downloadFile(event) {
      event.preventDefault();
      try {
        const response = await fetch('data:text/plain;base64,IycgIyMgRXhlcmNpc2VzCiMnIAojJyAxLiBXcml0ZSBhIGZ1bmN0aW9uIHRvIGNvbXB1dGUgY29ycmVsYXRpb24gZm9yIGp1c3QgdGhlIG51bWVyaWMgdmFyaWFibGVzIGluIGFueSBkYXRhIGZyYW1lLiBUZXN0IGl0IG9uIHRoZSBgd2FnZXNgIGRhdGEuCiMnIAojJyAKIycgCiMnIAojJyAKIycgMi4gV2h5IGlzIHRoZSBjb3JyZWxhdGlvbiBvZiBhIHZhcmlhYmxlIHdpdGggaXRzZWxmIGFsd2F5cyBlcXVhbCB0byAxPyBXcml0ZSBSIGNvZGUgdG8gZGVtb25zdHJhdGUgdGhpcy4KIycgCiMnIAojJyAKIycgCiMnIAojJyBGb3IgdGhlIHJlbWFpbmRlciBvZiB0aGUgZXhlcmNpc2VzLCBjb21lIGJhY2sgdG8gdGhlIGBTYWxhcmllc2AgZGF0YSB3ZSB1c2VkIGluIHRoZSBwcmV2aW91cyBjaGFwdGVyOgojJyAKIycgCiMnIAojJyAKIycgMy4gVXNpbmcgY29ycmVsYXRpb24sIGV4YW1pbmUgd2hpY2ggcmVsYXRpb25zaGlwIGlzIHN0cm9uZ2VyIC0gdGhlIG9uZSBiZXR3ZWVuIHllYXJzIHNpbmNlIFBoRCBhbmQgc2FsYXJ5IG9yIHRoZSBvbmUgYmV0d2VlbiB5ZWFycyBpbiBzZXJ2aWNlIGFuZCBzYWxhcnkuCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KI0FOU1dFUgpjb3IoU2FsYXJpZXMkc2FsYXJ5LCBTYWxhcmllcyR5cnMuc2luY2UucGhkKQpjb3IoU2FsYXJpZXMkc2FsYXJ5LCBTYWxhcmllcyR5cnMuc2VydmljZSkKI3RoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiB5ZWFycyBzaW5jZSBQaEQgYW5kIHNhbGFyeSBhcHBlYXJzIHRvIGJlIHN0cm9uZ2VyCgojJyAKIycgCiMnIDQuIFVzZSB0LXRlc3RzIHRvIGNoZWNrIHdoZXRoZXIgd2UgY2FuIGNvbmZpcm0gb3IgcmVqZWN0IHRoZSBmb2xsb3dpbmcgaHlwb3RoZXNpcywgYmFzZWQgb24gdGhlIHNhbXBsZSBpbiB0aGUgYFNhbGFyaWVzYCBkYXRhc2V0LgojJyAKIycgICBhLiBUaGVyZSdzIG5vIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgc2FsYXJ5IG9mIE1hbGUgYW5kIEZlbWFsZSBwcm9mZXNzb3JzLgojJyAgIAojJyAKIycgCiMnICAgCiMnICAgCiMnICAgYi4gVGhlcmUncyBubyBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHNhbGFyeSBvZiBwcm9mZXNzb3JzIGZyb20gdGhlIGFwcGxpZWQgYW5kIHRoZW9yZXRpY2FsIGRlcGFydG1lbnQuCiMnICAgCiMnIAojJyAKIycgICAKIycgICBjLiBUaGUgYXZlcmFnZSBzYWxhcnkgaXMgbm90IGRpZmZlcmVudCBmcm9tIDEwMCAwMDAgVVNELgojJyAgIAojJyAKIycgCiMnIAojJyA1LiBSZWNhbGwgdGhlIHBsb3QgcHJvZHVjZWQgdG93YXJkcyB0aGUgZW5kIG9mIHRoZSBwcmV2aW91cyBjaGFwdGVyIGRlcGljdGluZyB0aGUgYXZlcmFnZSBzYWxhcnkgYnkgYWdlIGdyb3VwIGFuZCBhY2FkZW1pYyBkaXNjaXBsaW5lLiBQcm9kdWNlIHRoZSBzYW1lIHBsb3QsIGJ1dCB0aGlzIHRpbWUgaW5jbHVkZSBlcnJvciBiYXJzIGRlcGljdGluZyB0aGUgY29uZmlkZW5jZSBpbnRlcnZhbHMgYXJvdW5kIGVhY2ggb2YgdGhlIG1lYW5zLiBUaGUgY29kZSB0byBwcm9kdWNlIHRoZSB0YWJsZSB1c2VkIGluIHRoZSBsYXN0IGV4ZXJjaXNlcyBpcyBiZWxvdy4gTm90ZSB0aGF0IHlvdSBuZWVkIHRvIG1vZGlmeSBpdCAoYnkgY29tcHV0aW5nIHRoZSBzdGFuZGFyZCBlcnJvcnMpIGJlZm9yZSBwbG90dGluZyB0aGUgZGF0YS4gUmVtZWJlciBhYm91dCBhZGRpbmcgYXBwcm9wcmlhdGUgbGFiZWxzIHRvIHRoZSBwbG90LgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmJ5YWdlIDwtIFNhbGFyaWVzICU+JQogIG11dGF0ZSh5cnNfcmFuZ2UgPSBjdXRfd2lkdGgoeXJzLnNpbmNlLnBoZCwgNSwgYm91bmRhcnkgPSA1KSkgJT4lCiAgZ3JvdXBfYnkoeXJzX3JhbmdlLCBkaXNjaXBsaW5lKSAlPiUKICBzdW1tYXJpc2UoYXZnID0gbWVhbihzYWxhcnksIG5hLnJtID0gVFJVRSkpICU+JQogIHVuZ3JvdXAoKQoKIycgCiMnIAojJyAKIycgCiMnIAojJyA2LiBFeGFtaW5lIHRoZSBjb3JyZWxhdGlvbiBiZXR3ZWVuIHllYXJzIHNpbmNlIHBoZCBhbmQgYXZlcmFnZSBzYWxhcnkgaW4gZWFjaCBvZiB0aGUgZ3JvdXBzIGRlZmluZWQgaW4gdGhlIGRhdGEuCiMnIAojJyAKIycgCiMnIAojJyAKIycgKlRoZSBzb2x1dGlvbnMgZm9yIHRoZSBleGVyY2lzZXMgd2lsbCBiZSBhdmFpbGFibGUgaGVyZSBvbiBgciBjb25maWckc3RhdGlzdGljYWxfYXNzb2NpYXRpb25gLioKIycgCiMnIAoA');
        if (!response.ok) throw new Error('Network response failed');
        const blob = await response.blob();
        const blobUrl = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = blobUrl;
        a.download = '08-statistical_association-exercises.R';
        a.style.display = 'none';
        document.body.appendChild(a);
        a.dispatchEvent(new MouseEvent('click'));
        document.body.removeChild(a);
        setTimeout(() =&gt; {
          window.URL.revokeObjectURL(blobUrl);
        }, 100);
        return false;
      } catch (error) {
        console.error('Download failed:', error);
        alert('Download failed. Please try again.');
      }
    }
    downloadFile(event);
  "><i class="fa fa-save"></i> Chapter exercises</button>
<div id="content-6" class="section level2" number="8.1">
<h2>
<span class="header-section-number">8.1</span> Content<a class="anchor" aria-label="anchor" href="#content-6"><i class="fas fa-link"></i></a>
</h2>
<div class="sourceCode" id="cb612"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span></code></pre></div>
<p>So far, we have described variety of methods to wrangle and explore data in R. After performing cleaning and exploratory analysis, it is common to perform more formal tests on the data to verify whether the relationships we hypothesized hold under the scrutiny of tests supported by statistical theory. In this chapter we will present couple of testing such relationships. While some formal knowledge of statistical inference will be useful, the chapter does not rely on your background knowledge to heavily.</p>
<div id="comparing-means" class="section level3 unnumbered">
<h3>Comparing means<a class="anchor" aria-label="anchor" href="#comparing-means"><i class="fas fa-link"></i></a>
</h3>
<p>While a mean is a good measure of our data and comparing means across groups can help us determine the way a given variable varies depending on some conditions - for example, whether the average GDP growth over a certain period differs between two countries or whether average earnings are different depending on peoples gender and race. However, it may seem difficult to determine whether such difference is really meaningful, especially that we usually dont have the entire population we are examining at hand, but only a (pressumably random) sample of the population. For example, suppose we randomly choose 5 men and 5 women and compute their average earnings. We obtain 35000 pounds for men and 40000 pounds for women. Should we claim that men <em>on average</em> earn less than women, based on this data? What difference is sufficient to claim that such difference exists in the overall population? Such questions are answered by statistical inference.</p>
<div id="is-mean-different-from-0---one-sample-t-test" class="section level4 unnumbered">
<h4>Is mean different from 0? - one sample t-test<a class="anchor" aria-label="anchor" href="#is-mean-different-from-0---one-sample-t-test"><i class="fas fa-link"></i></a>
</h4>
<p>Well start with a simple case. The data in the file <code>wages.csv</code> contains the information on the average salary of a sample of 100 individuals in 2005 and2 2010. We are interested in whether there was any growth in their salary. First, we read the data and obtain the percentege growth:</p>
<div class="sourceCode" id="cb613"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="st">'data/wages.csv'</span><span class="op">)</span></span></code></pre></div>
<pre><code>Rows: 100 Columns: 3
 Column specification 
Delimiter: ","
chr (1): gender
dbl (2): salary2005, salary2010

 Use `spec()` to retrieve the full column specification for this data.
 Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb615"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wages</span> <span class="op">&lt;-</span> <span class="va">wages</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>change <span class="op">=</span> <span class="op">(</span><span class="va">salary2010</span> <span class="op">-</span> <span class="va">salary2005</span><span class="op">)</span><span class="op">/</span><span class="va">salary2005</span><span class="op">)</span></span></code></pre></div>
<p>We can then examine the average:</p>
<div class="sourceCode" id="cb616"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">wages</span><span class="op">$</span><span class="va">change</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] 0.01489452</code></pre>
<p>We see that the mean is around 0.015. Is that sufficient to claim that the average salary of employees in our target population has grown between 2005 and 2010? To check that, we can perform the so-called t-test, which takes into account the variability of our sample and its size, and determines the <em>probability that we falsely reject the hypothesis that the mean is equal to 0</em> - this probability is the p-value. <strong>Note that p-value is not the probability of the mean being equal to 0</strong>. For those familiar with frequentist statistical inference, recall that the <em>p-value is the probability of obtaining a statistic more extreme than the sample statistic in under the assumption that the null hypothesis is true in repeated sampling</em>.</p>
<p>To conduct the t-test, we can simply use the <code>t.test</code> function:</p>
<div class="sourceCode" id="cb618"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span><span class="va">wages</span><span class="op">$</span><span class="va">change</span><span class="op">)</span></span></code></pre></div>
<pre><code>
    One Sample t-test

data:  wages$change
t = 2.7211, df = 99, p-value = 0.007688
alternative hypothesis: true mean is not equal to 0
95 percent confidence interval:
 0.004033511 0.025755527
sample estimates:
 mean of x 
0.01489452 </code></pre>
<p>The p-value is usually the most important part of the output produced by the function. In this case, it is 0.0077. This means, that the mean is <em>significantly different from 0 at the 95% confidence level</em>. Confidence level is a way in which we can quantify our certainty in the difference of the parameter from some hypothesized value (in this case 0). The 95% confidence level is one of the most commonly used thresholds in the social sciences. Generally, the recipe for checking if a p-value satisfies a cerain confidence level is to subtract our confidence level from 1 and compare it with the p-value. If the p-value is smaller than the value obtained in the subtraction, the significance of the test statistic satisfies it. So, in our example, for 95% confidence <span class="math inline">\(1 - 0.95 = 0.05\)</span> and 0.0077 $ &lt; 0.05$, thus we can say the the mean is significantly different from 0 at the 95% confidence level.</p>
<p>Another important information reported by the output of the t-test is the confidence interval. The confidence interval provides us with a way of quantifying our uncertainty about the underlying value of a statistic (in our case the mean), given the variability of our sample (measured by the standard deviation, as described in <a href="exploratory.html#variance-and-standard-deviation">chapter 4</a>. Suppose we take 100 random samples from our original population. The 95% confidence interval describes the <em>range into which we exepct the mean of 95 out of 100 samples</em> to fall. In case of the mean, it is given by <span class="math inline">\(\bar{\mu}\pm 1.96SE(\bar{\mu})\)</span>, where <span class="math inline">\(\bar\mu\)</span> is the sample mean we obtained and <span class="math inline">\(SE(\bar{\mu})\)</span> is the <em>standard error of the mean</em> given by <span class="math inline">\(\sigma/\sqrt{n}\)</span>, which is the sample standard deviation divided by the square root of the number of the observations in our sample. Note that 95% confidence interval not including 0 is equivalent with the statistic being significantly different from 0 at the 95% level.</p>
</div>
<div id="error-bars" class="section level4 unnumbered">
<h4>Error bars<a class="anchor" aria-label="anchor" href="#error-bars"><i class="fas fa-link"></i></a>
</h4>
<p>The confidence interval around the mean can be displayed in <code>ggplot</code> using the <code>geom_errorbar</code> function. The so-called errorbar is a good way to display the range of the likely values around the mean.</p>
<p>In case of our data, to plot the errorbars, we first compute the standard error of the mean using the formula discussed above.</p>
<div class="sourceCode" id="cb620"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wages_summary</span> <span class="op">&lt;-</span> <span class="va">wages</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>change_mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">change</span><span class="op">)</span>, </span>
<span>            change_err <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">change</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>We than create a bar plot and add the <code>geom_errorbar</code> on top of it. Note that in this case we specify the x aesthetic as a chraracter <code>'Wage change'</code>. This is because it is unusual to plot just one bar in the plot, and <code>geom_col</code> and <code>geom_errorbar</code> require some x aesthetic to be passed.</p>
<div class="sourceCode" id="cb621"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">wages_summary</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">'Wage change'</span>, y <span class="op">=</span> <span class="va">change_mean</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html">geom_errorbar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>ymin <span class="op">=</span> <span class="va">change_mean</span> <span class="op">-</span> <span class="fl">1.96</span> <span class="op">*</span> <span class="va">change_err</span>, </span>
<span>                ymax <span class="op">=</span> <span class="va">change_mean</span> <span class="op">+</span> <span class="fl">1.96</span> <span class="op">*</span> <span class="va">change_err</span><span class="op">)</span>, width <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">''</span>, y <span class="op">=</span> <span class="st">'Mean change in wage'</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="main_files/figure-html/unnamed-chunk-365-1.png" width="672"></div>
</div>
<div id="are-two-means-different---two-sample-t-test" class="section level4 unnumbered">
<h4>Are two means different? - two sample t-test<a class="anchor" aria-label="anchor" href="#are-two-means-different---two-sample-t-test"><i class="fas fa-link"></i></a>
</h4>
<p>By simple extension, we can apply the logic of the t-test to the difference between two means within one sample - this is so called a <em>two sample t-test</em> and is implemented in R by the same function. The grouping variable is specified using the <em>formula notation</em>, which we will encounter in the next chapter when dealing with linear regression. To test the difference in mean of variable x between groups defined by y, we specify <code>t.test(x ~ y)</code>. So, coming back to our example, we can examine whether the average salary in 2005 is different for male and female employees.</p>
<div class="sourceCode" id="cb622"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span><span class="va">salary2005</span> <span class="op">~</span> <span class="va">gender</span>, data <span class="op">=</span> <span class="va">wages</span><span class="op">)</span></span></code></pre></div>
<pre><code>
    Welch Two Sample t-test

data:  salary2005 by gender
t = -2.4595, df = 97.494, p-value = 0.01568
alternative hypothesis: true difference in means between group F and group M is not equal to 0
95 percent confidence interval:
 -19486.287  -2082.285
sample estimates:
mean in group F mean in group M 
       31020.72        41805.01 </code></pre>
<p>The result seem to be significant, meaning that we have statistical evidence that there is a real difference between male and female earnings in the underlying populations (or more precisely, that if we took 100 samples from the underlying population, more than 95 of them would show a non-zero difference). Based on our sample, however, the magnitude of that difference is quite difficult to determine, as we expect it to range between 19000 and 2000 dollars. We can visualize this again using <code>geom_errorbar</code>:</p>
<div class="sourceCode" id="cb624"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wages</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">gender</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>wage_mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">salary2005</span><span class="op">)</span>, </span>
<span>            wage_err <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">salary2005</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">gender</span>, y <span class="op">=</span> <span class="va">wage_mean</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html">geom_errorbar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>ymin <span class="op">=</span> <span class="va">wage_mean</span> <span class="op">-</span> <span class="va">wage_err</span>, </span>
<span>                    ymax <span class="op">=</span> <span class="va">wage_mean</span> <span class="op">+</span> <span class="va">wage_err</span><span class="op">)</span>, width <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">'Average salary in 2005'</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="main_files/figure-html/unnamed-chunk-367-1.png" width="672"></div>
</div>
</div>
<div id="relationship-between-two-continuous-variables" class="section level3 unnumbered">
<h3>Relationship between two continuous variables<a class="anchor" aria-label="anchor" href="#relationship-between-two-continuous-variables"><i class="fas fa-link"></i></a>
</h3>
<div id="covariance" class="section level4 unnumbered">
<h4>Covariance<a class="anchor" aria-label="anchor" href="#covariance"><i class="fas fa-link"></i></a>
</h4>
<p>So far we have discussed some techniques for looking at statistical relationships between one continuous variable (such as wage) and one categoric variable (such as salary). Under many circumstances, however, we would be interested in measuring the association between two continuous variables. In this part we will consider data on a sample of students with free variables: average weekly time spent studying, days a student has been home ill and achieved GPA.</p>
<div class="sourceCode" id="cb625"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="st">'data/scores.csv'</span><span class="op">)</span></span></code></pre></div>
<pre><code>Rows: 100 Columns: 3
 Column specification 
Delimiter: ","
dbl (3): study_time, days_ill, gpa

 Use `spec()` to retrieve the full column specification for this data.
 Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<p>We can examine pairwise relationships between the variables using the <code><a href="https://rdrr.io/r/graphics/pairs.html">pairs()</a></code> function, which is a useful tool when analyzing datasets with multiple continuous variables.</p>
<div class="sourceCode" id="cb627"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/pairs.html">pairs</a></span><span class="op">(</span><span class="va">scores</span>,upper.panel <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="main_files/figure-html/unnamed-chunk-369-1.png" width="672"></div>
<p>Lets start by interpreting this plot. The rectangles with variable tell as the name of the axis. For example, the plot in the lower left corner shows the relationship between the GPA (x axis) and study time (y axis). We can see that students in our sample who spent more time studying seem to have had higher grades - points higher on one axis tend to also be higher on the other. On the other hand, students who were ill more had, on average, achieved lower grades. There seems to be no relationship between being ill and time spent studying.</p>
<p>In statistical terms, this relationship can be measured with <em>covariance</em> between these two variables. Recall our discussion of <em>variance</em> in the <a href="exploratory.html#exploratory">exploratory analysis chapter</a>. We calculated it for vector x using <code>sum((x - mean(x))^2)/(length(x) - 1)</code>, or the <code>var(x)</code> function for short. Covariance is essentially the same, but calculated for two variables instead of one, using <code>sum((x - mean(x)) * mean((y - mean(y))))/(length(x) - 1)</code> or the <code>cov</code> function for short. You can see that demonstrated below:</p>
<div class="sourceCode" id="cb628"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cov_fun</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="op">(</span><span class="va">x</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="op">(</span><span class="va">y</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu">cov_fun</span><span class="op">(</span><span class="va">scores</span><span class="op">$</span><span class="va">gpa</span>, <span class="va">scores</span><span class="op">$</span><span class="va">study_time</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] 1.337834</code></pre>
<div class="sourceCode" id="cb630"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cov</a></span><span class="op">(</span><span class="va">scores</span><span class="op">$</span><span class="va">gpa</span>, <span class="va">scores</span><span class="op">$</span><span class="va">study_time</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] 1.337834</code></pre>
<p>The <em>variance</em> is actually nothing else but covariance of a variable with itself!</p>
<div class="sourceCode" id="cb632"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cov</a></span><span class="op">(</span><span class="va">scores</span><span class="op">$</span><span class="va">gpa</span>, <span class="va">scores</span><span class="op">$</span><span class="va">gpa</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html">var</a></span><span class="op">(</span><span class="va">scores</span><span class="op">$</span><span class="va">gpa</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] TRUE</code></pre>
<p>Essentially covariance measures the average of element-wise product of each observations deviation from its mean for two variables. This may sound complicated, but breaking it down makes it simple. In our two variables, <code>gpa</code> and <code>days_ill</code>, people who have grades higher than the average grade also tend to study longer than the average study time. So, if for all students we subtract the mean grade and mean study time from their respective grades and study times, the average of that will be positive.</p>
<div class="sourceCode" id="cb634"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cov</a></span><span class="op">(</span><span class="va">scores</span><span class="op">$</span><span class="va">gpa</span>, <span class="va">scores</span><span class="op">$</span><span class="va">study_time</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] 1.337834</code></pre>
<p>If, on the other hand people who have higher grades than average tend to have lower time spent ill at home than average, the average of the products of these demeaned (i.e.with the mean subtracted from each) variables will be negative, since the majority of the products will be negative.</p>
<div class="sourceCode" id="cb636"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cov</a></span><span class="op">(</span><span class="va">scores</span><span class="op">$</span><span class="va">gpa</span>, <span class="va">scores</span><span class="op">$</span><span class="va">days_ill</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] -11.16068</code></pre>
<p>Finally, if theres no relationship between two variables - for example between <code>days_ill</code> and <code>study_time</code>, we expect the average of the products of the demeaned variables to be close to 0, since around the same number will be positive and negative.</p>
<div class="sourceCode" id="cb638"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cov</a></span><span class="op">(</span><span class="va">scores</span><span class="op">$</span><span class="va">study_time</span>, <span class="va">scores</span><span class="op">$</span><span class="va">days_ill</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] 2.419399</code></pre>
<p>The last example seems to be incorrect? How is that possible that the covariance between <code>study_time</code> and <code>days_ill</code> is larger than the covariance between <code>study_time</code> and <code>gpa</code>, even though the plot suggests a much stronger relationship between the latter? We will explore this in the next section on correlation.</p>
</div>
<div id="correlation" class="section level4 unnumbered">
<h4>Correlation<a class="anchor" aria-label="anchor" href="#correlation"><i class="fas fa-link"></i></a>
</h4>
<p>The downside of covariance as a measure of relationship is that it is completely dependent on the units of the two variables measures, or, more percisely, the range of values they take. If we take covariance average time spent studying and GPA and compare it with the covariance between average time spent studying and time ill, the latter will be greater, simply because time is expressed in hours and days, with values ranging between 0.8 and 15.1 and 1 and 110 respectively, while GPA ranges between 1 and 5:</p>
<div class="sourceCode" id="cb640"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">vapply</a></span><span class="op">(</span><span class="va">scores</span>, <span class="va">range</span>, <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">numeric</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>     study_time days_ill  gpa
[1,]       1.42        4 1.33
[2,]      15.28      100 4.70</code></pre>
<p>So, the values we get by multiplying <code>study_time</code> and <code>days_ill</code> will tend to be higher in general. This makes the use of covariance problematic in estimating the objective strength of the relationship between two variables.</p>
<p>In order to avoid it, we use <em>correlation</em> instead. Correlation is simply covariance, but divided by the product of the standard deviation of each of the variables. Without going into the mathematical details, suffice to say that it <em>standardizes</em> the covariance, so that it ranges between -1 and 1, -1 meaning perfect negative relationship (i.e.when one variable increases, the other always decreases) and 1 meaning perfect positive relationship (when one variable increases, the other decreases). 0 means that theres no relationship between these variables.</p>
<p>We can see that again using R code. <code>cor_fun</code> is created for demonstration purposes, but the usual function used in R to obtain correlation is simply <code>cor</code>.</p>
<div class="sourceCode" id="cb642"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cor_fun</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="fu">cov_fun</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">cor_fun</span><span class="op">(</span><span class="va">scores</span><span class="op">$</span><span class="va">gpa</span>, <span class="va">scores</span><span class="op">$</span><span class="va">study_time</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] 0.5538811</code></pre>
<div class="sourceCode" id="cb644"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="va">scores</span><span class="op">$</span><span class="va">gpa</span>, <span class="va">scores</span><span class="op">$</span><span class="va">study_time</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] 0.5538811</code></pre>
<p>Now we can see, that the relationship between <code>study_time</code> and <code>days_ill</code> is indeed close to 0:</p>
<div class="sourceCode" id="cb646"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="va">scores</span><span class="op">$</span><span class="va">study_time</span>, <span class="va">scores</span><span class="op">$</span><span class="va">days_ill</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] 0.03523657</code></pre>
<p>We can also use <code>cor</code> on entire data frame to obtain the so-called correlation matrix, which shows pairwise relationships between two variables</p>
<div class="sourceCode" id="cb648"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="va">scores</span><span class="op">)</span></span></code></pre></div>
<pre><code>           study_time    days_ill        gpa
study_time 1.00000000  0.03523657  0.5538811
days_ill   0.03523657  1.00000000 -0.7001128
gpa        0.55388114 -0.70011285  1.0000000</code></pre>
<p>Note that the diagonal is always 1, i.e.the correlation of a variable with itself is always 1.</p>
<p>For obvious reasons, the function also wont work if applied to a data frame containing any text data:</p>
<div class="sourceCode" id="cb650"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="va">wages</span><span class="op">)</span></span></code></pre></div>
<p>To visualize pariswise relationships between two variables using a plot that is a bit more sophisticated that the one produced by <code><a href="https://rdrr.io/r/graphics/pairs.html">pairs()</a></code> we can use the <code>ggpairs</code> function from the <code>GGally</code> package, which produced a <code>ggplot</code> style plot, presenting correlations, density plots and scatter plots of all the numeric variables in our dataset:</p>
<div class="sourceCode" id="cb651"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggobi.github.io/ggally/">GGally</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggobi.github.io/ggally/reference/ggpairs.html">ggpairs</a></span><span class="op">(</span><span class="va">scores</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="main_files/figure-html/unnamed-chunk-380-1.png" width="672"></div>
</div>
</div>
<div id="further-details" class="section level3 unnumbered">
<h3>Further details<a class="anchor" aria-label="anchor" href="#further-details"><i class="fas fa-link"></i></a>
</h3>
<p>Here some more details on how the p-value is computed:</p>
<div class="sourceCode" id="cb652"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">err</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">wages</span><span class="op">$</span><span class="va">change</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">wages</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">tscore</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">wages</span><span class="op">$</span><span class="va">change</span><span class="op">)</span><span class="op">/</span><span class="va">err</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">wages</span><span class="op">$</span><span class="va">change</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/TDist.html">pt</a></span><span class="op">(</span><span class="va">tscore</span>, <span class="va">df</span>, lower.tail <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">*</span> <span class="fl">2</span></span></code></pre></div>
<pre><code>[1] 0.007687596</code></pre>
<div class="sourceCode" id="cb654"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/t.test.html">t.test</a></span><span class="op">(</span><span class="va">wages</span><span class="op">$</span><span class="va">change</span><span class="op">)</span></span></code></pre></div>
<pre><code>
    One Sample t-test

data:  wages$change
t = 2.7211, df = 99, p-value = 0.007688
alternative hypothesis: true mean is not equal to 0
95 percent confidence interval:
 0.004033511 0.025755527
sample estimates:
 mean of x 
0.01489452 </code></pre>
</div>
</div>
<div id="summary-6" class="section level2" number="8.2">
<h2>
<span class="header-section-number">8.2</span> Summary<a class="anchor" aria-label="anchor" href="#summary-6"><i class="fas fa-link"></i></a>
</h2>
<div id="functions-list-6" class="section level3 unnumbered">
<h3>Functions list<a class="anchor" aria-label="anchor" href="#functions-list-6"><i class="fas fa-link"></i></a>
</h3>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="10%">
<col width="18%">
<col width="70%">
</colgroup>
<thead><tr class="header">
<th align="left">function</th>
<th align="left">package</th>
<th align="left">description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">cov()</td>
<td align="left">c(pROC, package:stats)</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">var()</td>
<td align="left">c(pROC, package:stats)</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">length()</td>
<td align="left">base</td>
<td align="left">get number of elements in a vector or list</td>
</tr>
<tr class="even">
<td align="left">library()</td>
<td align="left">base</td>
<td align="left">load an R package</td>
</tr>
<tr class="odd">
<td align="left">mean()</td>
<td align="left">base</td>
<td align="left">get mean of a vector</td>
</tr>
<tr class="even">
<td align="left">nrow()</td>
<td align="left">base</td>
<td align="left">get number of rows of a data frame</td>
</tr>
<tr class="odd">
<td align="left">numeric()</td>
<td align="left">base</td>
<td align="left">initialize a numeric vector</td>
</tr>
<tr class="even">
<td align="left">sqrt()</td>
<td align="left">base</td>
<td align="left">square root</td>
</tr>
<tr class="odd">
<td align="left">sum()</td>
<td align="left">base</td>
<td align="left">get sum of numeric values or a vector</td>
</tr>
<tr class="even">
<td align="left">vapply()</td>
<td align="left">base</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">group_by()</td>
<td align="left">dplyr</td>
<td align="left">group tibble/data.frame by a factor variable. All further tidyverse operations are performed group-wise</td>
</tr>
<tr class="even">
<td align="left">mutate()</td>
<td align="left">dplyr</td>
<td align="left">modify/create a column in a data frame</td>
</tr>
<tr class="odd">
<td align="left">n()</td>
<td align="left">dplyr</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">summarise()</td>
<td align="left">dplyr</td>
<td align="left">collapse the dataset to a summary statistic. Usually used with group_by()</td>
</tr>
<tr class="odd">
<td align="left">ggpairs()</td>
<td align="left">GGally</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">aes()</td>
<td align="left">ggplot2</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">geom_col()</td>
<td align="left">ggplot2</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">geom_errorbar()</td>
<td align="left">ggplot2</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">ggplot()</td>
<td align="left">ggplot2</td>
<td align="left">Create a ggplot graph</td>
</tr>
<tr class="even">
<td align="left">labs()</td>
<td align="left">ggplot2</td>
<td align="left">Customise labels in GGPLOT2</td>
</tr>
<tr class="odd">
<td align="left">labs()</td>
<td align="left">ggplot2</td>
<td align="left">Add a vertical line in GGPLOT2</td>
</tr>
<tr class="even">
<td align="left">ylab()</td>
<td align="left">ggplot2</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">pairs()</td>
<td align="left">graphics</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">read_csv()</td>
<td align="left">readr</td>
<td align="left">read tibble from a csv file</td>
</tr>
<tr class="odd">
<td align="left">cor()</td>
<td align="left">stats</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">pt()</td>
<td align="left">stats</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">sd()</td>
<td align="left">stats</td>
<td align="left">Get standard deviation of a vector</td>
</tr>
<tr class="even">
<td align="left">t.test()</td>
<td align="left">stats</td>
<td align="left">NA</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div id="exercises-6" class="section level2" number="8.3">
<h2>
<span class="header-section-number">8.3</span> Exercises<a class="anchor" aria-label="anchor" href="#exercises-6"><i class="fas fa-link"></i></a>
</h2>
<ol style="list-style-type: decimal">
<li><p>Write a function to compute correlation for just the numeric variables in any data frame. Test it on the <code>wages</code> data.</p></li>
<li><p>Why is the correlation of a variable with itself always equal to 1? Write R code to demonstrate this.</p></li>
</ol>
<p>For the remainder of the exercises, come back to the <code>Salaries</code> data we used in the previous chapter:</p>
<ol start="3" style="list-style-type: decimal">
<li>Using correlation, examine which relationship is stronger - the one between years since PhD and salary or the one between years in service and salary.</li>
</ol>
<div class="sourceCode" id="cb656"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#ANSWER</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="va">Salaries</span><span class="op">$</span><span class="va">salary</span>, <span class="va">Salaries</span><span class="op">$</span><span class="va">yrs.since.phd</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] 0.4192311</code></pre>
<div class="sourceCode" id="cb658"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="va">Salaries</span><span class="op">$</span><span class="va">salary</span>, <span class="va">Salaries</span><span class="op">$</span><span class="va">yrs.service</span><span class="op">)</span></span></code></pre></div>
<pre><code>[1] 0.3347447</code></pre>
<div class="sourceCode" id="cb660"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#the relationship between years since PhD and salary appears to be stronger</span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Use t-tests to check whether we can confirm or reject the following hypothesis, based on the sample in the <code>Salaries</code> dataset.</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li><p>Theres no difference between the salary of Male and Female professors.</p></li>
<li><p>Theres no difference between the salary of professors from the applied and theoretical department.</p></li>
<li><p>The average salary is not different from 100 000 USD.</p></li>
</ol>
<ol start="5" style="list-style-type: decimal">
<li>Recall the plot produced towards the end of the previous chapter depicting the average salary by age group and academic discipline. Produce the same plot, but this time include error bars depicting the confidence intervals around each of the means. The code to produce the table used in the last exercises is below. Note that you need to modify it (by computing the standard errors) before plotting the data. Remeber about adding appropriate labels to the plot.</li>
</ol>
<div class="sourceCode" id="cb661"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">byage</span> <span class="op">&lt;-</span> <span class="va">Salaries</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>yrs_range <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/cut_interval.html">cut_width</a></span><span class="op">(</span><span class="va">yrs.since.phd</span>, <span class="fl">5</span>, boundary <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">yrs_range</span>, <span class="va">discipline</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>avg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">salary</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code>`summarise()` has grouped output by 'yrs_range'. You can override using the `.groups` argument.</code></pre>
<ol start="6" style="list-style-type: decimal">
<li>Examine the correlation between years since phd and average salary in each of the groups defined in the data.</li>
</ol>
<p><em>The solutions for the exercises will be available here on 2021-02-18.</em></p>
<button class="btn btn-default" onclick="
    async function downloadFile(event) {
      event.preventDefault();
      try {
        const response = await fetch('data:text/plain;base64,IycgIyMgRXhlcmNpc2VzCiMnIAojJyAxLiBXcml0ZSBhIGZ1bmN0aW9uIHRvIGNvbXB1dGUgY29ycmVsYXRpb24gZm9yIGp1c3QgdGhlIG51bWVyaWMgdmFyaWFibGVzIGluIGFueSBkYXRhIGZyYW1lLiBUZXN0IGl0IG9uIHRoZSBgd2FnZXNgIGRhdGEuCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KI0FOU1dFUgpjb3JfYW55ZGYgPC0gZnVuY3Rpb24oZGYpIHsKICBjb3IoZGZbLHNhcHBseShkZiwgZnVuY3Rpb24oeCkgaXMubnVtZXJpYyh4KSldKQp9Cgpjb3JfYW55ZGYod2FnZXMpCgojJyAKIycgCiMnIDIuIFdoeSBpcyB0aGUgY29ycmVsYXRpb24gb2YgYSB2YXJpYWJsZSB3aXRoIGl0c2VsZiBhbHdheXMgZXF1YWwgdG8gMT8gV3JpdGUgUiBjb2RlIHRvIGRlbW9uc3RyYXRlIHRoaXMuCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KI0FOU1dFUgoKI3RoaXMgaXMgYmVjYXVzZSB0aGUgY292YXJpYW5jZSBvZiB0aGUgdmFyaWFibGUgd2l0aCBpdHNlbGYgaXMgaXRzIHZhcmlhbmNlLiBUaGUgZGVub21pbmF0b3Igb2YgY29ycmVsYXRpb24gY29udGFpbnMgdGhlIHN0YW5kYXJkIGRldmlhdGlvbiBvZiBvbmUgdmFyaWFibGUgdGltZXMgdGhlIG90aGVyLCBzbyBpbiB0aGlzIGNhc2UgLSBzdGFuZGFyZCBkZXZpYXRpb24gb2YgdGhlIHNhbWUgdmFyaWFibGUgc3F1YXJlZC4gQXMgYSByZXN1bHQ6CnggPC0gYygxLCA1LCA4NywgMywgNCwgNSkKY29yKHgsIHgpCmNvdih4LCB4KS8oc2QoeCkgKiBzZCh4KSkKdmFyKHgpLyhzZCh4KSAqIHNkKHgpKQp2YXIoeCkvdmFyKHgpIAoKIycgCiMnIAojJyBGb3IgdGhlIHJlbWFpbmRlciBvZiB0aGUgZXhlcmNpc2VzLCBjb21lIGJhY2sgdG8gdGhlIGBTYWxhcmllc2AgZGF0YSB3ZSB1c2VkIGluIHRoZSBwcmV2aW91cyBjaGFwdGVyOgojJyAKIyMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmRhdGEoU2FsYXJpZXMsIHBhY2thZ2UgPSAnY2FyRGF0YScpCgojJyAKIycgMy4gVXNpbmcgY29ycmVsYXRpb24sIGV4YW1pbmUgd2hpY2ggcmVsYXRpb25zaGlwIGlzIHN0cm9uZ2VyIC0gdGhlIG9uZSBiZXR3ZWVuIHllYXJzIHNpbmNlIFBoRCBhbmQgc2FsYXJ5IG9yIHRoZSBvbmUgYmV0d2VlbiB5ZWFycyBpbiBzZXJ2aWNlIGFuZCBzYWxhcnkuCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KI0FOU1dFUgpjb3IoU2FsYXJpZXMkc2FsYXJ5LCBTYWxhcmllcyR5cnMuc2luY2UucGhkKQpjb3IoU2FsYXJpZXMkc2FsYXJ5LCBTYWxhcmllcyR5cnMuc2VydmljZSkKI3RoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiB5ZWFycyBzaW5jZSBQaEQgYW5kIHNhbGFyeSBhcHBlYXJzIHRvIGJlIHN0cm9uZ2VyCgojJyAKIycgCiMnIDQuIFVzZSB0LXRlc3RzIHRvIGNoZWNrIHdoZXRoZXIgd2UgY2FuIGNvbmZpcm0gb3IgcmVqZWN0IHRoZSBmb2xsb3dpbmcgaHlwb3RoZXNpcywgYmFzZWQgb24gdGhlIHNhbXBsZSBpbiB0aGUgYFNhbGFyaWVzYCBkYXRhc2V0LgojJyAKIycgICBhLiBUaGVyZSdzIG5vIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgc2FsYXJ5IG9mIE1hbGUgYW5kIEZlbWFsZSBwcm9mZXNzb3JzLgojJyAgIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KI0FOU1dFUgp0LnRlc3Qoc2FsYXJ5IH4gc2V4LCBkYXRhID0gU2FsYXJpZXMpCgojJyAgIAojJyAgIAojJyAgIGIuIFRoZXJlJ3Mgbm8gZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBzYWxhcnkgb2YgcHJvZmVzc29ycyBmcm9tIHRoZSBhcHBsaWVkIGFuZCB0aGVvcmV0aWNhbCBkZXBhcnRtZW50LgojJyAgIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KI0FOU1dFUgp0LnRlc3Qoc2FsYXJ5IH4gZGlzY2lwbGluZSwgZGF0YSA9IFNhbGFyaWVzKQoKIycgICAKIycgICBjLiBUaGUgYXZlcmFnZSBzYWxhcnkgaXMgbm90IGRpZmZlcmVudCBmcm9tIDEwMCAwMDAgVVNELgojJyAgIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KI0FOU1dFUgp0LnRlc3QoU2FsYXJpZXMkc2FsYXJ5IC0gMTAwMDAwKQojb3IKdC50ZXN0KFNhbGFyaWVzJHNhbGFyeSwgbXUgPSAxMDAwMDApCgojJyAKIycgNS4gUmVjYWxsIHRoZSBwbG90IHByb2R1Y2VkIHRvd2FyZHMgdGhlIGVuZCBvZiB0aGUgcHJldmlvdXMgY2hhcHRlciBkZXBpY3RpbmcgdGhlIGF2ZXJhZ2Ugc2FsYXJ5IGJ5IGFnZSBncm91cCBhbmQgYWNhZGVtaWMgZGlzY2lwbGluZS4gUHJvZHVjZSB0aGUgc2FtZSBwbG90LCBidXQgdGhpcyB0aW1lIGluY2x1ZGUgZXJyb3IgYmFycyBkZXBpY3RpbmcgdGhlIGNvbmZpZGVuY2UgaW50ZXJ2YWxzIGFyb3VuZCBlYWNoIG9mIHRoZSBtZWFucy4gVGhlIGNvZGUgdG8gcHJvZHVjZSB0aGUgdGFibGUgdXNlZCBpbiB0aGUgbGFzdCBleGVyY2lzZXMgaXMgYmVsb3cuIE5vdGUgdGhhdCB5b3UgbmVlZCB0byBtb2RpZnkgaXQgKGJ5IGNvbXB1dGluZyB0aGUgc3RhbmRhcmQgZXJyb3JzKSBiZWZvcmUgcGxvdHRpbmcgdGhlIGRhdGEuIFJlbWViZXIgYWJvdXQgYWRkaW5nIGFwcHJvcHJpYXRlIGxhYmVscyB0byB0aGUgcGxvdC4KIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpieWFnZSA8LSBTYWxhcmllcyAlPiUKICBtdXRhdGUoeXJzX3JhbmdlID0gY3V0X3dpZHRoKHlycy5zaW5jZS5waGQsIDUsIGJvdW5kYXJ5ID0gNSkpICU+JQogIGdyb3VwX2J5KHlyc19yYW5nZSwgZGlzY2lwbGluZSkgJT4lCiAgc3VtbWFyaXNlKGF2ZyA9IG1lYW4oc2FsYXJ5LCBuYS5ybSA9IFRSVUUpKSAlPiUKICB1bmdyb3VwKCkKCiMnIAojIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KI0FOU1dFUgpieWFnZSA8LSBTYWxhcmllcyAlPiUKICBtdXRhdGUoeXJzX3JhbmdlID0gY3V0X3dpZHRoKHlycy5zaW5jZS5waGQsIDUsIGJvdW5kYXJ5ID0gNSkpICU+JQogIGdyb3VwX2J5KHlyc19yYW5nZSwgZGlzY2lwbGluZSkgJT4lCiAgc3VtbWFyaXNlKGF2ZyA9IG1lYW4oc2FsYXJ5LCBuYS5ybSA9IFRSVUUpLAogICAgICAgICAgICBlcnIgPSBzZChzYWxhcnksIG5hLnJtID0gVFJVRSkvc3FydChuKCkpKSAlPiUKICB1bmdyb3VwKCkKZ2dwbG90KGJ5YWdlLCBhZXMoeCA9IHlyc19yYW5nZSwgeSA9IGF2ZywgCiAgICAgICAgICAgICAgICAgIGNvbG9yID0gZGlzY2lwbGluZSwgZ3JvdXAgPSBkaXNjaXBsaW5lKSkgKyAKICBnZW9tX3BvaW50KCkgKyAKICBnZW9tX2xpbmUoKSArIAogIGdlb21fZXJyb3JiYXIoYWVzKHltaW4gPSBhdmcgLSAxLjk2ICogZXJyLCAKICAgICAgICAgICAgICAgICAgICB5bWF4ID0gYXZnICsgMS45NiAqIGVyciksIHdpZHRoID0gMC4zKSArCiAgdGhlbWVfYncoKSArIAogIHRoZW1lKGF4aXMudGV4dC54ID0gZWxlbWVudF90ZXh0KGFuZ2xlID0gNDUsIHZqdXN0ID0gMC45LCBoanVzdCA9IDAuOSkpICsKICBsYWJzKHkgPSAnQXZlcmFnZSBTYWxhcnknLCB4ID0gJ1llYXJzIHNpbmNlIFBoRCcpCgojJyAKIycgCiMnIDYuIEV4YW1pbmUgdGhlIGNvcnJlbGF0aW9uIGJldHdlZW4geWVhcnMgc2luY2UgcGhkIGFuZCBhdmVyYWdlIHNhbGFyeSBpbiBlYWNoIG9mIHRoZSBncm91cHMgZGVmaW5lZCBpbiB0aGUgZGF0YS4KIycgCiMjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojQU5TV0VSCgojJyAKIycgCiMnICpUaGUgc29sdXRpb25zIGZvciB0aGUgZXhlcmNpc2VzIHdpbGwgYmUgYXZhaWxhYmxlIGhlcmUgb24gYHIgY29uZmlnJHN0YXRpc3RpY2FsX2Fzc29jaWF0aW9uYC4qCiMnIAojJyAKAA==');
        if (!response.ok) throw new Error('Network response failed');
        const blob = await response.blob();
        const blobUrl = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = blobUrl;
        a.download = '08-statistical_association-solutions.R';
        a.style.display = 'none';
        document.body.appendChild(a);
        a.dispatchEvent(new MouseEvent('click'));
        document.body.removeChild(a);
        setTimeout(() =&gt; {
          window.URL.revokeObjectURL(blobUrl);
        }, 100);
        return false;
      } catch (error) {
        console.error('Download failed:', error);
        alert('Download failed. Please try again.');
      }
    }
    downloadFile(event);
  "><i class="fa fa-save"></i> Chapter solutions</button>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="visualization.html"><span class="header-section-number">7</span> Data Visualization</a></div>
<div class="next"><a href="ols.html"><span class="header-section-number">9</span> Linear Regression</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#association"><span class="header-section-number">8</span> Statistical Inference and Association</a></li>
<li>
<a class="nav-link" href="#content-6"><span class="header-section-number">8.1</span> Content</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#comparing-means">Comparing means</a></li>
<li><a class="nav-link" href="#relationship-between-two-continuous-variables">Relationship between two continuous variables</a></li>
<li><a class="nav-link" href="#further-details">Further details</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#summary-6"><span class="header-section-number">8.2</span> Summary</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#functions-list-6">Functions list</a></li></ul>
</li>
<li><a class="nav-link" href="#exercises-6"><span class="header-section-number">8.3</span> Exercises</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong><p><img src="images/Crest_white.png" width="75" style="display:block; margin:auto; margin-bottom:3em;"> Analysing Quantitative Data with R <br></p></strong>" was written by </p>
<p><strong>Dr Flo Reiche &amp; Piotr Bogdanski</strong> <br><strong>Department of Politics and International Studies</strong> <br><strong>University of Warwick</strong></p>. It was last built on 23 August, 2025.
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
